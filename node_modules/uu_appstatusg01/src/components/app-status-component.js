"use strict";
const AppStatusCounter = require("./app-status-counter.js")

class AppStatusComponent {
  constructor() {
  }

  async record(resData) {
    let { uuId, systemId, awid, ucName, errorCode, statusCode, reqTime } = resData;
    AppStatusCounter.calcTotalCalls(statusCode, reqTime);
    awid && AppStatusCounter.calcAwidMapByAwid(awid, statusCode, reqTime)
    ucName && AppStatusCounter.calcUuCmdMapByUc(ucName, statusCode, reqTime);
    errorCode && AppStatusCounter.incrUuAppErrorCodeMapByErrorCode(errorCode);
    statusCode && AppStatusCounter.incrHttpStatusCodeMapByStatusCode(statusCode);
    uuId && AppStatusCounter.incrUuIdentityMapByUuId(uuId);
    systemId && AppStatusCounter.incrUuSystemIdentityMapByAwid(systemId);
  }
}

module.exports = new AppStatusComponent();

/*!
 * uu5g04 library with basic visual components
 * Copyright (C) 2021 Unicorn a.s.
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see Licenses - GNU Project <https://gnu.org/licenses/>.
 */
if (typeof Uu5Loader !== "undefined" && Uu5Loader || typeof SystemJS !== "undefined" && SystemJS) {
  (function() {
    // try to auto-configure Uu5Loader loader regarding "uu5g05" in case that application
    // was deployed with older version of uu5g04 (which didn't depend on uu5g05 yet)
    // using Uu5Loader or SystemJS
    var doConfig, resolve;
    if (typeof Uu5Loader !== "undefined" && Uu5Loader) {
      doConfig = function (imports) { Uu5Loader.config({ imports: imports }); };
      resolve = Uu5Loader.resolve;
    } else {
      doConfig = function (imports) { SystemJS.config({ paths: imports }); };
      resolve = function (name) {
        var result = SystemJS.normalizeSync(name);
        return result.slice(-name.length - 1) === "/" + name ? null : result;
      };
    }
    var uu5g05Uri = resolve("uu5g05");
    var isIE = navigator.userAgent.match(/trident/i);
    if (!uu5g05Uri || isIE) {
      var myUri = resolve("uu5g04");
      if (myUri) {
        var minSuffix = myUri.match(/\.min\.js(\?|$)/) ? ".min" : "";
        if (!uu5g05Uri) {
          var env = typeof uu5Environment !== "undefined" ? uu5Environment || {} : typeof UU5 !== "undefined" ? (UU5.Environment || {}) : {};
          var cdnBaseUri = (env.cdnBaseUri || "https://cdn.plus4u.net").replace(/\/*$/, "");
          doConfig({
            "uu5g05": cdnBaseUri + "/uu-uu5g05/1.0.0/uu5g05" + minSuffix + ".js"
          });
          var uu5stringg01Uri = resolve("uu5stringg01");
          if (!uu5stringg01Uri) {
            doConfig({
              "uu5stringg01": cdnBaseUri + "/uu-uu5stringg01/1.0.0/uu5stringg01" + minSuffix + ".js"
            });
          }
        }
        if (isIE && !Array.prototype.find) {
          // load polyfills for IE
          var baseUri = myUri.replace(/\/[^/?]*(\?.*)?$/, "/");
          var origDefine = typeof define !== "undefined" ? define : undefined;
          var origRequire = typeof require !== "undefined" ? require : undefined;
          window.define = undefined;
          window.require = undefined;
          var url = baseUri + "uu5g04-polyfills" + minSuffix + ".js";
          var xhr = new XMLHttpRequest();
          xhr.onload = function () {
            // eval in global scope
            if (this.status === 200) (0, eval)(this.responseText);
            else console.error("Polyfills failed to load from " + url);
          };
          xhr.open("GET", url, false);
          xhr.send();
          window.define = origDefine;
          window.require = origRequire;
        }
      }
    }
  })();
}
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("module"), require("react"), require("react-dom"), require("prop-types"), require("uu5g05"), require("create-react-class"));
	else if(typeof define === 'function' && define.amd)
		define("uu5g04", ["module", "react", "react-dom", "prop-types", "uu5g05", "create-react-class"], factory);
	else if(typeof exports === 'object')
		exports["uu5g04"] = factory(require("module"), require("react"), require("react-dom"), require("prop-types"), require("uu5g05"), require("create-react-class"));
	else
		root["UU5"] = factory(root["undefined"], root["React"], root["ReactDOM"], root["PropTypes"], root["Uu5g05"], root["createReactClass"]);
})(window, function(__WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__5__, __WEBPACK_EXTERNAL_MODULE__6__, __WEBPACK_EXTERNAL_MODULE__7__, __WEBPACK_EXTERNAL_MODULE__10__, __WEBPACK_EXTERNAL_MODULE__67__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(1);


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

var mod = __webpack_require__(2);

var isDoc = typeof document !== "undefined";
var uri = ((mod ? mod.uri : isDoc && (document.currentScript || Array.prototype.slice.call(document.getElementsByTagName("script"), -1)[0] || {}).src) || "").toString();
uri = uri.split(/\//).slice(0, -1).join("/") + "/"; // runtime publicPath configuration required for proper linking of styles, background images, ...

var floatingVersion = "/1.0.0/";
if (uri.substr(-floatingVersion.length) === floatingVersion) uri = uri.substr(0, uri.length - floatingVersion.length) + "/1.51.4/";
__webpack_require__.p = uri;
module.exports = __webpack_require__(3);
var ex = module.exports;

if (ex && _typeof(ex) === "object") {
  if (!("version" in ex)) ex.version = "1.51.4";
  if (!("name" in ex)) ex.name = "uu5g04".split(/[\/\\]/).pop();
  if (!("namespace" in ex)) ex.namespace = "UU5";
}

/***/ }),
/* 2 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__2__;

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core_startup_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var _core_exports_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(51);
/* harmony import */ var _core_exports_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_core_exports_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _core_exports_js__WEBPACK_IMPORTED_MODULE_1__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _core_exports_js__WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */



var UU5 = window.UU5 || {};
Object.defineProperties(UU5, Object.getOwnPropertyDescriptors(_core_exports_js__WEBPACK_IMPORTED_MODULE_1__));
window.UU5 = UU5; // for backward compatibility; otherwise we should do just `export default Exports;`

/* harmony default export */ __webpack_exports__["default"] = (UU5);

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _environment_environment_startup_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);
/* harmony import */ var _common_common_startup_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(31);
/* harmony import */ var _uu5g05_integration_nesting_level_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(47);
/* harmony import */ var _uu5g05_integration_use_dynamic_library_component_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26);
/* harmony import */ var _uu5g05_integration_use_language_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(49);
/* harmony import */ var _uu5g05_integration_use_level_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(50);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(11);
/**
 * Copyright (C) 2019 Unicorn a.s.
 *
 * This program is free software; you can use it under the terms of the UAF Open License v01 or
 * any later version. The text of the license is available in the file LICENSE or at www.unicorn.com.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
 * the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See LICENSE for more details.
 *
 * You may contact Unicorn a.s. at address: V Kapslovne 2767/2, Praha 3, Czech Republic or
 * at the email: info@unicorn.com.
 *
 */

/* eslint-disable uu5/import-order */

 // optimization for better boot speed (otherwise loader would wait until "hidden" uu5g05 gets loaded and only then it would start downloading react-dom)

 // optimization for better boot speed (otherwise loader would wait until "hidden" uu5g05 gets loaded and only then it would start downloading prop-types)


 // run also all uu5g05-integration JS files that modify behaviour of uu5g05






if (true) console.log(_environment_environment_js__WEBPACK_IMPORTED_MODULE_9__["default"].licence);

if (!react__WEBPACK_IMPORTED_MODULE_0___default.a.lazy || !react__WEBPACK_IMPORTED_MODULE_0___default.a.Suspense) {
  console.warn("For full functionality of ".concat("uu5g04", " use React version >= 16.6.0. In-page React version: ").concat(react__WEBPACK_IMPORTED_MODULE_0___default.a.version));
}

/***/ }),
/* 5 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__5__;

/***/ }),
/* 6 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__6__;

/***/ }),
/* 7 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__7__;

/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _uu5g05_integration_environment_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9);
/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _common_tools_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _icon_manager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(27);
/* harmony import */ var _common_event_listener_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(28);
/* harmony import */ var _speech_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(29);
/* harmony import */ var _common_common_lsi_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(30);
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */






 // merge environment settings from global variable into our defaults

if (_uu5g05_integration_environment_js__WEBPACK_IMPORTED_MODULE_0__["default"]) {
  var _window$UU, _window$UU$Environmen;

  var iconLibraries = _environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].iconLibraries;
  _common_tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].extend(_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"], _uu5g05_integration_environment_js__WEBPACK_IMPORTED_MODULE_0__["default"]); // copy property descriptors (which ensure that changing g04 Environment gets propagated to g05 and vice versa)

  var _iterator = _createForOfIteratorHelper(Object.getOwnPropertyNames(_uu5g05_integration_environment_js__WEBPACK_IMPORTED_MODULE_0__["default"])),
      _step;

  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var _k = _step.value;
      var desc = Object.getOwnPropertyDescriptor(_uu5g05_integration_environment_js__WEBPACK_IMPORTED_MODULE_0__["default"], _k);
      Object.defineProperty(_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"], _k, desc);
    } // some settings are to be taken from g04 instead of g05 - propagate them to g05

  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }

  var finalIconLibraries = _objectSpread(_objectSpread(_objectSpread({}, _environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].iconLibraries), iconLibraries), (_window$UU = window.UU5) === null || _window$UU === void 0 ? void 0 : (_window$UU$Environmen = _window$UU.Environment) === null || _window$UU$Environmen === void 0 ? void 0 : _window$UU$Environmen.iconLibraries);

  for (var k in finalIconLibraries) {
    _environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].iconLibraries[k] = finalIconLibraries[k];
  }
}

_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].IconManager = new _icon_manager_js__WEBPACK_IMPORTED_MODULE_3__["default"](_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].iconLibraries);
_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].EventListener = new _common_event_listener_js__WEBPACK_IMPORTED_MODULE_4__["default"]();
_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].Speech = new _speech_js__WEBPACK_IMPORTED_MODULE_5__["default"]();
_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].Lsi.Common = _common_common_lsi_js__WEBPACK_IMPORTED_MODULE_6__["default"];

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapEnvironment", function() { return mapEnvironment; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
var _Environment$_constan;

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var adaptedG04Environment = {}; // TODO Remove Environment._constants checks after there are no production apps using uu5g05 < 1.0.0.
// copy g05 environment settings to legacy names used by g04

var boolRevertKeys = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]._constants ? ["useLibraryRegistry", "allowStatistics", "textEntityReplace"] : [];
var keysWritableToEnvDirectly = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]._constants ? ["uu5DataMap"] : [];

function mapEnvironment(g04Env, g04Key, g05Env, g05EnvConstants, g05FullKey) {
  var usedG05Env = keysWritableToEnvDirectly.includes(g04Key) ? g05Env : g05EnvConstants || g05Env;
  var g05Key = usedG05Env === g05Env ? g05FullKey : g05FullKey.replace(/^[^_]+_/, "");
  var g04ValueSet;
  var g04Value;
  Object.defineProperty(g04Env, g04Key, {
    enumerable: true,
    configurable: true,
    get: function get() {
      if (g04ValueSet) return g04Value;
      return boolRevertKeys.includes(g04Key) ? !usedG05Env[g05Key] : usedG05Env[g05Key];
    },
    set: function set(v) {
      if (uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]._constants) {
        // uu5g05 >= 0.16.0 (Environment is not writable, except for some keys)
        if (keysWritableToEnvDirectly.includes(g04Key)) {
          usedG05Env[g05Key] = boolRevertKeys.includes(g04Key) ? !v : v;
        } else {
          g04ValueSet = true;
          g04Value = v;
        }
      } else {
        // uu5g05 < 0.16.0 (Environment is writable)
        usedG05Env[g05Key] = boolRevertKeys.includes(g04Key) ? !v : v;
      }
    }
  });
}

var G04_RENAME_MAP = ((_Environment$_constan = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]._constants) === null || _Environment$_constan === void 0 ? void 0 : _Environment$_constan.G04_RENAME_MAP) || uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]._G04_RENAME_MAP; // g04 => g05 environment names (e.g. "COMPONENT_RENDER_UVE" => "componentRenderUri")

var G05_RENAME_MAP = Object.keys(G04_RENAME_MAP).reduce(function (r, k) {
  return r[G04_RENAME_MAP[k]] = k, r;
}, {}); // g05 => g04

if (uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]._constants) {
  if (uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]._constants.default) {
    for (var k in uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]._constants.default) {
      adaptedG04Environment[k] = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]._constants.default[k];
    }
  }

  for (var _k in G05_RENAME_MAP) {
    mapEnvironment(adaptedG04Environment, G05_RENAME_MAP[_k] || _k, uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"], uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]._constants, _k);
  }
}

for (var _k2 in uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]) {
  mapEnvironment(adaptedG04Environment, G05_RENAME_MAP[_k2] || _k2, uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"], uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]._constants, _k2);
}

if (uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]._constants) {
  adaptedG04Environment.showProductionWarning = ["debug", "info", "warn"].includes(uu5g05__WEBPACK_IMPORTED_MODULE_0__["Environment"]._constants.logLevel);
} // NOTE Environment.statisticsLogLibrariesUri has no direct mapping into g04 and is therefore
// handled directly in statistics.js.



/* harmony default export */ __webpack_exports__["default"] = (adaptedG04Environment);

/***/ }),
/* 10 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__10__;

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Environment", function() { return Environment; });
/* harmony import */ var module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);
/* harmony import */ var module__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(module__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _document_manager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12);
/* harmony import */ var _time_manager_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(13);
/* harmony import */ var _colors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(14);
/* harmony import */ var _statistics_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(15);
/* harmony import */ var _uu5g05_integration_environment_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(9);
var _templateObject,
    _this = undefined;

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */







var uu5BaseUrl;

if ((_uu5g05_integration_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"] === null || _uu5g05_integration_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"] === void 0 ? void 0 : _uu5g05_integration_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"].basePath) === "string") {
  var basePath = _uu5g05_integration_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"].basePath;
  uu5BaseUrl = basePath ? basePath.replace(/\/*$/, "/") : "./";
} else {
  var uri = ((module__WEBPACK_IMPORTED_MODULE_0___default.a ? module__WEBPACK_IMPORTED_MODULE_0___default.a.uri : (document.currentScript || Array.prototype.slice.call(document.getElementsByTagName("script"), -1)[0] || {}).src) || "").toString();
  uu5BaseUrl = uri ? uri.replace(/^(.*\/).*/, "$1") : "./";
}

var cdnBaseUri = _uu5g05_integration_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"].cdnBaseUri;
if (!cdnBaseUri) cdnBaseUri = "https://cdn.plus4u.net/";else if (cdnBaseUri.charAt(cdnBaseUri.length - 1) !== "/") cdnBaseUri += "/";
_uu5g05_integration_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"].cdnBaseUri = cdnBaseUri;
var Environment = {
  name: "uu5g04",
  mode: "development",
  version: "1.51.4",
  licence: "uu5g04-".concat("1.51.4", " \xA9 Unicorn\nTerms of Use: https://unicorn.com/tou/uu5g04"),
  basePath: uu5BaseUrl,
  nestingLevelList: ["spa", "page", "container", "bigBoxCollection", "bigBox", "boxCollection", "box", "smallBoxCollection", "smallBox", "inline"],
  nestingLevelStrict: false,
  showProductionWarning: false,
  colorSchemaMap: {
    default: {
      color: "default"
    },
    primary: {
      color: "blue-rich",
      src: uu5BaseUrl + "assets/color-schema/blue-rich".concat( false ? undefined : "", ".css")
    },
    success: {
      color: "green",
      src: uu5BaseUrl + "assets/color-schema/green".concat( false ? undefined : "", ".css")
    },
    info: {
      color: "blue",
      src: uu5BaseUrl + "assets/color-schema/blue".concat( false ? undefined : "", ".css")
    },
    warning: {
      color: "orange",
      src: uu5BaseUrl + "assets/color-schema/orange".concat( false ? undefined : "", ".css")
    },
    danger: {
      color: "red",
      src: uu5BaseUrl + "assets/color-schema/red".concat( false ? undefined : "", ".css")
    },
    yellow: {
      color: "yellow",
      src: uu5BaseUrl + "assets/color-schema/yellow".concat( false ? undefined : "", ".css")
    },
    "yellow-rich": {
      color: "yellow-rich",
      src: uu5BaseUrl + "assets/color-schema/yellow-rich".concat( false ? undefined : "", ".css")
    },
    orange: {
      color: "orange",
      src: uu5BaseUrl + "assets/color-schema/orange".concat( false ? undefined : "", ".css")
    },
    "orange-rich": {
      color: "orange-rich",
      src: uu5BaseUrl + "assets/color-schema/orange-rich".concat( false ? undefined : "", ".css")
    },
    pink: {
      color: "pink",
      src: uu5BaseUrl + "assets/color-schema/pink".concat( false ? undefined : "", ".css")
    },
    "pink-rich": {
      color: "pink-rich",
      src: uu5BaseUrl + "assets/color-schema/pink-rich".concat( false ? undefined : "", ".css")
    },
    red: {
      color: "red",
      src: uu5BaseUrl + "assets/color-schema/red".concat( false ? undefined : "", ".css")
    },
    "red-rich": {
      color: "red-rich",
      src: uu5BaseUrl + "assets/color-schema/red-rich".concat( false ? undefined : "", ".css")
    },
    purple: {
      color: "purple",
      src: uu5BaseUrl + "assets/color-schema/purple".concat( false ? undefined : "", ".css")
    },
    "purple-rich": {
      color: "purple-rich",
      src: uu5BaseUrl + "assets/color-schema/purple-rich".concat( false ? undefined : "", ".css")
    },
    cyan: {
      color: "cyan",
      src: uu5BaseUrl + "assets/color-schema/cyan".concat( false ? undefined : "", ".css")
    },
    "cyan-rich": {
      color: "cyan-rich",
      src: uu5BaseUrl + "assets/color-schema/cyan-rich".concat( false ? undefined : "", ".css")
    },
    blue: {
      color: "blue",
      src: uu5BaseUrl + "assets/color-schema/blue".concat( false ? undefined : "", ".css")
    },
    "blue-rich": {
      color: "blue-rich",
      src: uu5BaseUrl + "assets/color-schema/blue-rich".concat( false ? undefined : "", ".css")
    },
    green: {
      color: "green",
      src: uu5BaseUrl + "assets/color-schema/green".concat( false ? undefined : "", ".css")
    },
    "green-rich": {
      color: "green-rich",
      src: uu5BaseUrl + "assets/color-schema/green-rich".concat( false ? undefined : "", ".css")
    },
    brown: {
      color: "brown",
      src: uu5BaseUrl + "assets/color-schema/brown".concat( false ? undefined : "", ".css")
    },
    "brown-rich": {
      color: "brown-rich",
      src: uu5BaseUrl + "assets/color-schema/brown-rich".concat( false ? undefined : "", ".css")
    },
    amber: {
      color: "amber",
      src: uu5BaseUrl + "assets/color-schema/amber".concat( false ? undefined : "", ".css")
    },
    "amber-rich": {
      color: "amber-rich",
      src: uu5BaseUrl + "assets/color-schema/amber-rich".concat( false ? undefined : "", ".css")
    },
    "deep-orange": {
      color: "deep-orange",
      src: uu5BaseUrl + "assets/color-schema/deep-orange".concat( false ? undefined : "", ".css")
    },
    "deep-orange-rich": {
      color: "deep-orange-rich",
      src: uu5BaseUrl + "assets/color-schema/deep-orange-rich".concat( false ? undefined : "", ".css")
    },
    "deep-purple": {
      color: "deep-purple",
      src: uu5BaseUrl + "assets/color-schema/deep-purple".concat( false ? undefined : "", ".css")
    },
    "deep-purple-rich": {
      color: "deep-purple-rich",
      src: uu5BaseUrl + "assets/color-schema/deep-purple-rich".concat( false ? undefined : "", ".css")
    },
    indigo: {
      color: "indigo",
      src: uu5BaseUrl + "assets/color-schema/indigo".concat( false ? undefined : "", ".css")
    },
    "indigo-rich": {
      color: "indigo-rich",
      src: uu5BaseUrl + "assets/color-schema/indigo-rich".concat( false ? undefined : "", ".css")
    },
    teal: {
      color: "teal",
      src: uu5BaseUrl + "assets/color-schema/teal".concat( false ? undefined : "", ".css")
    },
    "teal-rich": {
      color: "teal-rich",
      src: uu5BaseUrl + "assets/color-schema/teal-rich".concat( false ? undefined : "", ".css")
    },
    "light-green": {
      color: "light-green",
      src: uu5BaseUrl + "assets/color-schema/light-green".concat( false ? undefined : "", ".css")
    },
    "light-green-rich": {
      color: "light-green-rich",
      src: uu5BaseUrl + "assets/color-schema/light-green-rich".concat( false ? undefined : "", ".css")
    },
    "light-blue": {
      color: "light-blue",
      src: uu5BaseUrl + "assets/color-schema/light-blue".concat( false ? undefined : "", ".css")
    },
    "light-blue-rich": {
      color: "light-blue-rich",
      src: uu5BaseUrl + "assets/color-schema/light-blue-rich".concat( false ? undefined : "", ".css")
    },
    lime: {
      color: "lime",
      src: uu5BaseUrl + "assets/color-schema/lime".concat( false ? undefined : "", ".css")
    },
    "lime-rich": {
      color: "lime-rich",
      src: uu5BaseUrl + "assets/color-schema/lime-rich".concat( false ? undefined : "", ".css")
    },
    "blue-grey": {
      color: "blue-grey",
      src: uu5BaseUrl + "assets/color-schema/blue-grey".concat( false ? undefined : "", ".css")
    },
    "blue-grey-rich": {
      color: "blue-grey-rich",
      src: uu5BaseUrl + "assets/color-schema/blue-grey-rich".concat( false ? undefined : "", ".css")
    },
    grey: {
      color: "grey",
      src: uu5BaseUrl + "assets/color-schema/grey".concat( false ? undefined : "", ".css")
    },
    "grey-rich": {
      color: "grey-rich",
      src: uu5BaseUrl + "assets/color-schema/grey-rich".concat( false ? undefined : "", ".css")
    },
    black: {
      color: "black",
      src: uu5BaseUrl + "assets/color-schema/black".concat( false ? undefined : "", ".css")
    },
    white: {
      color: "white",
      src: uu5BaseUrl + "assets/color-schema/white".concat( false ? undefined : "", ".css")
    },
    custom: {
      color: "custom"
    }
  },
  colors: _colors_js__WEBPACK_IMPORTED_MODULE_4__["default"],
  // External component calls
  calls: {},
  // External component limits
  limits: {},
  // Central component register (ccr)
  ccr: {
    byKey: {}
  },
  ccrStrict: false,
  CCRKEY_PAGE: "UU5.Bricks.Page",
  CCRKEY_ROUTER: "UU5.Common.Router",
  COMPONENT_REGISTRY_URL: "https://uuapp.plus4u.net/uu-applibraryregistry-maing01/fe96c133c895434bbd4d5b24831483f3/library/get",
  //PROD
  // COMPONENT_REGISTRY_URL: 'https://uuos9.plus4u.net/uu-uu5componentregistryg01-main/84723967990075193-eb48e82fb0ab409b9dd2fe4f956226dc/getLibrary', //DEV
  STATISTICS_BASE_PATH: "https://uuapp.plus4u.net/uu-applibraryregistry-statsg01/8fc27ec054b340cb98c9f10789bd4f63/",
  CDN_URL: cdnBaseUri.replace(/^(.+?)\/+$/, "$1"),
  // for backward compatibility only
  COMPONENT_RENDER_UVE: "https://uuapp.plus4u.net/uu-plus4ugo-maing01/f34b62a867db4bd89490534bb26451ad/component/render",
  fontCssUrl: cdnBaseUri + "libs/clearsans/2.0.0/fonts/clear-sans.min.css",
  resizeInterval: 150,
  holdTimeout: 500,
  holdDiff: 20,
  uu5DataMap: {},
  languages: [{
    language: "cs",
    q: 1.0
  }, {
    language: "sk",
    q: 0.7
  }, {
    language: "en",
    q: 0.4
  }],
  languageList: {
    cs: {
      flag: uu5BaseUrl + "assets/flags/cz.png",
      language: "Čeština"
    },
    nl: {
      flag: uu5BaseUrl + "assets/flags/nl.png",
      language: "Nederlands"
    },
    en: {
      flag: uu5BaseUrl + "assets/flags/gb.png",
      language: "English"
    },
    "en-gb": {
      flag: uu5BaseUrl + "assets/flags/gb.png",
      language: "English GB"
    },
    "en-us": {
      flag: uu5BaseUrl + "assets/flags/us.png",
      language: "English US"
    },
    fr: {
      flag: uu5BaseUrl + "assets/flags/fr.png",
      language: "Français"
    },
    de: {
      flag: uu5BaseUrl + "assets/flags/de.png",
      language: "Deutsch"
    },
    pl: {
      flag: uu5BaseUrl + "assets/flags/pl.png",
      language: "Polski"
    },
    ru: {
      flag: uu5BaseUrl + "assets/flags/ru.png",
      language: "Pусский"
    },
    sk: {
      flag: uu5BaseUrl + "assets/flags/sk.png",
      language: "Slovenčina"
    },
    es: {
      flag: uu5BaseUrl + "assets/flags/es.png",
      language: "Español"
    },
    uk: {
      // Ukraine
      flag: uu5BaseUrl + "assets/flags/ua.png",
      language: "Українська"
    },
    it: {
      // Italian
      flag: uu5BaseUrl + "assets/flags/it.png",
      language: "Italiano"
    } // "de-be": {
    //   // Belgie
    //   flag: uu5BaseUrl + 'assets/flags/be.png',
    //   language: "Deutsch"
    // },
    // bg: {
    //   // Bulgaria
    //   flag: uu5BaseUrl + 'assets/flags/bg.png',
    //   language: "български"
    // },
    // "de-at": {
    //   // Austria
    //   flag: uu5BaseUrl + 'assets/flags/at.png',
    //   language: "Deutsch"
    // },
    // zh: {
    //   // China
    //   flag: uu5BaseUrl + 'assets/flags/cn.png',
    //   language: "汉语"
    // },
    // dk: {
    //   // Denmark
    //   flag: uu5BaseUrl + 'assets/flags/dk.png',
    //   language: "Dansk"
    // },
    // be: {
    //   // Belarus
    //   flag: uu5BaseUrl + 'assets/flags/by.png',
    //   language: "беларуская"
    // },
    // ee: {
    //   // Estonia
    //   flag: uu5BaseUrl + 'assets/flags/ee.png',
    //   language: "Eesti keel"
    // },
    // fi: {
    //   // Finland
    //   flag: uu5BaseUrl + 'assets/flags/fi.png',
    //   language: "Suomi"
    // },
    // el: {
    //   // Greece
    //   flag: uu5BaseUrl + 'assets/flags/gr.png',
    //   language: "Ελληνική"
    // },
    // hr: {
    //   // Croatia
    //   flag: uu5BaseUrl + 'assets/flags/hr.png',
    //   language: "Hrvatski"
    // },
    // hu: {
    //   // Hungary
    //   flag: uu5BaseUrl + 'assets/flags/hu.png',
    //   language: "Magyar"
    // },
    // "de-ch": {
    //   // Switzerland
    //   flag: uu5BaseUrl + 'assets/flags/ch.png',
    //   language: "Deutsch"
    // },
    // id: {
    //   // Indonesia
    //   flag: uu5BaseUrl + 'assets/flags/id.png',
    //   language: "Indonesia"
    // },
    // is: {
    //   // Iceland
    //   flag: uu5BaseUrl + 'assets/flags/is.png',
    //   language: "Íslenska"
    // },
    // jp: {
    //   // Japan
    //   flag: uu5BaseUrl + 'assets/flags/jp.png',
    //   language: "日本語"
    // },
    // kr: {
    //   // Korea
    //   flag: uu5BaseUrl + 'assets/flags/kr.png',
    //   language: "한국어"
    // },
    // lt: {
    //   // Lithuania
    //   flag: uu5BaseUrl + 'assets/flags/lt.png',
    //   language: "Lietuvių"
    // },
    // lv: {
    //   // Latvia
    //   flag: uu5BaseUrl + 'assets/flags/lv.png',
    //   language: "Latviešu valoda"
    // },
    // no: {
    //   // Norway
    //   flag: uu5BaseUrl + 'assets/flags/no.png',
    //   language: "Norsk"
    // },
    // pt: {
    //   // Portugal
    //   flag: uu5BaseUrl + 'assets/flags/pt.png',
    //   language: "Português"
    // },
    // ro: {
    //   // Romania
    //   flag: uu5BaseUrl + 'assets/flags/ro.png',
    //   language: "Română"
    // },
    // sr: {
    //   // Serbia
    //   flag: uu5BaseUrl + 'assets/flags/rs.png',
    //   language: "Cрпски"
    // },
    // sv: {
    //   // Sweden
    //   flag: uu5BaseUrl + 'assets/flags/se.png',
    //   language: "Svenska"
    // },
    // sl: {
    //   // Slovenia
    //   flag: uu5BaseUrl + 'assets/flags/si.png',
    //   language: "Slovenija"
    // },
    // th: {
    //   // Thailand
    //   flag: uu5BaseUrl + 'assets/flags/th.png',
    //   language: "ภาษาไทย"
    // },
    // tr: {
    //   // Turkish
    //   flag: uu5BaseUrl + 'assets/flags/tr.png',
    //   language: "Türkçe"
    // },
    // vi: {
    //   // 	Viet Nam
    //   flag: uu5BaseUrl + 'assets/flags/vn.png',
    //   language: "Tiếng Việt"
    // }

  },
  defaultLanguage: "en-gb",
  // URI for log errors
  //logErrorUrl: null, //TODO: deprecated
  // function for log errors
  logErrorFunction: null,
  hardSpace: {
    regExp: "&nbsp;",
    nbSpace: "\xA0",
    nbHyphen: "\u2011",
    lsiReplacer: {}
  },
  textCorrector: false,
  textEntityMap: uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].Uu5String._textEntityMap,
  textEntityReplace: true,
  // {'cs-CZ': {decimalSeparator: ',', thousandSeparator: '.'}}
  numberFormat: {},
  // {'cs-CZ': 'dd.MM.yyyy HH:mm:ss.SSS'}
  dateTimeFormat: {},
  dateTimeZone: undefined,
  //uu5String tags regExp
  uu5StringTagsRegExp: null,
  session: null,
  urlBuilder: null,
  library: {},
  useLibraryRegistry: true,
  basePathAttrName: "data-uu-app-base",
  trustedDomainRegexp: String.raw(_templateObject || (_templateObject = _taggedTemplateLiteral(["^https://([^./]*[.])?plus4u[.]net(?=[:/]|$)"]))),
  // it's string so that app can re-configure it via JSON during app deploy
  allowStatistics: true,
  allowTelemetry: true
}; // TODO: backward compatibility

Environment.useComponentRegistry = Environment.useLibraryRegistry;
Environment.DocumentManager = _document_manager_js__WEBPACK_IMPORTED_MODULE_2__["default"];
Environment.TimeManager = new _time_manager_js__WEBPACK_IMPORTED_MODULE_3__["default"]();
/********** ICONS start **********/

Environment.iconLibraries = {
  mdi: cdnBaseUri + "libs/materialdesignicons/3.5.95/css/materialdesignicons.min.css",
  glyphicon: cdnBaseUri + "libs/bootstrap/3.3.7/fonts/glyphicons.min.css",
  fa: cdnBaseUri + "libs/font-awsome/4.7.0/css/font-awesome.min.css",
  uu5: cdnBaseUri + "uu-uu5g04-icons/1.0.0/uu5g04_icons.min.css",
  plus4u: cdnBaseUri + "plus4u-iconsg01/1.0.0/plus4u_iconsg01.min.css",
  plus4u5: cdnBaseUri + "uu-plus4u5g01-icons/1.0.0/uu_plus4u5g01_icons.min.css",
  uubml: cdnBaseUri + "uu-uubmldraw-iconsg03/2.0.0/uu_uubmldraw_iconsg03.min.css",
  uubmlicon: "https://uuappg01-eu-w-1.plus4u.net/uu-uubmldraw-stencilcatalogueg01/c168bd044ce044d48ba284c89eeb573b/stencil/getCss?code="
};

Environment.addIconLibrary = function (iconsKey, src) {
  Environment.iconLibraries[iconsKey] = src;
};

Environment.removeIconLibrary = function (iconsKey) {
  delete Environment.iconLibraries[iconsKey];
};

Environment.clearIconLibraries = function () {
  for (var iconsKey in Environment.iconLibraries) {
    delete Environment.iconLibraries[iconsKey];
  }
};

Environment.stateIconList = [{
  icon: "uubml-symbol-state-s00",
  state: "system"
}, {
  icon: "uubml-symbol-state-s26",
  state: "system"
}, {
  icon: "uubml-symbol-state-s27",
  state: "system"
}, {
  icon: "uubml-symbol-state-s25",
  state: "system"
}, {
  icon: "uubml-symbol-state-s34",
  state: "system"
}, {
  icon: "uubml-symbol-state-s97",
  state: "system"
}, {
  icon: "uubml-symbol-state-s00",
  state: "initial"
}, {
  icon: "uubml-symbol-state-s02",
  state: "initial"
}, {
  icon: "uubml-symbol-state-s28",
  state: "initial"
}, {
  icon: "uubml-symbol-state-s00",
  state: "active"
}, {
  icon: "uubml-symbol-state-s10",
  state: "active"
}, {
  icon: "uubml-symbol-state-s06",
  state: "active"
}, {
  icon: "uubml-symbol-state-s25",
  state: "active"
}, {
  icon: "uubml-symbol-state-s25",
  state: "final"
}, {
  icon: "uubml-symbol-state-s34",
  state: "final"
}, {
  icon: "uubml-symbol-state-s00",
  state: "alternativeActive"
}, {
  icon: "uubml-symbol-state-s53",
  state: "alternativeActive"
}, {
  icon: "uubml-symbol-state-s00",
  state: "problemActive"
}, {
  icon: "uubml-symbol-state-s25",
  state: "problemActive"
}, {
  icon: "uubml-symbol-state-s00",
  state: "passive"
}, {
  icon: "uubml-symbol-state-s26",
  state: "passive"
}, {
  icon: "uubml-symbol-state-s00",
  state: "alternativeActive"
}, {
  icon: "uubml-symbol-state-s27",
  state: "alternativeActive"
}, {
  icon: "uubml-symbol-state-s00",
  state: "cancelled"
}, {
  icon: "uubml-symbol-state-s27",
  state: "cancelled"
}];
/********** ICONS end **********/

Environment.addLibrary = function (libraryName, params) {
  //TODO check if exist and merge
  Environment.library[libraryName] = params;
  return _this;
};

Environment.getLibrary = function (libraryName) {
  var library = Environment.library;

  if (libraryName) {
    library = library[libraryName];
  }

  return library;
};

Environment.disableStatistics = function () {
  return Environment.allowStatistics = false;
};

Environment.enableStatistics = function () {
  return Environment.allowStatistics = true;
};

Environment.isStatistics = function () {
  return Environment.allowStatistics;
};

var statistics = Object(_statistics_js__WEBPACK_IMPORTED_MODULE_5__["default"])(_uu5g05_integration_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"].statisticsLogLibrariesUri || Environment.STATISTICS_BASE_PATH + "product/logLibraries", Environment.isStatistics); // library = {name, version} or {name, version, namespace}

Environment.addRuntimeLibrary = function (library) {
  uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].LibraryRegistry.registerLibrary(library);
  return _this;
};

var origG05RegisterLibrary = uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].LibraryRegistry.registerLibrary;

uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].LibraryRegistry.registerLibrary = function () {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  origG05RegisterLibrary.apply(this, args);
  statistics.addLibrary(args[0]);
};

var _iterator = _createForOfIteratorHelper(uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].LibraryRegistry.listLibraries()),
    _step;

try {
  for (_iterator.s(); !(_step = _iterator.n()).done;) {
    var item = _step.value;
    statistics.addLibrary(item);
  }
} catch (err) {
  _iterator.e(err);
} finally {
  _iterator.f();
}

Environment.addRuntimeLibrary({
  name: Environment.name,
  version: Environment.version
});

Environment.getRuntimeLibraries = function () {
  return statistics.getLibraries();
};

Environment.colorSchema = Object.keys(Environment.colorSchemaMap);

Environment.isDevelopment = function () {
  return Environment.mode === "development";
};

Environment.isProduction = function () {
  return Environment.mode === "production";
};

Environment.changeColorSchema = function (key, colorSchema, src) {
  Environment.colorSchemaMap[key] = Environment.colorSchemaMap[key] || {}; // save original color - only first time to prevent rewrite original value

  if (Environment.colorSchemaMap[key].originalColor === undefined) {
    Environment.colorSchemaMap[key].originalColor = Environment.colorSchemaMap[key].color;
    Environment.colorSchemaMap[key].originalSrc = Environment.colorSchemaMap[key].src;
  }

  Environment.colorSchemaMap[key].color = colorSchema;
  var colorSchemaObj = Environment.colorSchemaMap[colorSchema];
  src = src || (colorSchemaObj ? colorSchemaObj.originalSrc || colorSchemaObj.src : null);
  src && (Environment.colorSchemaMap[key].src = src);
  Environment.colorSchema = Object.keys(Environment.colorSchemaMap);
  return this;
};

Environment.getColorSchema = function (key) {
  var colorSchema = Environment.colorSchemaMap[key];
  var color = null;

  if (colorSchema) {
    color = colorSchema.color;
    Environment.loadedColors = Environment.loadedColors || {};

    if (colorSchema.src && !Environment.loadedColors[color]) {
      Environment.loadedColors[color] = true;
      Environment.DocumentManager.addUniqueCss(colorSchema.src);
    }
  }

  return color;
};

Environment.search = function (searchedTexts) {
  var el = Environment.EventListener;
  if (el) el.triggerHighlight(searchedTexts);
  return _this;
};

Environment.setDateTimeFormat = function (format) {
  var el = Environment.EventListener;
  if (el) el.triggerDateTime({
    format: format
  });
  return _this;
};

Environment.setDateTimeCountry = function (country) {
  var el = Environment.EventListener;
  if (el) el.triggerDateTime({
    country: country
  });
  return _this;
};

Environment.setDateTimeZone = function (timeZone) {
  var el = Environment.EventListener;
  if (el) el.triggerDateTime({
    timeZone: timeZone
  });
  return _this;
};

Environment.setDateTimeOptions = function (opt) {
  var el = Environment.EventListener;
  if (el) el.triggerDateTime(opt);
  return _this;
};

Environment.setNumberCountry = function (country) {
  Environment.numberOptions.country = country;
  var el = Environment.EventListener;
  if (el) el.triggerNumber({
    country: country
  });
  return _this;
};

Environment.setNumberOptions = function (opt) {
  Environment.numberOptions = opt;
  var el = Environment.EventListener;
  if (el) el.triggerNumber(opt);
  return _this;
};

Environment.getPage = function () {
  return Environment.page;
};

Environment.getRouter = function () {
  return Environment.router;
};

Environment.setRoute = function () {
  var _Environment$getRoute;

  return (_Environment$getRoute = Environment.getRouter()).setRoute.apply(_Environment$getRoute, arguments);
};

Environment.hardSpace.lsiReplacer["cs-cz"] = function (text) {
  var newText = text.replace(new RegExp(Environment.hardSpace.regExp, "g"), Environment.hardSpace.nbSpace);
  var nbSpace = Environment.hardSpace.nbSpace;
  var wordsWithSpace = {
    after: ["s", "k", "v", "z", "a", "i", "o", "u"],
    degreesBefore: ["bc.", "bca.", "ing.", "ing.arch.", "mudr.", "mvdr.", "mga.", "mgr.", "judr.", "phdr.", "rndr.", "pharmdr.", "thlic.", "thdr.", "prof.", "doc.", "paeddr.", "dr.", "phmr."],
    degreesAfter: ["ph.d.", "th.d.", "csc.", "drsc.", "dis."],
    units: ["%", "Kč", "€", "m", "g", "l", "q", "t", "w", "J", "ks", "mm", "cm", "km", "mg", "dkg", "kg", "ml", "cl", "dl", "hl", "m3", "km3", "mm2", "cm2", "dm2", "m2", "km2", "ha", "Pa", "hPa", "kPa", "MPa", "bar", "mbar", "nbar", "atm", "psi", "kW", "MW", "HP", "m/s", "km/h", "m/min", "MPH", "cal", "Wh", "kWh", "kp·m", "°C", "°F", "kB", "dB", "MB", "GB", "kHz", "MHz"]
  };
  var spaceSplitter = newText.split(" ");
  var resultText = "";

  for (var i = 0; i < spaceSplitter.length; i++) {
    var prevPart = spaceSplitter[i];
    var prevPartLowerCase = prevPart.toLowerCase();
    var lastChar = prevPart[prevPart.length - 1];
    var nextPart = spaceSplitter[i + 1];
    var firstChar = nextPart && nextPart[0];
    resultText += prevPart === "" ? " " : prevPart;

    if (nextPart) {
      if ( // it is word with space after
      wordsWithSpace.after.indexOf(prevPartLowerCase) > -1 || // dot and next char is not upper - not end of sentence
      "." === lastChar && firstChar && firstChar !== firstChar.toUpperCase() && !isFinite(firstChar) && wordsWithSpace.degreesAfter.indexOf(prevPart.toLowerCase()) === -1 && spaceSplitter[i - 3] !== "dr." && spaceSplitter[i - 2] !== "h." && prevPart !== "c." || // numbers split by space
      isFinite(prevPart) && isFinite(nextPart) || // degrees before name
      wordsWithSpace.degreesBefore.indexOf(prevPartLowerCase) > -1 || // degrees after name
      wordsWithSpace.degreesAfter.indexOf(nextPart.toLowerCase()) > -1 || // between number and unit
      prevPart.match(/^\d+$/g) && wordsWithSpace.units.indexOf(nextPart) > -1) {
        resultText += nbSpace; // degree dr. h. c.
      } else if (nextPart === "dr." && spaceSplitter[i + 2] === "h." && spaceSplitter[i + 3] === "c." || prevPart === "dr." && nextPart === "h." && spaceSplitter[i + 2] === "c." || spaceSplitter[i - 1] === "dr." && prevPart === "h." && nextPart === "c.") {
        resultText += nbSpace;
      } else {
        resultText += " ";
      }
    }
  } // space after dot or comma
  //return resultText.replace(/([,.])([a-zA-Z0-9])/, "$1 $2");


  return resultText;
};

Environment.hardSpace.lsiReplacer["code"] = function (text) {
  var resultText = text;
  resultText = resultText.replace(/ /g, Environment.hardSpace.nbSpace);
  resultText = resultText.replace(/-/g, Environment.hardSpace.nbHyphen);
  return resultText;
};

Environment.setSession = function (session) {
  Environment.session = session.currentSession || session;
};

Environment.getSession = function () {
  var session;

  if (Environment.session) {
    session = Environment.session;
  } else {
    var Oidc = window.UuOidc;

    if (typeof window.SystemJS != "undefined") {
      if (window.SystemJS.has(window.SystemJS.normalizeSync("uu_oidc"))) {
        Oidc = window.SystemJS.get(window.SystemJS.normalizeSync("uu_oidc"));
      } else if (window.SystemJS.has(window.SystemJS.normalizeSync("uu_oidcg01"))) {
        Oidc = window.SystemJS.get(window.SystemJS.normalizeSync("uu_oidcg01"));
      }
    }

    if (Oidc) {
      session = Environment.session = Oidc.Session.currentSession || Oidc.Session;
    }
  }

  return session || null;
};

Environment.App = {
  vucConfig: {
    errorRoute: null
  },
  callConfig: {
    authorizeVuc: function authorizeVuc() {
      console.error("Please add to UU5.Environment.App.callConfig.authorizeVuc your own function.");
    }
  }
};
Environment.Lsi = {};
Environment.Lsi.Forms = {};
Environment.Lsi.Common = {};

Environment.getNestingLevelList = function (levelFrom, levelTo) {
  var begin = Environment.nestingLevelList.indexOf(levelFrom);
  begin < 0 && (begin = 0);
  var end = Environment.nestingLevelList.indexOf(levelTo) + 1;
  end <= begin && (end = Environment.nestingLevelList.length);
  return Environment.nestingLevelList.slice(begin, end);
};

Environment.getUrlBuilder = function () {
  return Environment.urlBuilder;
};

Environment.setUrlBuilder = function (urlBuilder) {
  Environment.urlBuilder = urlBuilder;
};

Environment.tagCalls = {};

Environment.getAppBasePath = function () {
  var baseEl = document.querySelector("base");
  return baseEl ? baseEl.getAttribute(Environment.basePathAttrName) : null;
};

Environment.getScrollBarWidth = function () {
  if (Environment._scrollBarWidth === undefined) {
    var div = document.createElement("div");
    div.style.overflow = "scroll";
    div.style.visibility = "hidden";
    div.style.position = "absolute";
    div.style.width = "100px";
    div.style.height = "100px"; // temporarily creates a div into DOM

    document.body.appendChild(div);

    try {
      Environment._scrollBarWidth = div.offsetWidth - div.clientWidth;
    } finally {
      document.body.removeChild(div);
    }
  }

  return Environment._scrollBarWidth;
};

var trustedDomainRegexp;

Environment.isTrustedDomain = function (url) {
  if (!trustedDomainRegexp) trustedDomainRegexp = new RegExp(Environment.trustedDomainRegexp, "i");
  var absUrl;

  if (url) {
    // absolutize URL
    var a = document.createElement("a");
    a.href = url; // browser re-normalizes on assignment

    absUrl = a.href;
  }

  var curBase = location.protocol + "//" + location.host + "/"; // can send token if the target domain matches regexp or if it's current domain

  return absUrl && (absUrl.match(trustedDomainRegexp) || absUrl.substr(0, curBase.length) === curBase);
};

Environment.isPageVisible = function () {
  return !document.hidden;
};

Environment.isPageFocused = function () {
  return document.hasFocus();
};

Environment.numberOptions = {
  country: undefined,
  thousandSeparator: undefined,
  decimalSeparator: undefined
};
Environment._fixedOffset = 0; // Height of the biggest permanently fixed element (usually Heading)

if (false) {} // whether to allow using of context in tests; changeable per test file (e.g. when testing LsiMixin with context which is by default turned off to make shallow snapshots usable)

/* harmony default export */ __webpack_exports__["default"] = (Environment);

/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DocumentManager", function() { return DocumentManager; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var DocumentManager = /*#__PURE__*/function () {
  function DocumentManager() {
    _classCallCheck(this, DocumentManager);
  }

  _createClass(DocumentManager, null, [{
    key: "addCss",
    value: function addCss(cssUrl) {
      var link = document.createElement("link");
      link.type = "text/css";
      link.rel = "stylesheet";
      link.href = cssUrl;
      document.head.appendChild(link);
    }
  }, {
    key: "isCssAdded",
    value: function isCssAdded(uri) {
      var absoluteUri = _toAbsoluteUri(uri);

      var links = document.querySelectorAll("link");

      for (var i = 0; i < links.length; i++) {
        if (links[i].href === absoluteUri) return true;
      }

      return false;
    } // TODO Remove Utils.DOM after uu5g05 >= 0.15.0 release.

  }]);

  return DocumentManager;
}();

_defineProperty(DocumentManager, "addUniqueCss", (uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Dom || uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].DOM).addCss);

function _toAbsoluteUri(uri) {
  var a = document.createElement("a");
  a.href = uri; // browser will do normalization (resolve relative paths, add missing protocol/domain, ...)

  return a.href;
}

/* harmony default export */ __webpack_exports__["default"] = (DocumentManager);

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimeManager", function() { return TimeManager; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
var TimeManager = /*#__PURE__*/function () {
  function TimeManager() {
    _classCallCheck(this, TimeManager);

    this._intervals = {};
  }

  _createClass(TimeManager, [{
    key: "setInterval",
    value: function (_setInterval) {
      function setInterval(_x, _x2) {
        return _setInterval.apply(this, arguments);
      }

      setInterval.toString = function () {
        return _setInterval.toString();
      };

      return setInterval;
    }(function (fce, ms) {
      var _this = this;

      fce.interval = ms;
      var interval = this._intervals[ms] = this._intervals[ms] || {
        fces: []
      };
      interval.fces.push(fce);

      if (interval.fces.length === 1) {
        interval.setIntervalFce = setInterval(function () {
          return _this._eachInterval(ms);
        }, ms);
      }

      return fce;
    })
  }, {
    key: "clearInterval",
    value: function (_clearInterval) {
      function clearInterval(_x3) {
        return _clearInterval.apply(this, arguments);
      }

      clearInterval.toString = function () {
        return _clearInterval.toString();
      };

      return clearInterval;
    }(function (fce) {
      var ms = fce.interval;
      var interval = this._intervals[ms];

      if (interval && interval.fces) {
        var index = interval.fces.indexOf(fce);

        if (index > -1) {
          interval.fces.splice(index, 1);

          if (interval.fces.length === 0 && interval.setIntervalFce) {
            delete this._intervals[ms];
            clearInterval(interval.setIntervalFce);
          }
        }
      }

      return this;
    })
  }, {
    key: "_eachInterval",
    value: function _eachInterval(ms) {
      this._intervals[ms].fces.forEach(function (fce) {
        return fce();
      });
    }
  }]);

  return TimeManager;
}();
/* harmony default export */ __webpack_exports__["default"] = (TimeManager);

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Colors", function() { return Colors; });
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
var darkText = "rgba(0,0,0,.87)";
var white = "#FFF";
var Colors = {
  amber: {
    c50: "#FFF8E1",
    c100: "#FFECB3",
    c200: "#FFE082",
    c300: "#FFD54F",
    c400: "#FFCA28",
    c500: "#FFC107",
    c600: "#FFB300",
    c700: "#FFA000",
    c800: "#FF8F00",
    c900: "#FF6F00",
    inverse: darkText
  },
  black: {
    c50: "rgba(255, 255, 255, 0.60)",
    c100: "rgba(255, 255, 255, 0.40)",
    c500: "rgba(255, 255, 255, 0.20)",
    c600: "rgba(0, 0, 0, 0.20)",
    c700: "rgba(0, 0, 0, 0.40)",
    c800: "rgba(0, 0, 0, 0.60)",
    c900: "rgb(0, 0, 0)",
    inverse: white
  },
  "blue-grey": {
    c50: "#ECEFF1",
    c100: "#CFD8DC",
    c200: "#B0BEC5",
    c300: "#90A4AE",
    c400: "#78909C",
    c500: "#607D8B",
    c600: "#546E7A",
    c700: "#455A64",
    c800: "#37474F",
    c900: "#263238",
    inverse: white
  },
  blue: {
    c50: "#E3F2FD",
    c100: "#BBDEFB",
    c200: "#90CAF9",
    c300: "#64B5F6",
    c400: "#42A5F5",
    c500: "#2196F3",
    c600: "#1E88E5",
    c700: "#1976D2",
    c800: "#1565C0",
    c900: "#0D47A1",
    inverse: white
  },
  brown: {
    c50: "#EFEBE9",
    c100: "#D7CCC8",
    c200: "#BCAAA4",
    c300: "#A1887F",
    c400: "#8D6E63",
    c500: "#795548",
    c600: "#6D4C41",
    c700: "#5D4037",
    c800: "#4E342E",
    c900: "#3E2723",
    inverse: white
  },
  cyan: {
    c50: "#E0F7FA",
    c100: "#B2EBF2",
    c200: "#80DEEA",
    c300: "#4DD0E1",
    c400: "#26C6DA",
    c500: "#00BCD4",
    c600: "#00ACC1",
    c700: "#0097A7",
    c800: "#00838F",
    c900: "#006064",
    inverse: darkText
  },
  "deep-orange": {
    c50: "#FBE9E7",
    c100: "#FFCCBC",
    c200: "#FFAB91",
    c300: "#FF8A65",
    c400: "#FF7043",
    c500: "#FF5722",
    c600: "#F4511E",
    c700: "#E64A19",
    c800: "#D84315",
    c900: "#BF360C",
    inverse: white
  },
  "deep-purple": {
    c50: "#EDE7F6",
    c100: "#D1C4E9",
    c200: "#B39DDB",
    c300: "#9575CD",
    c400: "#7E57C2",
    c500: "#673AB7",
    c600: "#5E35B1",
    c700: "#512DA8",
    c800: "#4527A0",
    c900: "#311B92",
    inverse: white
  },
  green: {
    c50: "#E8F5E9",
    c100: "#C8E6C9",
    c200: "#A5D6A7",
    c300: "#81C784",
    c400: "#66BB6A",
    c500: "#4CAF50",
    c600: "#43A047",
    c700: "#388E3C",
    c800: "#2E7D32",
    c900: "#1B5E20",
    inverse: white
  },
  grey: {
    c50: "#FAFAFA",
    c100: "#F5F5F5",
    c200: "#EEEEEE",
    c300: "#E0E0E0",
    c400: "#BDBDBD",
    c500: "#9E9E9E",
    c600: "#757575",
    c700: "#616161",
    c800: "#424242",
    c900: "#212121",
    inverse: white
  },
  indigo: {
    c50: "#E8EAF6",
    c100: "#C5CAE9",
    c200: "#9FA8DA",
    c300: "#7986CB",
    c400: "#5C6BC0",
    c500: "#3F51B5",
    c600: "#3949AB",
    c700: "#303F9F",
    c800: "#283593",
    c900: "#1A237E",
    inverse: white
  },
  "light-blue": {
    c50: "#E1F5FE",
    c100: "#B3E5FC",
    c200: "#81D4FA",
    c300: "#4FC3F7",
    c400: "#29B6F6",
    c500: "#03A9F4",
    c600: "#039BE5",
    c700: "#0288D1",
    c800: "#0277BD",
    c900: "#01579B",
    inverse: white
  },
  "light-green": {
    c50: "#F1F8E9",
    c100: "#DCEDC8",
    c200: "#C5E1A5",
    c300: "#AED581",
    c400: "#9CCC65",
    c500: "#8BC34A",
    c600: "#7CB342",
    c700: "#689F38",
    c800: "#558B2F",
    c900: "#33691E",
    inverse: darkText
  },
  lime: {
    c50: "#F9FBE7",
    c100: "#F0F4C3",
    c200: "#E6EE9C",
    c300: "#DCE775",
    c400: "#D4E157",
    c500: "#CDDC39",
    c600: "#C0CA33",
    c700: "#AFB42B",
    c800: "#9E9D24",
    c900: "#827717",
    inverse: darkText
  },
  orange: {
    c50: "#FFF3E0",
    c100: "#FFE0B2",
    c200: "#FFCC80",
    c300: "#FFB74D",
    c400: "#FFA726",
    c500: "#FF9800",
    c600: "#FB8C00",
    c700: "#F57C00",
    c800: "#EF6C00",
    c900: "#E65100",
    inverse: darkText
  },
  pink: {
    c50: "#FCE4EC",
    c100: "#F8BBD0",
    c200: "#F48FB1",
    c300: "#F06292",
    c400: "#EC407A",
    c500: "#E91E63",
    c600: "#D81B60",
    c700: "#C2185B",
    c800: "#AD1457",
    c900: "#880E4F",
    inverse: white
  },
  purple: {
    c50: "#F3E5F5",
    c100: "#E1BEE7",
    c200: "#CE93D8",
    c300: "#BA68C8",
    c400: "#AB47BC",
    c500: "#9C27B0",
    c600: "#8E24AA",
    c700: "#7B1FA2",
    c800: "#6A1B9A",
    c900: "#4A148C",
    inverse: white
  },
  red: {
    c50: "#FFEBEE",
    c100: "#FFCDD2",
    c200: "#EF9A9A",
    c300: "#E57373",
    c400: "#EF5350",
    c500: "#F44336",
    c600: "#E53935",
    c700: "#D32F2F",
    c800: "#C62828",
    c900: "#B71C1C",
    inverse: white
  },
  teal: {
    c50: "#E0F2F1",
    c100: "#B2DFDB",
    c200: "#80CBC4",
    c300: "#4DB6AC",
    c400: "#26A69A",
    c500: "#009688",
    c600: "#00897B",
    c700: "#00796B",
    c800: "#00695C",
    c900: "#004D40",
    inverse: white
  },
  white: {
    c50: "rgba(0, 0, 0, 0.40)",
    c100: "rgba(0, 0, 0, 0.20)",
    c500: "rgba(255, 255, 255, 0.20)",
    c600: "rgba(255, 255, 255, 0.40)",
    c700: "rgba(255, 255, 255, 0.60)",
    c800: "rgba(255, 255, 255, 0.80)",
    c900: "#FFF",
    inverse: darkText
  },
  yellow: {
    c50: "#FFFDE7",
    c100: "#FFF9C4",
    c200: "#FFF59D",
    c300: "#FFF176",
    c400: "#FFEE58",
    c500: "#FFEB3B",
    c600: "#FDD835",
    c700: "#FBC02D",
    c800: "#F9A825",
    c900: "#F57F17",
    inverse: darkText
  },
  common: {
    darkText: darkText,
    darkIcon: "rgba(0, 0, 0, 0.54)",
    white: "#FFF",
    black: "#000"
  }
};
/* harmony default export */ __webpack_exports__["default"] = (Colors);

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Statistics", function() { return Statistics; });
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
var TIMEOUT = 60 * 1000; // one minute

var BASE_URI_COOKIE_NAME = "uu.app.cbu";
var PRODUCT_AWID_REGEXP = /^https?:\/\/[^/]+\/([^/]+)\/([^/?#;]+)/;
function Statistics(cmd, isStatistics) {
  var baseUriCookie = document.cookie.split(";").map(function (it) {
    return it.trim();
  }).find(function (v) {
    return v.startsWith(BASE_URI_COOKIE_NAME + "=");
  });
  var href = (baseUriCookie ? baseUriCookie.substr(BASE_URI_COOKIE_NAME.length + 1).split(",")[0].trim() : null) || location.href;
  if (href === "about:srcdoc") href = parent.location.href;
  var match = href.match(PRODUCT_AWID_REGEXP);
  var uuProduct = match ? match[1] : null;
  var uuAwid = match ? match[2].split("-").pop() : null;

  if (uuProduct === "ues" && uuAwid === "sesm") {
    uuAwid = "00000000000000000000000000000000";
  } else {
    if (uuAwid && !uuAwid.match(/^[0-9a-f]{32}$/i)) uuAwid = null;
  }

  var runtimeLibraryMap = {};
  var librarySet = new Set();

  var logLibraries = function logLibraries() {
    if (librarySet.size && window.UU5.Environment.isStatistics()) {
      var uuLibraryList = _toConsumableArray(librarySet);

      librarySet = new Set();

      if (uuProduct && uuAwid) {
        var request = new XMLHttpRequest();

        request.onreadystatechange = function () {
          if (request.readyState === XMLHttpRequest.DONE && request.status !== 200 && request.status !== 203) {
            uuLibraryList.forEach(function (lib) {
              return librarySet.add(lib);
            });
          }
        };

        request.open("POST", cmd, true);
        request.setRequestHeader("Content-Type", "application/json");
        request.send(JSON.stringify({
          product: uuProduct,
          subAppAwid: uuAwid,
          libraryList: uuLibraryList
        }));
      }
    }
  };

  function addLibrary(library) {
    runtimeLibraryMap[library.name] = library;

    if (isStatistics() && (!window.UU5 || !window.UU5.Environment || !window.UU5.Environment.isStatistics || window.UU5.Environment.isStatistics())) {
      librarySet.add(library.name);
    }
  }

  function getLibraries() {
    return runtimeLibraryMap;
  }

  if (false) {}

  return {
    addLibrary: addLibrary,
    getLibraries: getLibraries
  };
}
/* harmony default export */ __webpack_exports__["default"] = (Statistics);

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "REGEXP", function() { return REGEXP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tools", function() { return Tools; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
/* harmony import */ var _environment_tools_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _element_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _utils_screen_size_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(20);
/* harmony import */ var _utils_lsi_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(21);
/* harmony import */ var _dom_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(22);
/* harmony import */ var _url_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(23);
/* harmony import */ var _utils_logger_factory_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(24);
/* harmony import */ var _utils_logger_factory_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_utils_logger_factory_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _uu5g05_integration_use_dynamic_library_component_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(26);
var _templateObject,
    _templateObject2,
    _templateObject3,
    _templateObject4,
    _this = undefined;

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */












var REGEXP = {
  /** @deprecated Remove in 2.0.0. */
  attrs: /([-\w]+)(?:\s*=\s*(?:(?:"\s*(<uu5json\s*\/>(?:\\.|[^"])*?)")|(?:'\s*(<uu5json\s*\/>(?:\\.|[^'])*?)')|(?:"\s*(<uu5string\s*\/>(?:\\.|[^"])*?)")|(?:'\s*(<uu5string\s*\/>(?:\\.|[^'])*?)')|(?:"\s*(<uu5data\s*\/>(?:\\.|[^"])*?)")|(?:'\s*(<uu5data\s*\/>(?:\\.|[^'])*?)')|(?:"((?:\\.|[^"])*?)")|(?:'((?:\\.|[^'])*?)')|([^\s]+)))?/g,
  uu5string: /^\s*<uu5string\s*\/>/,
  uu5stringTemplate: /\${([0-9a-zA-Z.\-_]+)\s*(:\s*([0-9a-zA-Z.\-_ ()\[\]<>\\\/]+))?}/,
  uu5json: /^\s*<uu5json\s*\/>/,
  uu5data: /^\s*<uu5data\s*\/>/,
  slashes: /^.*[\\\/]/,
  char: /(\-[a-z])/g,
  mobile1: /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,
  mobile2: /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,
  xy: /[xy]/g,
  splitByWhiteSpace: /\s+/,
  whiteSpaces: /\s\s+/g,
  digitInBracket: /{(\d+)}/g,
  stringParamsArray: /%((%)|s|d)/g,
  stringParamsObject: /(\$\{[^}]+})/g,
  jsCode: /^(javascript:\s*)*/i,
  columnRegexp: /^((?:offset-)?[a-z]+)(?:-)?(\d+)$/,
  chrome: /Chrome\/[.0-9]*/,
  edge: /Edge\/[.0-9]*/,
  ie: /Trident\/[.0-9]*/,
  windowsPhone: /windows phone/i,
  android: /android/i,
  iPhone: /iPad|iPhone|iPod/,
  mobile: /(OS|Android|Windows Phone) (\d+[_\.]\d+)/,
  weekYear: /^(w+[^dmhHMSstTqz]*[yY]+)|([yY]+[^dmhHMSstTqz]*w+)$/,
  numberParts: /\B(?=(\d{3})+(?!\d))/g,
  isoTimeZone: /(Z|[+-](\d{2})\:(\d{2}))?$/
};
var COMPONENT_NAME = String.raw(_templateObject || (_templateObject = _taggedTemplateLiteral(["[-w.]+"], ["[-\\w.]+"])));
var ATTR = String.raw(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral(["([-w]+)(?:s*=s*(\"(?:\\.|[^\"\\])*\"|'(?:\\.|[^'\\])*'|([^\"'>s/][^>s/]*)))?"], ["([-\\w]+)(?:\\s*=\\s*(\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|([^\"'>\\s/][^>\\s/]*)))?"]))); // groups: attr name, attr value, indication whether without quotes

var TAG = String.raw(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral(["<(", ")((?:s+(?:", "))*)s*(/)?>|</(", ")>"], ["<(", ")((?:\\s+(?:", "))*)\\s*(/)?>|</(", ")>"])), COMPONENT_NAME, ATTR, COMPONENT_NAME); // groups: comp name, attrs, -, -, -, self-closing, closing tag

var ATTR_REGEXP = new RegExp(ATTR); // groups: see ATTR

var ATTR_VALUE_TYPE_REGEXP = new RegExp(String.raw(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral(["(", ")|(", ")|(", ")|"])), REGEXP.uu5json.source, REGEXP.uu5string.source, REGEXP.uu5data.source)); // groups: uu5json, uu5string, uu5data

var TIME_FORMAT_AM = "AM";
var TIME_FORMAT_PM = "PM";
var TIME_FORMAT_12 = "12";
var TIME_FORMAT_24 = "24";
var COOKIE_CSRF_TOKEN = "uu.app.csrf";
var Tools = {
  _languageProviderValue: null,
  // for sync-ing Tools.setLanguage, getLanguage with root LanguageProvider
  ELEVATIONS: {
    "-1": "inset 0 1px 5px 0 rgba(0,0,0,.14),inset 0 2px 4px 0 rgba(0,0,0,.3),inset 0 1px 5px 0 rgba(0,0,0,.15)",
    "1": "0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12),0 1px 5px 0 rgba(0,0,0,.2)",
    "2": "0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2)",
    "3": "0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12),0 3px 5px -1px rgba(0,0,0,.2)",
    "4": "0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.2)",
    "5": "0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12),0 7px 8px -4px rgba(0,0,0,.2)"
  }
};
Tools.events = {
  lsi: "UU5_Common_LsiMixin_lsiEvent",
  highlight: "UU5_Bricks_TextCorrector_highlightEvent",
  dateTime: "UU5_Bricks_DateTime_event",
  number: "UU5_Bricks_Number_event"
};
Tools.screenSize = {
  xs: 480,
  s: 768,
  m: 992,
  l: 1360,
  xl: Infinity
};

Tools.getPage = function () {
  return _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].page;
};

Tools.checkTag = _uu5g05_integration_use_dynamic_library_component_js__WEBPACK_IMPORTED_MODULE_11__["checkTag"];

Tools.findComponent = function (tag, props, content, error, onLoad) {
  var newTag = tag;

  if (_typeof(tag) === "object" && tag.tag) {
    newTag = tag.tag;
    props = tag.props;
  }

  props = props || {};
  var callOnLoad = typeof onLoad === "function";
  var result;
  var UU5 = window.UU5; // TODO: backward compatibility

  if (_environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].useComponentRegistry && _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].useLibraryRegistry) {
    var fTag = Tools.checkTag(newTag, true);

    if (fTag) {
      result = _element_js__WEBPACK_IMPORTED_MODULE_5__["default"].create(fTag, props, content);
      if (callOnLoad) onLoad(fTag);
    } else {
      var module = newTag.split(".");
      module.splice(-1, 1);

      if (module.length === 2 && window[module[0]] && window[module[0]][module[1]] && Object.keys(window[module[0]][module[1]]).length) {
        result = UU5.Common.Element.create(UU5.Common.NotFoundTag, {
          key: props.key,
          tagName: newTag,
          id: props.id,
          ref_: props.ref_,
          error: error
        });
        if (callOnLoad) onLoad(null, new Error("Component ".concat(newTag, " has not been found.")));
      } else {
        result = UU5.Common.Element.create(UU5.Common.TagPlaceholder, {
          key: props.key,
          _tagName: newTag,
          _props: props,
          _content: content,
          _error: error,
          _fromFindComponent: true,
          _onLoad: onLoad
        });
      } // let fModule = Tools.checkTag(module.join('.'), true);
      // result = fModule ? <UU5.Common.NotFoundTag tagName={tag} id={props.id} ref_={props.ref_} /> :
      //   <UU5.Common.TagPlaceholder _tagName={newTag} _props={props} _content={content} _fromFindComponent />;

    }
  } else {
    var component = Tools.checkTag(newTag, false);
    result = component ? _element_js__WEBPACK_IMPORTED_MODULE_5__["default"].create(component, props, content) : UU5.Common.Element.create(UU5.Common.NotFoundTag, {
      key: props.key,
      tagName: newTag,
      id: props.id,
      ref_: props.ref_,
      error: error
    });

    if (callOnLoad) {
      if (component) {
        onLoad(component);
      } else {
        onLoad(null, new Error("Component ".concat(newTag, " has not been found.")));
      }
    }
  }

  return result;
}; // NOTE This is for "backward compatibility" in sense that some demo pages / tests override Tools.loadLibrary
// to be able to supply custom data for library registry.


var getLibrary;

var loadLibrary = function loadLibrary(libraryName, callback) {
  return (getLibrary || uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].LibraryRegistry.getLibrary)(libraryName).then(callback, function (e) {
    return callback(undefined, e);
  });
};

Object.defineProperty(Tools, "loadLibrary", {
  get: function get() {
    return loadLibrary;
  },
  set: function set(fn) {
    loadLibrary = fn;
    getLibrary = uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].LibraryRegistry.getLibrary;

    uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].LibraryRegistry.getLibrary = /*#__PURE__*/function () {
      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(namespace) {
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                return _context.abrupt("return", new Promise(function (resolve, reject) {
                  fn(namespace, function (result, error) {
                    return error != null ? reject(error) : resolve(result);
                  });
                }));

              case 1:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }();
  }
});
Tools.loadLibraryCache = {};

Tools.buildAttributes = function (attrsString) {
  Tools.warning("UU5.Common.Tools.buildAttributes is deprecated. Use UU5.Common.UU5String.buildAttributes instead.");
  var attrs = {}; // !!!!! Never put attrsReg to constants, otherwise it gets stuck - because of exec method on regexp
  // group1 = attribute name
  // group2 = attribute value
  // group3 = indication that attribute value is not wrapped into quotes / single quotes

  var attrsReg = new RegExp(ATTR_REGEXP.source, "g");
  var matchAttrs = attrsReg.exec(attrsString);

  while (matchAttrs) {
    var name = matchAttrs[1];
    var value = true;
    var matchValue = matchAttrs[2];
    var isUnquoted = !!matchAttrs[3];

    if (isUnquoted) {
      if (matchValue === "true") {
        //true
        value = true;
      } else if (matchValue === "false") {
        //false
        value = false;
      } else if (isFinite(matchValue)) {
        //number
        value = +matchValue;
      } else {
        //any other -> null
        value = null;
      }
    } else if (matchValue != null) {
      // unescape quoted value
      if (matchValue[0] === "'") {
        matchValue = matchValue.substr(1, matchValue.length - 2).replace(/\\([\\'])/g, "$1");
      } else if (matchValue[0] === '"') {
        matchValue = matchValue.substr(1, matchValue.length - 2).replace(/\\([\\"])/g, "$1");
      }

      var matchValueType = matchValue.match(ATTR_VALUE_TYPE_REGEXP);

      if (matchValueType[1]) {
        //uu5JSON
        try {
          value = this.parseFromUu5JSON(matchValue);
        } catch (e) {
          e.context.prop = name;
          throw e;
        }
      } else if (matchValueType[2]) {
        //uu5String
        value = this.getChildrenFromUu5String(matchValue);
      } else if (matchValueType[3]) {
        //uu5Data
        value = this.parseFromUu5Data(matchValue);
      } else {
        //as-is
        if (name === "href") {
          matchValue = matchValue.replace(REGEXP.jsCode, "");
        }

        value = matchValue;
      }
    }

    attrs[name] = value;
    matchAttrs = attrsReg.exec(attrsString);
  }

  return attrs;
};

Tools.isUU5String = function (uu5String) {
  Tools.warning("UU5.Common.Tools.isUU5String is deprecated. Use UU5.Common.UU5String.isValid instead.");
  return typeof uu5String === "string" && !!uu5String.match(REGEXP.uu5string);
};

Tools.getChildrenFromUu5String = function (uu5String, opt) {
  Tools.warning("UU5.Common.Tools.getChildrenFromUu5String is deprecated. Use UU5.Common.UU5String instead."); // opt (Object) - tagsRegExp, checkSpaces, checkGrammar, language - defaults from UU5.Common.TextCorrector

  opt = opt || {}; // replace \r\n because of spaces at the start of text in some paragraph

  uu5String = uu5String.trim().replace(/\r\n/g, "\n");
  var body = opt && opt.body;
  var tagsRegExp = opt.tagsRegExp || _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].uu5StringTagsRegExp || null;
  var childStack = [{
    tag: "_root",
    content: [],
    index: 0
  }];
  var pointer = childStack[0];
  var cIndex = -1;
  var pIndex = 0;
  var pre = false;
  var matchS;
  var matchUu5String = uu5String.match(REGEXP.uu5string);

  if (matchUu5String) {
    // !!!!! Never put uu5stringRe to constants, otherwise it gets stuck - because of exec method on regexp
    // groups: comp name, attrs, -, -, -, self-closing, closing tag comp name, content upto next tag
    var tagRe = new RegExp(TAG, "g");
    pIndex = tagRe.lastIndex = matchUu5String[0].length;
    matchS = tagRe.exec(uu5String);

    while (matchS) {
      cIndex = matchS.index;

      if (cIndex > pIndex) {
        var head = uu5String.substring(pIndex, cIndex);
        pointer.content.push(pre ? _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].textEntityMap.replaceHtmlEntity(head) : Tools.replaceTextEntity(head));
      }

      var childTag = matchS[1] || matchS[7];
      var attrs = matchS[2];
      var isClosing = !!matchS[7];
      var isSelfClosing = !!matchS[6];
      var tagObj = void 0;

      if (pre && !(childTag === "uu5string.pre" && isClosing) || childTag && childTag.match(/^script$/i)) {
        pointer.content.push(_environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].textEntityMap.replaceHtmlEntity(matchS[0]));
      } else {
        if (isClosing) {
          //closing tag
          tagObj = childStack.pop();

          if (tagObj.tag !== childTag) {
            //ERROR
            Tools.error("Invalid uu5string", {
              uu5String: uu5String,
              tag: tagObj.tag,
              position: tagObj.index
            });
            return _element_js__WEBPACK_IMPORTED_MODULE_5__["default"].create(window.UU5.Common.Error, // eslint-disable-line no-undef
            null, UU5.Common.Element.create("div", null, "Invalid uu5string: Tag ", tagObj.tag, " at position ", tagObj.index, " is not closed.", UU5.Common.Element.create("br", null), uu5String));
          }

          pointer = childStack[childStack.length - 1];

          if (pre) {
            pre = false;
            pointer.content[pointer.content.length - 1] = _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].textEntityMap.replaceHtmlEntity(tagObj.content.join(""));
          } else {
            if (tagObj.forbidden) {
              tagObj.content = ["Error: Tag <".concat(tagObj.tag, "/> is not allowed.")];
              tagObj.tag = "UU5.Common.Error";
            }

            var props = void 0;

            if (body) {
              props = tagObj.attrs || {};
              props.content = props.content || tagObj.content;
            }

            pointer.content[pointer.content.length - 1] = body ? {
              tag: tagObj.tag,
              props: props
            } : this.findComponent(tagObj.tag, tagObj.attrs, uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].Content.toArray(tagObj.content));
          }
        } else {
          pre = childTag === "uu5string.pre";
          tagObj = {
            tag: childTag,
            content: [],
            index: matchS.index
          };

          if (tagsRegExp && !tagsRegExp.test(childTag)) {
            tagObj.forbidden = true;
          } else if (attrs) {
            try {
              tagObj.attrs = this.buildAttributes(attrs);
            } catch (err) {
              if (err.code === "uu5jsonInvalid") {
                var tag = tagObj.tag;
                tagObj = {
                  tag: window.UU5.Common.Error,
                  content: [],
                  index: matchS.index,
                  attrs: {
                    content: UU5.Common.Element.create("div", null, "Invalid uu5json: Component ", tag, " has invalid property", " ", err.context.prop + "='<uu5json/>".concat(err.context.json, "'"), ". ", err.message, UU5.Common.Element.create("br", null), uu5String)
                  }
                };
              } else {
                throw err;
              }
            }
          }

          if (isSelfClosing) {
            //self-closing tag
            pre = false;

            if (childTag.indexOf("uu5string.") === 0) {
              //meta-tag uu5string.*
              var s = this.execMetaTag(childTag, tagObj.attrs);
              if (s) s.forEach(function (item) {
                return pointer.content.push(item);
              });
            } else {
              body ? pointer.content.push({
                tag: tagObj.tag,
                props: tagObj.attrs
              }) : pointer.content.push(this.findComponent(tagObj.tag, tagObj.attrs, null));
            }
          } else {
            //common tag
            pointer.content.push(tagObj);
            childStack.push(tagObj);
            pointer = tagObj;
          }
        }
      }

      pIndex = cIndex + matchS[0].length;
      matchS = tagRe.exec(uu5String);
    }

    if (pIndex < uu5String.length) {
      var content = uu5String.substr(pIndex);
      pointer.content.push(pre ? _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].textEntityMap.replaceHtmlEntity(content) : Tools.replaceTextEntity(content));
    }

    if (childStack.length > 1) {
      var _tagObj = childStack.pop();

      Tools.error("Invalid uu5string", {
        uu5String: uu5String,
        tag: _tagObj.tag,
        position: _tagObj.index
      });
      return _element_js__WEBPACK_IMPORTED_MODULE_5__["default"].create(window.UU5.Common.Error, // eslint-disable-line no-undef
      null, UU5.Common.Element.create("div", null, "Invalid uu5string: Tag ", _tagObj.tag, " at position ", _tagObj.index, " is not closed.", UU5.Common.Element.create("br", null), uu5String));
    }
  } else {
    pointer.content.push(uu5String);
  }

  return body ? pointer.content : uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].Content.toArray(pointer.content);
};

Tools.execMetaTag = function (tag, args) {
  //TODO implement each metaTag as separate function, call functions dynamically (witch safety keyword guard)
  var metaTag = tag.slice(10);
  var r = [];

  switch (metaTag) {
    case "now":
      r.push(Tools.toLocaleString(new Date(Date.now())));
      break;

    case "codeHex32":
      r.push(Tools.generateUUID());
      break;

    case "codeHex64":
      r.push(Tools.generateUUID() + Tools.generateUUID());
      break;

    default:
      r.push(null);
  }

  return r;
};

Tools.parseFromUu5JSON = function (uu5Json) {
  uu5Json = uu5Json.replace(REGEXP.uu5json, "");
  var value = null;

  try {
    value = JSON.parse(uu5Json);
  } catch (err) {
    Tools.error("Error uu5JSON parse.", {
      uu5Json: uu5Json,
      cause: err
    });
    err.code = "uu5jsonInvalid";
    err.context = {
      json: uu5Json
    };
    throw err;
  }

  return value;
};

Tools.parseFromUu5Data = function (uu5data) {
  uu5data = uu5data.replace(REGEXP.uu5data, "");
  var parts = uu5data.split(".");
  var data = UU5.Environment.uu5DataMap;

  while (data != null && parts.length > 0) {
    data = data[parts.shift()];
  }

  typeof data === "undefined" && Tools.warning("There is no component data in UU5.Environment.uu5DataMap for uu5Data: ".concat(uu5data, " !"), {
    string: uu5data
  });
  return data;
};

Tools.replaceTextEntity = function (text) {
  return uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].Uu5String._textEntityMap.replace(text);
};

Tools.pad = function (n, width, z) {
  //return width times leading z for n ... pad(99,5,'-') -> '---99'
  z = z || "0";
  n = n + "";
  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
};

Tools.getServerRequest = function (src, parameters, contentType, done, fail) {
  var request = new XMLHttpRequest();
  request.open("GET", src, true);
  contentType && request.setRequestHeader("Content-type", contentType);
  parameters && request.setRequestHeader("Content-length", parameters.length);

  request.onload = function () {
    if (request.status >= 200 && request.status < 300) {
      typeof done === "function" && done(request.response);
    } else if (typeof fail === "function") {
      fail(request);
    }
  };

  request.onerror = function () {
    if (typeof fail === "function") {
      fail(request);
    }
  };

  request.send(parameters);
};

Tools._merge = function (args, deep, preserveRefs) {
  //   var result;
  //   if(args.length){
  //     result = window.Immutable.fromJS(args[0]);
  //
  //     for(var i = 1; i < args.length; i++){
  //       result = deep ? result.mergeDeep(args[i]) : result.merge(args[i]);
  //     }
  //
  //     result = result.toJS();
  //   }
  //   return result;
  var result;

  if (args.length) {
    var data = deep ? [!!preserveRefs, true, {}] : [!!preserveRefs, {}];

    for (var i = 0; i < args.length; i++) {
      data.push(args[i]);
    }

    result = Tools._extend.apply(null, data);
  }

  return result;
};

Tools.mergeDeep = function () {
  return Tools._merge(arguments, true, true);
};

Tools.merge = function () {
  return Tools._merge(arguments);
};

Tools.mergeEnvironmentUu5DataMap = function (uu5DataMap) {
  _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].uu5DataMap = Tools.merge(_environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].uu5DataMap || {}, uu5DataMap);
};

Tools.getUrlParam = function (name) {
  var results = new RegExp("[?&]" + name + "=([^&#]*)").exec(window.location.href);
  return results ? results[1] : null;
}; // used for error context which is sent to server


Tools.getBasicObject = function (object) {
  var result = {};

  if (object["$$typeof"]) {
    result = typeof object.type === "function" ? object.type.tagName : object.type;
  } else if (object["updater"]) {
    result = object["getTagName"] ? object.getTagName() : "[React.element]";
  } else {
    for (var key in object) {
      if (key !== "__proto__") {
        var value = object[key];

        if (value && _typeof(value) === "object") {
          value = this.getBasicObject(value);
        } else if (typeof value === "function") {
          value = "[function]";
        }

        result[key] = value;
      }
    }
  }

  return result;
};

Tools.getNavigator = function () {
  var navigator = window.navigator;
  return {
    vendor: navigator.vendor,
    maxTouchPoints: navigator.maxTouchPoints,
    hardwareConcurrency: navigator.hardwareConcurrency,
    appCodeName: navigator.appCodeName,
    appName: navigator.appName,
    appVersion: navigator.appVersion,
    platform: navigator.platform,
    product: navigator.product,
    userAgent: navigator.userAgent,
    language: navigator.language,
    languages: navigator.languages,
    onLine: navigator.onLine,
    cookieEnabled: navigator.cookieEnabled,
    doNotTrack: navigator.doNotTrack
  };
}; // Tools.logError = function (data) {
//   $.ajax(
//     {
//       url: Environment.logErrorUrl,
//       type: 'post',
//       cache: false,
//       contentType: 'application/json',
//       data: JSON.stringify(
//         {
//           uri: Environment.logErrorUrl,
//           data: data
//         }
//       )
//     }
//   ).fail(
//     function (failDtoIn) {
//       Tools.error('Cannot send error to server', {failDtoIn: failDtoIn});
//     }
//   );
// };


Tools.getFileName = function (path) {
  return path.replace(REGEXP.slashes, "");
};

Tools.getCamelCase = function (string) {
  var firstCharLowerCase = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var camelCase = string || "";

  if (camelCase) {
    if (!firstCharLowerCase) camelCase = camelCase.charAt(0).toUpperCase() + camelCase.slice(1);
    camelCase = camelCase.replace(REGEXP.char, function ($1) {
      return $1.toUpperCase().replace("-", "");
    });
  }

  return camelCase;
};

Tools.getDashCase = function (string) {
  var dashCase = "";

  if (string) {
    dashCase = string.replace(/\B[A-Z]/g, function ($1) {
      return "-" + $1.toLowerCase();
    });
  }

  return dashCase;
};

Tools.getSnakeCase = function (string) {
  var snakeCase = "";

  if (string) {
    snakeCase = string.replace(/\B[A-Z]/g, function ($1) {
      return "_" + $1.toLowerCase();
    });
  }

  return snakeCase;
}; // Element


Tools.getDocumentHeight = function () {
  var body = document.body;
  var html = document.documentElement;
  return Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);
};

Tools.getDocumentWidth = function () {
  var body = document.body;
  var html = document.documentElement;
  return Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth);
};

Tools.getWidth = function (element) {
  var paddingLeft = parseInt(window.getComputedStyle(_dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element), null).getPropertyValue("padding-left").replace("px", "") || "0");
  var paddingRight = parseInt(window.getComputedStyle(_dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element), null).getPropertyValue("padding-right").replace("px", "") || "0");
  return _dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element).clientWidth - paddingLeft - paddingRight;
};

Tools.getInnerWidth = function (element) {
  return _dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element).clientWidth;
};

Tools.getOuterWidth = function (element, withMargin) {
  var result = _dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element).offsetWidth;

  if (withMargin) {
    var marginLeft = parseInt(window.getComputedStyle(_dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element), null).getPropertyValue("margin-left").replace("px", "") || "0");
    var marginRight = parseInt(window.getComputedStyle(_dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element), null).getPropertyValue("margin-right").replace("px", "") || "0");
    result += marginLeft + marginRight;
  }

  return result;
};

Tools.getHeight = function (element) {
  var paddingTop = parseInt(window.getComputedStyle(_dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element), null).getPropertyValue("padding-top").replace("px", "") || "0");
  var paddingBottom = parseInt(window.getComputedStyle(_dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element), null).getPropertyValue("padding-bottom").replace("px", "") || "0");
  return _dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element).clientHeight - paddingTop - paddingBottom;
};

Tools.getInnerHeight = function (element) {
  return _dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element).clientHeight;
};

Tools.getOuterHeight = function (element, withMargin) {
  var result = _dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element).offsetHeight;

  if (withMargin) {
    var marginTop = parseInt(window.getComputedStyle(_dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element), null).getPropertyValue("margin-top").replace("px", "") || "0");
    var marginBottom = parseInt(window.getComputedStyle(_dom_js__WEBPACK_IMPORTED_MODULE_8__["default"].findNode(element), null).getPropertyValue("margin-bottom").replace("px", "") || "0");
    result += marginTop + marginBottom;
  }

  return result;
};

Tools.calculateTextWidth = function (text, style) {
  var fontSize = style ? style.fontSize : "12px";
  var tempElement = document.createElement("div");
  tempElement.style.cssText = "\n    position: absolute;\n    visibility: hidden;\n    height: auto;\n    width: auto;\n    white-space: nowrap;\n    font-size: ".concat(fontSize, ";\n  ");
  Object.assign(tempElement.style, style);
  tempElement.innerText = text;
  document.documentElement.appendChild(tempElement);
  var width = tempElement.clientWidth;
  document.documentElement.removeChild(tempElement);

  if (Tools.isEdge()) {
    width += 4;
  } else if (Tools.isIE()) {
    width += 2;
  }

  return width;
};

Tools.getOffsetTop = function (offsetElement, scrollElement) {
  var offsetTop = 0;

  if (offsetElement) {
    var scrollTop = scrollElement ? scrollElement.scrollTop : window.scrollY || document.body.scrollTop || window.pageYOffset;
    offsetTop = offsetElement.getBoundingClientRect().top + scrollTop;
  }

  return offsetTop;
};

Tools.getOffsetLeft = function (offsetElement, scrollElement) {
  var offsetLeft = 0;

  if (offsetElement) {
    var scrollLeft = scrollElement ? scrollElement.scrollTop : window.scrollX || document.body.scrollLeft || window.pageXOffset;
    offsetLeft = offsetElement.getBoundingClientRect().left + scrollLeft;
  }

  return offsetLeft;
};

Tools.getChildTag = function (child) {
  // react child type
  return child.type;
};

Tools.getChildDisplayName = function (child) {
  var tag = Tools.getChildTag(child);
  return typeof tag === "function" ? tag.displayName : tag;
};

Tools.getChildTagName = function (child) {
  // UU5 tagNames or standard DOM tags ('div', 'span',...)
  var tag = Tools.getChildTag(child);
  return tag && tag.tagName ? tag.tagName : tag;
}; // Environment


Tools.isMobileOrTablet = function () {
  var check = false;

  (function (a) {
    if (REGEXP.mobile1.test(a) || REGEXP.mobile2.test(a.substr(0, 4))) check = true;
  })(navigator.userAgent || navigator.vendor || window.opera);

  return check;
}();

Tools.getMobileOS = function () {
  var userAgent = navigator.userAgent || navigator.vendor || window.opera;
  var os = "unknown"; // Windows Phone must come first because its UA also contains "Android"

  if (REGEXP.windowsPhone.test(userAgent)) {
    os = "windowsPhone";
  } else if (REGEXP.android.test(userAgent)) {
    os = "android"; // iOS detection from: http://stackoverflow.com/a/9039885/177710
  } else if (REGEXP.iPhone.test(userAgent) && !window.MSStream) {
    os = "iOS";
  }

  return os;
};

Tools.isMobileIOS = function () {
  return this.getMobileOS() === "iOS";
};

Tools.isMobileAndroid = function () {
  return this.getMobileOS() === "android";
};

Tools.isSafari = function () {
  var userAgent = window.navigator.userAgent;
  return this.isMobileIOS() && userAgent.indexOf("Safari") > -1 && userAgent.indexOf("CriOS") === -1;
};

Tools.isChrome = function () {
  var userAgent = window.navigator.userAgent;
  return REGEXP.chrome.test(userAgent) && userAgent.indexOf("Version") === -1 && !Tools.isEdge();
};

Tools.isEdge = function () {
  var userAgent = window.navigator.userAgent;
  return REGEXP.edge.test(userAgent) && userAgent.indexOf("Version") === -1;
};

Tools.isIE = function () {
  var userAgent = window.navigator.userAgent;
  return REGEXP.ie.test(userAgent) && userAgent.indexOf("Version") === -1;
};

Tools.isAndroidChrome = function () {
  return this.isMobileAndroid() && this.isChrome();
};

Tools.isMac = function () {
  return window.navigator.platform && window.navigator.platform.match(/Mac/) ? true : false;
};

Tools.getBrowserLanguage = function () {
  return window.navigator.language ? window.navigator.language.toLowerCase() : "en";
};

Tools.getMobileOSVersion = function () {
  var version = window.navigator.userAgent.match(REGEXP.mobile);
  return version && version[2] ? +version[2].replace("_", ".") : 0;
};

Tools.isTablet = function () {
  var userAgent = window.navigator.userAgent;
  return this.isSafari() && userAgent.indexOf("iPad") > -1 || this.isAndroidChrome() && userAgent.indexOf("Mobile") === -1;
}; // Cookies


Tools.setCookie = function (cookieName, cookieValue, expireDays) {
  var d = new Date();
  d.setTime(d.getTime() + expireDays * 24 * 60 * 60 * 1000);
  var expires = "expires=" + d.toUTCString();
  document.cookie = cookieName + "=" + cookieValue + "; " + expires;
};

Tools.getCookie = function (cookieName) {
  var name = cookieName + "=";
  var ca = document.cookie.split(";");

  for (var i = 0; i < ca.length; i++) {
    var c = ca[i];

    while (c.charAt(0) == " ") {
      c = c.substring(1);
    }

    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }

  return "";
}; // languagesString = 'cs-CZ,en;q=0.6,sk;q=0.8' => [{language: 'cs', location: 'cs-cz', q: 1.0}, {language: 'sk', q:
// 0.8}, {language: 'en', q: 0.6}] languagesString = 'cs' => [{language: 'cs', q: 1.0}] languagesString =
// 'en;q=0.6,sk;q=0.8' => [{language: 'sk', q: 0.8}, {language: 'en', q: 0.6}]


Tools.sortLanguages = function (languagesString) {
  // languagesString = 'cs-CZ,en;q=0.6,sk;q=0.8' => languagesSplitter = ['cs-CZ', 'en;q=0.6', 'sk;q=0.8']
  var languagesSplitter = languagesString.toLowerCase().split(",");
  var languages = {};
  languagesSplitter.forEach(function (lang) {
    var lang = lang.trim();
    var language = {};
    var langOpt = lang.split(";");
    var langStr = langOpt[0];
    var q = 1; // quality factor

    if (langOpt.length > 1) {
      langStr = langOpt[0];
      q = parseFloat(langOpt[1].split("=")[1]);
    }

    var langStrSplitter = langStr.split("-");
    language.language = langStrSplitter[0];
    langStrSplitter[1] && (language.location = langStr);

    if (languages[lang]) {
      languages[lang].q < q && (languages[lang].q = q);
    } else {
      language.q = q;
      languages[lang] = language;
    }
  }); // languagesArray = [{language: 'cs', location: 'cs-CZ', q: 1.0}, {language: 'en', q: 0.6}, {language: 'sk', q:
  // 0.8}]

  var languagesArray = Object.keys(languages).map(function (lang) {
    return languages[lang];
  }).sort(function (langA, langB) {
    if (langA.q < langB.q) {
      return -1;
    }

    if (langA.q > langB.q) {
      return 1;
    }

    return 0;
  }); // [{language: 'cs', location: 'cs-CZ', q: 1.0}, {language: 'sk', q: 0.8}, {language: 'en', q: 0.6}]

  return languagesArray.sort(function (lang1, lang2) {
    var result = 0;

    if (lang1.q < lang2.q) {
      result = 1;
    } else if (lang1.q > lang2.q) {
      result = -1;
    }

    return result;
  });
};

Tools.generateUUID = function (length) {
  return _environment_tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].generateId(length);
};

Tools.joinClassNames = function (className1, className2) {
  return [className1, className2].join(" ").replace(REGEXP.whiteSpaces, " ").trim();
};

Tools.buildClasses = function (classes, keys) {
  var className = "";
  classes && keys.forEach(function (v) {
    classes[v] && (className += " " + classes[v]);
  });
  return className.trim();
};

Tools.isInClasses = function (classes, regExp) {
  var classesArray = classes ? classes.split(" ") : [];
  var result = false;

  while (!result && classesArray.length) {
    classesArray[0].match(regExp) && (result = true);
    classesArray.shift();
  }

  return result;
};

Tools.addClassName = function (newClassName, classes) {
  if (classes && classes.indexOf(newClassName) > -1) {
    classes = classes.replace(newClassName, "");
    classes = classes.replace(REGEXP.whiteSpaces, " ");
  }

  if (classes) {
    classes += " " + newClassName;
  } else {
    classes = newClassName;
  }

  return classes;
};

Tools.buildCounterCallback = function (callback, count) {
  /*
   Method wrap (function) callback by newCallBack.
   If newCallBack is used, increase closureCounter
   but call callback just if closureCounter === count.
   You can use this 'tricky' method, when you want to call callback
   just once but you have to send it to several methods.
   See examples!!!
   */
  var newCallback = null;

  if (typeof callback === "function") {
    var closureCounter = 0;

    newCallback = function newCallback() {
      closureCounter++;
      closureCounter === count && callback.apply(null, arguments);
    };
  }

  return newCallback;
};

Tools.formatString = function (string, stringParams) {
  var _Utils$String;

  var paramList = Array.isArray(stringParams) ? stringParams : arguments.length >= 2 ? [stringParams] : [];
  return (_Utils$String = uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].String).format.apply(_Utils$String, [string].concat(_toConsumableArray(paramList)));
};

var postponedScrollToTarget;

Tools.scrollToTarget = function (id, smoothScroll, offset, scrollElement, stickToPosition) {
  var element = id ? document.getElementById(id.replace("#", "")) : document.body;

  if (!element) {
    return _this;
  } // if page is not visible then postpone scrolling to target until it becomes visible


  if (!_environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].isPageVisible()) {
    if (!postponedScrollToTarget) {
      _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventListener.registerPageVisibility("UU5.Common.Tools.scrollToTarget", function (_ref2) {
        var visible = _ref2.visible;

        if (visible) {
          _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventListener.unregisterPageVisibility("UU5.Common.Tools.scrollToTarget");
          Tools.scrollToTarget.apply(Tools, postponedScrollToTarget);
          postponedScrollToTarget = undefined;
        }
      });
    }

    postponedScrollToTarget = [id, smoothScroll, offset, scrollElement, stickToPosition];
    return _this;
  } // if element is in position: fixed; container (and the container is not in a box with CSS transform)
  // then it makes no sense to scroll the body because the elements position relative to viewport won't change


  var elem = element;
  var hasFixed = false;

  if (!scrollElement) {
    while (elem && elem.tagName) {
      var computedStyle = getComputedStyle(elem);
      if (computedStyle.transform !== "none") hasFixed = false;
      if (!hasFixed) hasFixed = computedStyle.position === "fixed";
      elem = elem.parentNode;
    }

    if (hasFixed) {
      return _this;
    }
  } //stop scroll on this events: scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove


  var html = scrollElement || document.documentElement; // window.UU5.Environment.EventListener.addEvent(html, 'scroll', id, cancel);

  window.UU5.Environment.EventListener.addEvent(html, "mousedown", id, cancel);
  window.UU5.Environment.EventListener.addEvent(html, "wheel", id, cancel);
  window.UU5.Environment.EventListener.addEvent(html, "DOMMouseScroll", id, cancel);
  window.UU5.Environment.EventListener.addEvent(html, "mousewheel", id, cancel);
  window.UU5.Environment.EventListener.addEvent(html, "keyup", id, cancel);
  window.UU5.Environment.EventListener.addEvent(html, "touchmove", id, cancel);
  var y = scrollElement ? offset || 0 : (Tools.getOffsetTop(element, scrollElement) || 0) - (offset || 0);

  var _update;

  var _from = scroll();

  var _duration = typeof smoothScroll === "number" ? smoothScroll : 1000;

  var _curr = _from; //Tools merge

  var _done = false;

  var _start = Date.now();

  var origFrom = scroll(); // x, y coordinates

  var _to = {
    top: y,
    left: 0
  };

  var _ease = function _ease(n) {
    n *= 2;
    if (n < 1) return 0.5 * n * n;
    return -0.5 * (--n * (n - 2) - 1);
  };

  update(function (o) {
    if (scrollElement) {
      scrollElement.scrollTop = o.top || 0;
      scrollElement.scrollLeft = o.left || 0;
    } else {
      window.scrollTo(o.left | 0, o.top | 0);
    }

    if (_done && !scrollElement && stickToPosition) {
      // make scroll position stick to the target element if there're DOM position changes going on
      // (stop it if there's no change during last few milliseconds)
      var NO_CHANGE_PERIOD = 5000;
      var unstickTimeout;
      var ignoreScroll = true; // initially true because we just did window.scrollTo(...)

      var ignoreScrollResetAnimFrame = requestAnimationFrame(function () {
        return ignoreScroll = false;
      }, 0); // in case window.scrollTo(...) above did no scrolling

      var checkPositionChangeAnimFrame = requestAnimationFrame(checkPositionChange);
      window.addEventListener("scroll", function handler(e) {
        if (ignoreScroll) {
          ignoreScroll = false;
          return;
        }

        window.removeEventListener("scroll", handler);
        unstick();
      });
      replanUnstick();

      function checkPositionChange() {
        checkPositionChangeAnimFrame = requestAnimationFrame(checkPositionChange);
        var curTop = (Tools.getOffsetTop(element, scrollElement) || 0) - (offset || 0);

        if (curTop !== _to.top) {
          replanUnstick();
          _to.top = curTop;
          ignoreScroll = true;
          window.scrollTo(_to.left | 0, _to.top | 0); // enqueues scroll event (if needed)

          cancelAnimationFrame(ignoreScrollResetAnimFrame);
          ignoreScrollResetAnimFrame = requestAnimationFrame(function () {
            return ignoreScroll = false;
          }, 0); // clear flag afterwards (if the scroll event was not enqueued)
        }
      }

      function replanUnstick() {
        clearTimeout(unstickTimeout);
        unstickTimeout = setTimeout(unstick, NO_CHANGE_PERIOD);
      }

      function unstick() {
        cancelAnimationFrame(checkPositionChangeAnimFrame);
        clearTimeout(unstickTimeout);
        cancelAnimationFrame(ignoreScrollResetAnimFrame);
      }
    }
  });

  function cancel() {
    _done = true;
    window.UU5.Environment.EventListener.removeEvent(html, "scroll", id);
    window.UU5.Environment.EventListener.removeEvent(html, "mousedown", id);
    window.UU5.Environment.EventListener.removeEvent(html, "wheel", id);
    window.UU5.Environment.EventListener.removeEvent(html, "DOMMouseScroll", id);
    window.UU5.Environment.EventListener.removeEvent(html, "mousewheel", id);
    window.UU5.Environment.EventListener.removeEvent(html, "keyup", id);
    window.UU5.Environment.EventListener.removeEvent(html, "touchmove", id);
    return this;
  }

  function step() {
    if (!_done) {
      // duration
      var duration = _duration;
      var now = Date.now();
      var delta = now - _start;
      var done = delta >= duration; // Fix for a situation when the position of the element is changed during the animation

      _to.top = (Tools.getOffsetTop(element, scrollElement) || 0) - (offset || 0); // complete

      if (done) {
        _from = _to;
        cancel();

        _update(_to);

        return this;
      }

      var from = _from;
      var to = _to;
      var curr = _curr;
      var fn = _ease;
      var p = (now - _start) / duration;
      var n = fn(p);

      for (var k in from) {
        curr[k] = (to[k] - origFrom[k]) * n + origFrom[k];
      }

      _update(curr);
    }

    return this;
  }

  function update(fn) {
    if (0 == arguments.length) return step();
    _update = fn;
    return this;
  }

  function scroll() {
    var x, y;

    if (scrollElement) {
      y = scrollElement.scrollTop;
      x = scrollElement.scrollLeft;
    } else {
      y = window.pageYOffset || document.documentElement.scrollTop;
      x = window.pageXOffset || document.documentElement.scrollLeft;
    }

    return {
      top: y,
      left: x
    };
  }

  function animate() {
    var raf = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || fallback;
    !_done && raf(animate);
    update();
  }

  function fallback(fn) {
    var prev = new Date().getTime();
    var curr = new Date().getTime();
    var ms = Math.max(0, 16 - (curr - prev));
    var req = setTimeout(fn, ms);
    prev = curr;
    return req;
  }

  animate();
  return _this;
};

var logger = _utils_logger_factory_js__WEBPACK_IMPORTED_MODULE_10__["LoggerFactory"].get("UU5.Common.Tools");

Tools.error = function (msg, context) {
  var _logger = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

  // if (Environment.isProduction()) {
  //   console.error('For debugging use development mode.');
  // } else {
  var usedLogger = typeof (_logger === null || _logger === void 0 ? void 0 : _logger.error) !== "function" ? logger : _logger;
  usedLogger.error(msg, context); // }

  if (_environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].logErrorFunction) {
    var data = {
      message: msg,
      context: Tools.getBasicObject(context),
      navigator: Tools.getNavigator(),
      stackTrace: new Error().stack
    };

    if (typeof _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].logErrorFunction === "function") {
      _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].logErrorFunction(data);
    } else {
      //Tools.logError(data);
      console.error("Please add to \"UU5.Environment.logErrorFunction\" your own function as:\n      function (data) {\n        $.ajax(\n          {\n            url: '...',\n            type: 'post',\n            cache: false,\n            contentType: 'application/json',\n            data: JSON.stringify(\n              {\n                data: data\n              }\n            )\n          }\n        ).fail(\n          function (failDtoIn) {\n            UU5.Common.Tools.error('Cannot send error to server', {failDtoIn: failDtoIn});\n          }\n        );\n      }", context);
    }
  }
};

Tools.warning = function (msg, context) {
  var _logger = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

  var usedLogger = typeof (_logger === null || _logger === void 0 ? void 0 : _logger.warn) !== "function" ? logger : _logger;
  usedLogger.warn(msg, context);
};

Tools.repeat = function (value, count) {
  var rpt = "";
  var str = value + "";

  for (;;) {
    if ((count & 1) == 1) {
      rpt += str;
    }

    count >>>= 1;

    if (count == 0) {
      break;
    }

    str += str;
  }

  return rpt;
};

Tools.rjust = function (string, length, padding) {
  string = "" + string;
  padding = padding || " ";
  var newString = string;

  if (string.length < length) {
    newString = Tools.repeat(padding, length).substr(0, length - string.length) + newString;
  }

  return newString;
};

Tools.ljust = function (string, length, padding) {
  string = "" + string;
  padding = padding || " ";
  var newString = string;

  if (string.length < length) {
    newString += Tools.repeat(padding, length).substr(0, length - string.length);
  }

  return newString;
}; // TODO: nezaokrouhluje jen desetinná místa -> není to decimalAdjust, ale numberAdjust
// type: round, floor, ceil, trunc


Tools.decimalAdjust = function () {
  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "round";
  var value = arguments.length > 1 ? arguments[1] : undefined;
  var exp = arguments.length > 2 ? arguments[2] : undefined;

  // If the exp is undefined or zero...
  if (typeof exp === "undefined" || +exp === 0) {
    return Math[type](value);
  }

  value = +value;
  exp = +exp; // If the value is not a number or the exp is not an integer...

  if (isNaN(value) || !(typeof exp === "number" && exp % 1 === 0)) {
    return NaN;
  } // Shift


  value = value.toString().split("e");
  value = Math[type](+(value[0] + "e" + (value[1] ? +value[1] - exp : -exp))); // Shift back

  value = value.toString().split("e");
  return +(value[0] + "e" + (value[1] ? +value[1] + exp : exp));
}; // Decimal round


Tools.round10 = function (value, exp) {
  return Tools.decimalAdjust("round", value, exp);
}; // Decimal floor


Tools.floor10 = function (value, exp) {
  return Tools.decimalAdjust("floor", value, exp);
}; // Decimal ceil


Tools.ceil10 = function (value, exp) {
  return Tools.decimalAdjust("ceil", value, exp);
};

Tools.encodeValue = function (value) {
  var result = value + "";

  if (value && (Array.isArray(value) || _typeof(value) === "object")) {
    result = JSON.stringify(value);
  }

  return encodeURIComponent(result);
};

Tools.encodeQuery = function (params) {
  var query = "?";

  for (var name in params) {
    query += name + "=" + Tools.encodeValue(params[name]) + "&";
  }

  return query.substr(0, query.length - 1);
};

Tools.isJson = function (str) {
  try {
    return JSON.parse(str);
  } catch (e) {
    return false;
  }
};

Tools.decodeValue = function (value) {
  value = decodeURIComponent(value);
  var result = value;

  if (!isNaN(value)) {
    result = +value;
  } else if (value === "true") {
    result = true;
  } else if (value === "false") {
    result = false;
  } else {
    var json = Tools.isJson(value);

    if (json) {
      result = json;
    }
  }

  return result;
};

Tools.decodeQuery = function (query) {
  var params = {};
  query.substr(1, query.length - 1).split("&").forEach(function (value) {
    var valueSplitter = value.split("=");
    params[valueSplitter[0]] = Tools.decodeValue(valueSplitter[1]);
  });
  return params;
};

Tools.copyToClipboard = function (content) {
  var actualScroll = window.scrollY || document.body.scrollTop || window.pageYOffset;
  var tempElement = document.createElement("textarea");
  tempElement.className = "uu5-common-temp-textarea";
  tempElement.value = content;
  document.body.appendChild(tempElement);
  tempElement.select();
  document.execCommand("copy");

  if (tempElement.remove) {
    tempElement.remove();
  } else {
    tempElement.parentNode.removeChild(tempElement);
  }

  document.documentElement.scrollTop = actualScroll;
  document.body.scrollTop = actualScroll;
};

Tools.getWeekNumber = function (date) {
  var startOfWeek = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
  var d = new Date(+date);
  d.setHours(0, 0, 0);
  var dayOffset = (d.getDay() || 7) - (startOfWeek - 1);
  if (dayOffset <= 0) dayOffset += 7;
  d.setDate(d.getDate() + 4 - dayOffset);
  return Math.ceil(((d - new Date(d.getFullYear(), 0, 1)) / 8.64e7 + 1) / 7);
}; // dateToDateString


Tools.formatDate = function (date, format) {
  var timeZone = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

  if (typeof timeZone === "number") {
    var utc = new Date(date.getTime() + date.getTimezoneOffset() * 60000);
    date = new Date(utc.getTime() + timeZone * 60 * 60000);
  }

  var year = date.getFullYear();
  var month = date.getMonth() + 1;
  var week = Tools.getWeekNumber(date);

  if (REGEXP.weekYear.test(format) && month === 12 && week === 1) {
    year++;
  }

  var config = {
    "d+": date.getDate(),
    //day
    "m+": month,
    //month
    y: (year + "").substr(2, 2),
    // year end
    Y: year,
    // year full
    "h+": date.getHours() > 12 ? date.getHours() - 12 : date.getHours() === 0 ? 12 : date.getHours(),
    //hour 1 - 12
    "H+": date.getHours(),
    //hour
    "M+": date.getMinutes(),
    //minute
    "S+": date.getSeconds(),
    //second
    "s+": date.getMilliseconds(),
    //millisecond
    t: date.getHours() >= 12 ? "p.m." : "a.m.",
    T: date.getHours() >= 12 ? "PM" : "AM",
    "w+": week,
    q: Math.floor((date.getMonth() + 3) / 3),
    //quarter
    Z: typeof timeZone === "number" ? timeZone * 60 : -date.getTimezoneOffset()
  };

  for (var k in config) {
    if (new RegExp("(" + k + ")").test(format)) {
      var _formatValue = function _formatValue(chars, value) {
        var result = value;

        if (chars === "Z") {
          if (value > 0) {
            result = "+";
          } else {
            result = "-";
            value *= -1;
          }

          result += Tools.rjust(Math.floor(value / 60), 2, "0") + ":" + Tools.rjust(Math.floor(value % 60), 2, "0");
        } else if (chars.length === 2) {
          if (chars === "ss") {
            result = Tools.rjust(value, 3, "0");
          } else {
            result = Tools.rjust(value, 2, "0");
          }
        }

        return result;
      };

      format = format.replace(RegExp.$1, _formatValue(RegExp.$1, config[k]));
    }
  }

  return format;
};

Tools.extend = function () {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return Tools._extend.apply(Tools, [false].concat(args));
};

Tools._extend = function (preserveRefs) {
  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
    args[_key2 - 1] = arguments[_key2];
  }

  var src,
      copyIsArray,
      copy,
      name,
      options,
      clone,
      target = args[0] || {},
      i = 1,
      length = args.length,
      deep = false; // Handle a deep copy situation

  if (typeof target === "boolean") {
    deep = target; // skip the boolean and the target

    target = args[i] || {};
    i++;
  } // Handle case when target is a string or something (possible in deep copy)


  if (_typeof(target) !== "object" && typeof target !== "function") {
    target = {};
  } // extend jQuery itself if only one argument is passed


  if (i === length) {
    target = this;
    i--;
  }

  var targetIsArray = Array.isArray(target);

  for (; i < length; i++) {
    // Only deal with non-null/undefined values
    if ((options = args[i]) != null) {
      // Extend the base object
      // merge React elements via Element.clone (clone props separately, then do cloneElement)
      // because React Context elements are cyclic...
      if (deep && options && _typeof(options) === "object" && _element_js__WEBPACK_IMPORTED_MODULE_5__["default"].isValid(options)) {
        var newProps = {};

        if (options.props) {
          for (var k in options.props) {
            var v = options.props[k];

            if (preserveRefs && k === "ref_" && v && _typeof(v) === "object") {
              newProps[k] = v;
            } else if (v && Array.isArray(v)) {
              newProps[k] = Tools._extend(preserveRefs, deep, [], v);
            } else if (v && Tools.isPlainObject(v)) {
              newProps[k] = Tools._extend(preserveRefs, deep, {}, v);
            } else {
              newProps[k] = v;
            }
          }
        }

        var newChildren = newProps.children;
        delete newProps.children;
        var clonedReactEl = _element_js__WEBPACK_IMPORTED_MODULE_5__["default"].clone(options, newProps, newChildren);

        if (clonedReactEl._store && options._store) {
          clonedReactEl._store.validated = options._store.validated; // to prevent extra warnings about missing "key"
        } // if the target is a React element, then "merge" by actually replacing the element,
        // otherwise just copy all keys


        if (target && _typeof(target) === "object" && _element_js__WEBPACK_IMPORTED_MODULE_5__["default"].isValid(target)) {
          for (var _k in target) {
            delete target[_k];
          }
        }

        for (var _k2 in clonedReactEl) {
          target[_k2] = clonedReactEl[_k2];
        }
      } else {
        for (name in options) {
          src = target[name];
          copy = options[name]; // Prevent never-ending loop
          // TODO This is insufficient (works only when cycle is at parent-child level).

          if (target === copy) {
            continue;
          } // Recurse if we're merging plain objects or arrays


          if (deep && copy && (Tools.isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))) {
            if (copyIsArray) {
              copyIsArray = false;
              clone = src && Array.isArray(src) ? src : [];
            } else {
              clone = src && Tools.isPlainObject(src) ? src : {};
            } // Never move original objects, clone them


            target[name] = Tools._extend(preserveRefs, deep, clone, copy); // Don't bring in undefined values (do for arrays as it might change their length otherwise)
          } else if (copy !== undefined || targetIsArray) {
            target[name] = copy;
          }
        }
      }
    }
  } // Return the modified object


  return target;
};

Tools.isPlainObject = function (obj) {
  var result = false;

  if (_typeof(obj) == "object" && obj !== null) {
    if (typeof Object.getPrototypeOf == "function") {
      var proto = Object.getPrototypeOf(obj);
      result = proto === Object.prototype || proto === null;
    } else {
      result = Object.prototype.toString.call(obj) === "[object Object]";
    }
  }

  return result;
};

Tools.isSame = function (x, y) {
  if (x === y) {
    return x !== 0 || y !== 0 || 1 / x === 1 / y;
  } else {
    return x !== x && y !== y;
  }
}; // TODO: deprecated


Tools.shallowEqual = function (objA, objB) {
  Tools.warning("Method UU5.Common.Tools.shallowEqual is deprecated. Use UU5.Common.Tools.deepEqual instead.");
  return Tools.deepEqual(objA, objB);
};

Tools.deepEqual = function (objA, objB) {
  if (Tools.isSame(objA, objB)) {
    return true;
  }

  if (_typeof(objA) !== "object" || objA === null || _typeof(objB) !== "object" || objB === null) {
    return false;
  }

  var keysA = Object.keys(objA);
  var keysB = Object.keys(objB);

  if (keysA.length !== keysB.length) {
    return false;
  }

  for (var i = 0; i < keysA.length; i++) {
    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i])) {
      return false;
    }

    if (objA[keysA[i]] && objB[keysA[i]] && _typeof(objA[keysA[i]]) === "object" && _typeof(objB[keysA[i]]) === "object") {
      // must be condition because in React 16 _owner is FiberNode which is recursive
      if ((!objA.$$typeof || keysA[i] !== "_owner") && !Tools.deepEqual(objA[keysA[i]], objB[keysA[i]])) {
        return false;
      }
    } else if (keysA[i] !== "ref_" && !Tools.isSame(objA[keysA[i]], objB[keysA[i]])) {
      return false;
    }
  }

  return true;
};

Tools.prettyJson = function (object, space) {
  return JSON.stringify(typeof object === "string" ? JSON.parse(object) : object, null, space || 2);
};

Tools.childToBodyItem = function (child) {
  return {
    tag: Tools.getChildTagName(child),
    props: Tools.mergeDeep({}, child.props)
  };
};

Tools.getElementByComputedStyle = function (element, styleProperty, value) {
  var result;
  var parent = element.parentElement;

  if (parent) {
    var style = window.getComputedStyle(parent);

    if (Array.isArray(value) ? value.indexOf(style.getPropertyValue(styleProperty)) > -1 : style.getPropertyValue(styleProperty) === value) {
      result = parent;
    } else {
      result = Tools.getElementByComputedStyle(parent, styleProperty, value);
    }
  }

  return result;
};

Tools.createStyleTag = function (css, id) {
  var head = document.head || document.getElementsByTagName("head")[0];
  var style = document.createElement("style");
  style.type = "text/css";
  style.id = id + "-style-sheet";

  if (style.styleSheet) {
    // This is required for IE8 and below.
    style.styleSheet.cssText = css;
  } else {
    style.appendChild(document.createTextNode(css));
  }

  head.appendChild(style);
  return _this;
};

Tools.removeStyleTag = function (id) {
  var style = _this.getElementById(id + "-style-sheet");

  if (style) {
    if (style.remove) {
      style.remove();
    } else {
      style.parentNode.removeChild(style);
    }
  }
};

Tools.hasProfile = function (sourceProfileList, requestedProfile) {
  return sourceProfileList ? sourceProfileList.indexOf(requestedProfile) > -1 : false;
};

Tools.hasProfileOnly = function (sourceProfileList, requestedProfile) {
  return sourceProfileList ? sourceProfileList.indexOf(requestedProfile) > -1 && sourceProfileList.length === 1 : false;
};

Tools.hasSomeProfiles = function (sourceProfileList, requestedProfileList) {
  return requestedProfileList ? requestedProfileList.some(function (v) {
    return Tools.hasProfile(sourceProfileList, v);
  }) : false;
};

Tools.hasEveryProfiles = function (sourceProfileList, requestedProfileList) {
  return requestedProfileList ? requestedProfileList.every(function (v) {
    return Tools.hasProfile(sourceProfileList, v);
  }) : false;
};

Tools.getScreenSize = function () {
  return _utils_screen_size_js__WEBPACK_IMPORTED_MODULE_6__["default"].countSize();
};

Tools.getLanguages = function (language) {
  if (!language && Tools._languageProviderValue) {
    return Tools.sortLanguages(Tools._languageProviderValue.language);
  }

  return language ? Tools.sortLanguages(language) : _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].languages;
};

Tools.getLanguage = function () {
  if (Tools._languageProviderValue) {
    return Tools._languageProviderValue.language;
  }

  return _environment_tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLanguage();
};

Tools.setLanguage = function (language) {
  Tools.setLanguages(language);
  var lang = _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].languages[0];

  if (lang) {
    if (Tools._languageProviderValue) {
      Tools._languageProviderValue.setLanguage(lang.location || lang.language);
    } else {
      _utils_lsi_js__WEBPACK_IMPORTED_MODULE_7__["default"].setLanguage(lang.location || lang.language);
    }

    _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].setDateTimeCountry(lang.language);
    _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].setNumberCountry(lang.language);
  }

  return _this;
};

Tools.setLanguages = function (languages) {
  if (typeof languages === "string") {
    languages = Tools.sortLanguages(languages);
    _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].languages = languages;
  } else if (Array.isArray(languages)) {
    languages.forEach(function (language) {
      if (!(typeof language.language === "string") || !(0 < language.q && language.q < 1)) {
        Tools.error("The provided language array is not allowed.");
        return _this;
      }
    });
    _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].languages = languages;
  }

  var priorityLang = _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].languages[0];

  if (priorityLang) {
    document.documentElement.setAttribute("lang", priorityLang.location || priorityLang.language);
  }

  return _this;
};

Tools.getLsiKey = function (lsi, languages, language, defaultLanguage) {
  var lsiKey = null;
  languages = languages || Tools.getLanguages(language);

  if (lsi) {
    var keys = Object.keys(lsi);
    var resLang = keys[0];

    var _loop = function _loop(i) {
      var lang = languages[i];

      if (lsi[lang.location]) {
        resLang = lang.location;
        return "break";
      } else if (lsi[lang.language]) {
        resLang = lang.language;
        return "break";
      } else {
        var lsiKeys = keys.filter(function (key) {
          return key.match("^" + lang.language);
        });

        if (lsiKeys.length) {
          resLang = lsiKeys[0];
          return "break";
        } else {
          defaultLanguage = defaultLanguage || _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].defaultLanguage;

          if (defaultLanguage) {
            if (lsi[defaultLanguage]) {
              resLang = defaultLanguage;
              return "break";
            } else if (lsi[defaultLanguage.split("-")[0]]) {
              resLang = defaultLanguage.split("-")[0];
              return "break";
            }
          }
        }
      }
    };

    for (var i = 0; i < languages.length; i++) {
      var _ret = _loop(i);

      if (_ret === "break") break;
    }

    lsiKey = lsi[resLang] ? resLang : lsi[keys[0]] ? keys[0] : null;
  }

  return lsiKey;
};

Tools.getLsiItemByLanguage = function (lsi, params, languages) {
  var lsiKey = Tools.getLsiKey(lsi, languages);
  var result = lsiKey ? lsi[lsiKey] : null;

  if (typeof result === "string" && params != null) {
    result = Tools.formatString(result, params);
  }

  return result;
};

Tools.getLsiValueByLanguage = function (lsi, language, params) {
  var lsiKey = Tools.getLsiKey(lsi, null, language);
  var result = lsiKey ? lsi[lsiKey] : null;

  if (typeof result === "string" && params) {
    result = Tools.formatString(result, params);
  }

  return result;
};

Tools.toLocaleDateString = function (date, country, opt) {
  // because of IE
  return date.toLocaleDateString(country, opt).replace(/\u200E/g, "");
};

Tools.toLocaleTimeString = function (date, country, opt) {
  // because of IE
  return date.toLocaleTimeString(country, opt).replace(/\u200E/g, "");
};

Tools.toLocaleString = function (date, country, opt) {
  // because of IE
  return date.toLocaleString(country, opt).replace(/\u200E/g, "");
};

Tools.adjustForTimezone = function (date, outputTimeZone, inputTimeZone) {
  inputTimeZone = typeof inputTimeZone === "number" ? inputTimeZone : _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].dateTimeZone;

  if (date) {
    inputTimeZone = -inputTimeZone * 60 * 60000;

    if (typeof outputTimeZone === "number") {
      date = Tools.cloneDateObject(date);
      var utc = new Date(date.getTime() + inputTimeZone);
      date = new Date(utc.getTime() + outputTimeZone * 60 * 60000);
      return date;
    } else {
      date.setTime(date.getTime() - inputTimeZone);
      return date;
    }
  } else {
    return date;
  }
};

Tools.formatDateByCountry = function (date, country) {
  var result;

  if (_environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].dateTimeFormat[country]) {
    result = Tools.formatDate(date, _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].dateTimeFormat[country]);
  } else {
    result = Tools.toLocaleDateString(new Date(date), country);
  }

  return result;
};

Tools.streamToString = function (stream) {
  var encoding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "utf-8";
  return window.TextDecoder ? new window.TextDecoder(encoding).decode(stream) : decodeURIComponent(escape(stream.map(function (char) {
    return String.fromCharCode(char);
  }).join("")));
};

Tools.isDateReversed = function (country) {
  var dateFormat = country || Tools.getLanguage();
  return dateFormat.toLowerCase() === "en" || dateFormat.toLowerCase() === "en-us";
};

var DATE_TIME_FORMAT_FALLBACK = {
  year: "numeric",
  month: "numeric",
  day: "numeric"
};

Tools.getLocaleFormat = function (locale) {
  var result;
  var dateTimeFormat = new Intl.DateTimeFormat(locale); // use locale-specific format if it uses numeric/2-digit day & month & year,
  // otherwise fall back to using DATE_TIME_FORMAT_CALLBACK format

  var dateTimeFormatOpts = dateTimeFormat.resolvedOptions();
  var initOpts = {};
  var isNumericFormat = ["year", "month", "day"].every(function (key) {
    initOpts[key] = dateTimeFormatOpts[key];
    return dateTimeFormatOpts[key] === "numeric" || dateTimeFormatOpts[key] === "2-digit";
  });
  if (!isNumericFormat) initOpts = DATE_TIME_FORMAT_FALLBACK;
  dateTimeFormat = new Intl.DateTimeFormat(locale, initOpts);
  var formattingCharacters = {
    day: initOpts.day === "numeric" ? "d" : "dd",
    month: initOpts.month === "numeric" ? "m" : "mm",
    year: "Y"
  };

  if (dateTimeFormat.formatToParts) {
    result = dateTimeFormat.formatToParts(new Date()).map(function (it) {
      return it.type === "literal" ? typeof it.value === "string" ? it.value.replace(/\u200E/g, "") : it.value : formattingCharacters[it.type];
    }).filter(Boolean).join("");
  } else {
    result = formattingCharacters.day + "." + formattingCharacters.month + "." + formattingCharacters.year;
  }

  return result;
}; // formatToDateString(dateTime or isoStringDateOnly)


Tools.getDateString = function (dateTime) {
  var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var format = opt.format;
  var country = opt.country;
  var result = dateTime;

  if (dateTime instanceof Date) {
    // backward-compatible behaviour
    if (format) {
      result = Tools.formatDate(dateTime, format);
    } else if (country) {
      result = Tools.formatDateByCountry(dateTime, country);
    } else {
      result = Tools.toLocaleDateString(dateTime, Tools.getLanguage());
    }
  } else if (typeof dateTime === "string" && dateTime.match(/^\d{4}-\d{2}-\d{2}$/)) {
    var parsedDate = Tools.parseDate(dateTime); // dateTime is not exact point in time, it's a year+month+day with no time / time zone

    result = Tools.formatDate(parsedDate, format || _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].dateTimeFormat[country] || Tools.getLocaleFormat(country || Tools.getLanguage()));
  }

  return result;
};

Tools.getTimeString = function (dateTime, displaySeconds, timeFormat, includeTimeFormat) {
  var timeStep = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;
  var timeString = null,
      dateObject,
      dayPart;

  var getTimeString = function getTimeString() {
    var result = null;

    if (typeof dateTime === "string") {
      dayPart = dateTime.match(/AM|PM/) && dateTime.match(/AM|PM/)[0];

      if (dayPart) {
        dateTime = dateTime.replace(dayPart, "").trim();
      }

      var timeFull = dateTime.trim().split(/(\s+)(?!.*\s+)/)[2] || ""; // assume that date is always last after last space
      // check if its actually a valid time

      if (!/\d{1,2}:\d{1,2}(:\d{1,2})?/.test(timeFull)) {
        timeFull = null;
      }

      var time = timeFull;

      if (!dayPart && time) {
        var _timeFull$split = timeFull.split(/\s+/);

        var _timeFull$split2 = _slicedToArray(_timeFull$split, 2);

        time = _timeFull$split2[0];
        dayPart = _timeFull$split2[1];
      }

      if (time) {
        dateObject = new Date();
        dateObject.setHours(time.split(":")[0]);
        dateObject.setMinutes(time.split(":")[1] || 0);
        dateObject.setSeconds(time.split(":")[2] || 0);
      }
    } else if (dateTime instanceof Date) {
      dateObject = dateTime;
      dayPart = Tools.getDayPart(dateObject);
    } else if (Tools.isPlainObject(dateTime)) {
      dateObject = dateTime;
    }

    if (dateObject) {
      if (Tools.isPlainObject(dateObject)) {
        result = Tools.formatTime(dateObject, displaySeconds, timeFormat, includeTimeFormat, timeStep, true);
      } else if (dateObject instanceof Date && !isNaN(dateObject.getDate())) {
        result = Tools.formatTime({
          hours: dateObject.getHours(),
          minutes: dateObject.getMinutes(),
          seconds: dateObject.getSeconds(),
          dayPart: dayPart || Tools.getDayPart(dateObject)
        }, displaySeconds, timeFormat, includeTimeFormat, timeStep, true);
      }
    }

    return result;
  };

  if (Tools.isISODateString(dateTime)) {
    dateTime = new Date(dateTime);
  }

  timeString = getTimeString();
  return timeString;
};

Tools.isISODateString = function (string) {
  if (typeof string !== "string" || !/^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?(Z|[+-](\d{2})\:(\d{2}))?$/.test(string)) {
    return false;
  } else {
    return true;
  }
};

Tools.getISOTimeZone = function (string) {
  if (typeof string !== "string") {
    return null;
  }

  var match = string.match(REGEXP.isoTimeZone);

  if (match) {
    if (match[0] === "Z") {
      match = 0;
    } else {
      match = match[0].split(":")[0];
    }

    if (match) {
      match = parseInt(match);
    }
  } else {
    match = null;
  }

  return match;
};

Tools.getDayPart = function (dateObject) {
  var hours = dateObject.getHours();
  var dayPart;

  if (hours < 12) {
    dayPart = TIME_FORMAT_AM;
  } else {
    dayPart = TIME_FORMAT_PM;
  }

  return dayPart;
};

Tools.isValidTime = function (timeString, format, seconds) {
  var isValid;

  if (timeString) {
    isValid = false;
    var hours = (timeString && timeString.split(":")[0] || "").split(" ")[0];
    var hoursNumber = hours ? parseInt(hours) : null;
    var minutes = (timeString && timeString.split(":")[1] || "").split(" ")[0];
    var minutesNumber = minutes ? parseInt(minutes) : null;
    seconds = seconds && timeString && (timeString.split(":")[2] || "").split(" ")[0];
    var secondsNumber = seconds ? parseInt(seconds) : null;

    if (hours && hours.length == 2 && minutes && minutes.length == 2 && (!seconds || seconds.length == 2)) {
      if (format != TIME_FORMAT_12 || hoursNumber > 0) {
        isValid = true;
      }

      if (isValid) {
        if (format == TIME_FORMAT_24 && (hoursNumber < 0 || hoursNumber > 23)) {
          isValid = false;
        } else if (format == TIME_FORMAT_12 && (hoursNumber < 0 || hoursNumber > 12)) {
          isValid = false;
        } else if (minutesNumber < 0 || minutesNumber > 59) {
          isValid = false;
        } else if (secondsNumber < 0 || secondsNumber > 59) {
          isValid = false;
        }
      }
    }
  }

  return isValid;
};

Tools.parseDate = function (anyDate) {
  var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var result;

  if (anyDate == null || anyDate === "") {
    result = null;
  } else if (anyDate instanceof Date) {
    result = new Date(anyDate);
  } else if (typeof anyDate === "number") {
    result = new Date(anyDate);
  } else if (typeof anyDate === "string") {
    var stringDate = anyDate;
    var format = opt.format,
        country = opt.country; // attempt to match a shortened date formats

    var potentiallyParsedDate;

    if (stringDate.match(/^\d{4}-\d{2}$/)) {
      // matches YYYY-MM
      potentiallyParsedDate = Tools.parseMonth(stringDate);
    } else if (stringDate.match(/^\d{2}\/\d{4}$/)) {
      // matches MM/YYYY
      potentiallyParsedDate = Tools.parseMonth(stringDate);
    } else if (stringDate.match(/^\d{4}$/)) {
      // matches YYYY
      potentiallyParsedDate = Tools.parseYear(stringDate);
    }

    if (potentiallyParsedDate) return potentiallyParsedDate; // parse the date according to the format string (fallback to country then to default format by locale)

    format = format || _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].dateTimeFormat[country] || Tools.getLocaleFormat(country || Tools.getLanguage());
    format = format.replace(/m+/gi, "MM").replace(/d+/gi, "dd").replace(/Y+/g, "yyyy"); // change format to widely-used one (dd MM yyyy)
    // Always allow ISO date format

    if (stringDate.match(/^(\d{4})-(\d{2})-(\d{2})$/)) {
      format = "yyyy-MM-dd";
    } else if (Tools.isISODateString(stringDate) || Tools.isISODateString(stringDate.replace(/ \d{1,2}:\d{1,2}(:\d{1,2})?/, ""))) {
      return new Date(stringDate);
    } else {
      // this is a fix for a format yyyy-MM-dd hours:minutes:seconds
      var assumedStringDate = stringDate.replace(/ \d{1,2}:\d{1,2}(:\d{1,2})?/, "");

      if (assumedStringDate.match(/^(\d{4})-(\d{2})-(\d{2})$/)) {
        stringDate = assumedStringDate;
        format = "yyyy-MM-dd";
      }
    }

    var date = new Date(Date.now());
    date.setHours(0, 0, 0, 0); // let val = { y: date.getFullYear(), M: date.getMonth() + 1, d: date.getDate(), q: Math.floor(date.getMonth() / 3) };

    var val = {
      y: 0,
      M: undefined,
      d: undefined,
      q: 0
    };
    var formatIdx = 0;

    for (var i = 0, len = stringDate.length; i < len && formatIdx < format.length;) {
      // skip whitespaces and get format portion (e.g. "MMM")
      while (formatIdx < format.length && format.charAt(formatIdx).match(/\s/)) {
        ++formatIdx;
      }

      if (formatIdx == format.length) break;
      var formatLen = formatIdx;
      var formatChar = format.charAt(formatIdx++);

      while (formatIdx < format.length && format.charAt(formatIdx) == formatChar) {
        ++formatIdx;
      }

      formatLen = formatIdx - formatLen; // skip whitespaces

      while (i < len && stringDate.charAt(i).match(/\s/)) {
        ++i;
      }

      if (i == len) break;

      switch (formatChar) {
        case "M":
        case "d": // if (formatLen > 2) throw new Error("Parsing date with month / day names not implemented yet.");
        // fall through

        case "q":
        case "y":
          {
            var nextI = stringDate.substr(i).search(/\D|$/) + i;
            var s = stringDate.substr(i, nextI - i);
            if (!s) return null; // expecting number but got no digits

            var n = parseInt(s, 10);

            if (formatChar == "y" && formatLen <= 2) {
              n = n % 100;
              var cy = new Date().getFullYear();
              n = cy - 70 - (cy - 70) % 100 + n + (n > (cy - 70) % 100 ? 0 : 100); // split from current: 70 in the past, the rest (~30) ahead
            }

            val[formatChar] = n;
            i = nextI;
            break;
          }

        default:
          for (var j = 0; j < formatLen && i < len; ++i) {
            var c = stringDate.charAt(i);
            if (c.match(/\s/)) continue;

            if (c != formatChar) {
              // backward compatibility - treat ./- characters as interchangeable
              if (!(c.match(/[-./]/) && formatChar.match(/[-./]/))) {
                return null; // format contains different character than the input
              }
            }

            ++j;
          }

      }
    }

    if (formatIdx < format.length) return null; // check values

    if (val.y < 1000 || val.y > 9999) return null;
    if (val.M === 0 || val.M > 12) return null; // invalid month - undefined is allowed for shortened dates

    var y = val.y;
    var monthDays = [31, y % 400 === 0 || y % 4 === 0 && y % 100 !== 0 ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
    if (val.d === 0 || val.d > monthDays[val.M - 1]) return null; // invalid day - undefined is allowed for shortened dates

    result = new Date(val.y, val.M - 1 || 0, val.d || 1, 0, 0, 0, 0);
  } else {
    result = null;
  }

  return result;
};

Tools.parseMonth = function (stringDate) {
  var day = 1;
  var month, year, parts;

  if (/^\d{2}\/\d{4}$/.test(stringDate)) {
    // 02/2019
    parts = stringDate.split("/");
    month = parts[0] - 1;
    year = parts[1];
  } else if (/^\d{4}-\d{2}$/.test(stringDate)) {
    // 2019-02
    parts = stringDate.split("-");
    month = parts[1] - 1;
    year = parts[0];
  }

  return new Date(year, month, day);
};

Tools.parseYear = function (stringDate) {
  var day = 1;
  var month = 0;
  var year = parseInt(stringDate.match(/^\d{4}$/)[0]);
  return new Date(year, month, day);
};

Tools.compareDates = function (firstDate, secondDate, method) {
  var depth = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "seconds";
  var result = false;

  if (firstDate && secondDate) {
    var firstMonth = 0;
    var firstDay = 0;
    var firstHour = 0;
    var firstMinute = 0;
    var firstSecond = 0;
    var secondMonth = 0;
    var secondDay = 0;
    var secondHour = 0;
    var secondMinute = 0;
    var secondSecond = 0;

    if (depth === "seconds" || depth === "minutes" || depth === "hours" || depth === "days" || depth === "months") {
      firstMonth = firstDate.getMonth();
      secondMonth = secondDate.getMonth();
    }

    if (depth === "seconds" || depth === "minutes" || depth === "hours" || depth === "days") {
      firstDay = firstDate.getDate();
      secondDay = secondDate.getDate();
    }

    if (depth === "seconds" || depth === "minutes" || depth === "hours") {
      firstHour = firstDate.getHours();
      secondHour = secondDate.getHours();
    }

    if (depth === "seconds" || depth === "minutes") {
      firstMinute = firstDate.getMinutes();
      secondMinute = secondDate.getMinutes();
    }

    if (depth === "seconds") {
      firstSecond = firstDate.getSeconds();
      secondSecond = secondDate.getSeconds();
    }

    firstDate = Date.UTC(firstDate.getFullYear(), firstMonth, firstDay, firstHour, firstMinute, firstSecond);
    secondDate = Date.UTC(secondDate.getFullYear(), secondMonth, secondDay, secondHour, secondMinute, secondSecond);

    if (method === "equals") {
      result = firstDate === secondDate;
    } else if (method === "greater") {
      result = firstDate > secondDate;
    } else if (method === "lesser") {
      result = firstDate < secondDate;
    }
  }

  return result;
};

Tools.formatTime = function (timeObject, displaySeconds, timeFormat, includeTimeFormat, timeStep, fill0) {
  var formatedTime = "";

  if (timeObject && _typeof(timeObject) === "object") {
    var dayPart = timeObject.dayPart;

    if (timeFormat == TIME_FORMAT_12) {
      if (dayPart === TIME_FORMAT_PM) {
        if (timeObject.hours > 12) {
          timeObject.hours -= 12;
        }
      }

      if (timeObject.hours === 0) {
        timeObject.hours = 12;
        dayPart = dayPart ? dayPart : TIME_FORMAT_AM;
      } else if (timeObject.hours === 12) {
        dayPart = dayPart ? dayPart : TIME_FORMAT_PM;
      }
    }

    if (fill0) {
      formatedTime = Tools.rjust(timeObject.hours, 2, "0") + ":" + Tools.rjust(timeObject.minutes, 2, "0") + (displaySeconds && timeStep === 1 ? ":" + Tools.rjust(timeObject.seconds, 2, "0") : "");
    } else {
      formatedTime = timeObject.hours + ":" + timeObject.minutes + ":" + timeObject.seconds;
    }

    if (timeFormat == TIME_FORMAT_12 && includeTimeFormat) {
      formatedTime += " " + dayPart;
    }
  }

  return formatedTime;
};

Tools.parseTime = function (stringTime, timeFormat, autofill, allow24) {
  stringTime = stringTime || "00:00:00";
  stringTime = stringTime.trim();
  var parsedTime = null;
  var maxHours = allow24 ? 24 : 23;

  if (typeof stringTime === "string" && stringTime !== "") {
    parsedTime = {
      hours: 0,
      minutes: 0,
      seconds: 0
    };

    if (stringTime.indexOf(":") !== -1) {
      var dateArray = stringTime.split(":");
      parsedTime.hours = dateArray[0] && parseInt(dateArray[0].trim()) || 0;
      parsedTime.minutes = dateArray[1] && parseInt(dateArray[1].trim()) || 0;
      parsedTime.seconds = dateArray[2] && parseInt(dateArray[2].trim()) || 0;
    } else if (autofill) {
      parsedTime.hours = parseInt(stringTime) || 0;
    } else {
      parsedTime = null;
    }

    if (parsedTime) {
      if (parsedTime.hours < 0 || parsedTime.hours > maxHours || parsedTime.minutes < 0 || parsedTime.minutes > 59 || parsedTime.seconds < 0 || parsedTime.seconds > 59) {
        parsedTime = null;
      } else if (timeFormat == 12) {
        if (parsedTime.hours > 12) {
          parsedTime.hours -= 12;
        } else if (parsedTime.hours == 0) {
          parsedTime.hours = 12;
        }

        if (stringTime.match(/[Pp]\.?([Mm]\.?)?/)) {
          parsedTime.dayPart = TIME_FORMAT_PM;
        } else {
          parsedTime.dayPart = TIME_FORMAT_AM;
        }
      }
    }
  }

  return parsedTime;
};

Tools.changeTimeFormat = function (timeString, format) {
  var result = null;
  var inputFormat = timeString.match(/AM$|PM$/) ? 12 : 24;
  var timeObject = Tools.parseTime(timeString, inputFormat, true, false);

  if (format == TIME_FORMAT_24 && inputFormat == TIME_FORMAT_12) {
    if (timeObject.dayPart === "PM") {
      timeObject.hours += 12;
    }

    result = Tools.formatTime(timeObject, !!timeString.match(/:/)[2], 24, true, 0, true);
  } // TODO
  // else if (format == TIME_FORMAT_24) {
  // }


  return result;
};

Tools.compareTimeObjects = function (firstTime, secondTime, method) {
  var result = true;
  firstTime = firstTime.hours * 60 * 60 + firstTime.minutes * 60 + firstTime.seconds;
  secondTime = secondTime.hours * 60 * 60 + secondTime.minutes * 60 + secondTime.seconds;

  if (method === "equals") {
    if (firstTime !== secondTime) {
      result = false;
    }
  } else if (method === "greater") {
    if (firstTime <= secondTime) {
      result = false;
    }
  } else if (method === "lesser") {
    if (firstTime >= secondTime) {
      result = false;
    }
  }

  return result;
};

Tools.cloneDateObject = function (dateObject) {
  var result = undefined;

  if (dateObject instanceof Date) {
    result = new Date(dateObject.valueOf());
  }

  return result;
};

Tools.formatNumber = function (number) {
  var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      maxDecimals = _ref3.maxDecimals,
      roundType = _ref3.roundType,
      country = _ref3.country,
      thousandSeparator = _ref3.thousandSeparator,
      decimalSeparator = _ref3.decimalSeparator,
      minDecimals = _ref3.minDecimals;

  var roundedNum = maxDecimals == null ? number : Tools.decimalAdjust(roundType, number, maxDecimals * -1);
  var formattedNum;

  if (thousandSeparator || decimalSeparator || _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].numberFormat[country]) {
    var _split = (roundedNum + "").split("."),
        _split2 = _slicedToArray(_split, 2),
        num = _split2[0],
        numDecimals = _split2[1];

    var numberFormat = _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].numberFormat[country] || {};
    var thousandSep = thousandSeparator == null ? numberFormat.thousandSeparator == null ? "" : numberFormat.thousandSeparator : thousandSeparator;
    var decimalSep = decimalSeparator == null ? numberFormat.decimalSeparator == null ? "." : numberFormat.decimalSeparator : decimalSeparator;
    var formattedArr = [num.replace(REGEXP.numberParts, thousandSep)];

    if (minDecimals > 0 || numDecimals) {
      formattedArr.push(Tools.ljust(numDecimals || "0", minDecimals, "0"));
    }

    formattedNum = formattedArr.join(decimalSep);
  } else {
    formattedNum = roundedNum.toLocaleString(country, {
      minimumFractionDigits: minDecimals,
      maximumFractionDigits: maxDecimals == null ? 20 : maxDecimals
    });
  }

  return formattedNum;
};

Tools.normalizeNumberSeparators = function (number) {
  var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var thousandSeparator = opt.thousandSeparator;
  var decimalSeparator = opt.decimalSeparator;

  if (number) {
    if (thousandSeparator) {
      number = number.toString().trim().replace(new RegExp(thousandSeparator.replace(/[.?*+^$[\]\\(){}|]/g, "\\$&"), "g"), "");
    }

    if (decimalSeparator) {
      number = number.toString().replace(new RegExp(decimalSeparator.replace(/[.?*+^$[\]\\(){}|]/g, "\\$&"), "g"), ".");
    }
  }

  return number;
};

Tools.parseNumber = function (number) {
  var opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return +Tools.normalizeNumberSeparators(number, opt);
}; // TODO: deprecated


Tools.getLSIItemByLanguage = function (lsi, params, languages) {
  Tools.warning("Method UU5.Common.Tools.getLSIItemByLanguage is deprecated. Use UU5.Common.Tools.getLsiItemByLanguage instead.");
  return Tools.getLsiItemByLanguage(lsi, params, languages);
};
/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */


Tools.debounce = uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].Function.debounce;
/**
 * Creates a throttled function that only invokes `func` at most once per
 * every `wait` milliseconds. The throttled function comes with a `cancel`
 * method to cancel delayed `func` invocations and a `flush` method to
 * immediately invoke them. Provide `options` to indicate whether `func`
 * should be invoked on the leading and/or trailing edge of the `wait`
 * timeout. The `func` is invoked with the last arguments provided to the
 * throttled function. Subsequent calls to the throttled function return the
 * result of the last `func` invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the throttled function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.throttle` and `_.debounce`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to throttle.
 * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=true]
 *  Specify invoking on the leading edge of the timeout.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new throttled function.
 * @example
 *
 * // Avoid excessively updating the position while scrolling.
 * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
 *
 * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
 * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
 * jQuery(element).on('click', throttled);
 *
 * // Cancel the trailing throttled invocation.
 * jQuery(window).on('popstate', throttled.cancel);
 */

Tools.throttle = function (func, wait) {
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var leading = true,
      trailing = true; //if (typeof func !== 'function') {
  //  throw new TypeError(FUNC_ERROR_TEXT);
  //}
  //if (isObject(options)) {

  if (_typeof(options) === "object") {
    leading = "leading" in options ? !!options.leading : leading;
    trailing = "trailing" in options ? !!options.trailing : trailing;
  }

  return Tools.debounce(func, wait, {
    leading: leading,
    maxWait: wait,
    trailing: trailing
  });
};

Tools.buildColWidthClassName = function (colWidth) {
  var newBsColWidth = colWidth;

  if (typeof newBsColWidth === "string") {
    var colWidthArray = newBsColWidth.trim().split(REGEXP.splitByWhiteSpace);
    newBsColWidth = {};
    colWidthArray.forEach(function (colWidthPart) {
      var match = colWidthPart.match(REGEXP.columnRegexp);

      if (match) {
        newBsColWidth[match[1]] = parseInt(match[2]);
      } else {
        Tools.error("colWidth className couldn't be created", {
          value: colWidth
        });
      }
    });
  }

  var sizeClassNames = [];
  var lowerWidth = 12;
  ["xs", "s", "m", "l", "xl"].forEach(function (size) {
    typeof newBsColWidth[size] !== "number" && typeof lowerWidth === "number" && (newBsColWidth[size] = lowerWidth);
    (lowerWidth = newBsColWidth[size]) && typeof lowerWidth === "number" && sizeClassNames.push("uu5-col-".concat(size) + newBsColWidth[size]);
    typeof newBsColWidth["offset-".concat(size)] === "number" && sizeClassNames.push("uu5-col-offset-".concat(size) + newBsColWidth["offset-".concat(size)]);
  });
  return sizeClassNames.join(" ");
}; // deprecated! use UU5.Common.Context.create


Tools.createContext = _context_js__WEBPACK_IMPORTED_MODULE_4__["default"].create;

Tools.wrapIfExists = function (Wrapper) {
  for (var _len3 = arguments.length, content = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
    content[_key3 - 1] = arguments[_key3];
  }

  if (Wrapper) {
    return _element_js__WEBPACK_IMPORTED_MODULE_5__["default"].create.apply(_element_js__WEBPACK_IMPORTED_MODULE_5__["default"], [Wrapper, null].concat(content));
  } else {
    return content;
  }
};

Tools.fillUnit = function (value) {
  var defaultUnit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "px";

  if (value != null) {
    if (value === 0) return value;
    value += "";
    return /\d$/.test(value) ? value + defaultUnit : value;
  }
};

Tools.getCallToken = /*#__PURE__*/function () {
  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(url, session) {
    var token, a, fullUrl, scope, callToken;
    return regeneratorRuntime.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            if (!session) {
              _context2.next = 16;
              break;
            }

            a = document.createElement("a");
            a.href = url || "";
            fullUrl = a.href.toString(); // browser-normalized URL (removed "../" sequences, ensured that protocol+domain is present, ...)

            if (!(typeof session.getCallTokenScope === "function")) {
              _context2.next = 10;
              break;
            }

            _context2.next = 7;
            return session.getCallTokenScope(fullUrl);

          case 7:
            _context2.t0 = _context2.sent;
            _context2.next = 11;
            break;

          case 10:
            _context2.t0 = fullUrl.replace(/[?#].*/, "");

          case 11:
            scope = _context2.t0;
            _context2.next = 14;
            return session.getCallToken(scope, {
              excludeAuthenticationType: true
            });

          case 14:
            callToken = _context2.sent;
            // if using deprecated uu_oidcg01 the result will be an object (and "url" parameter got ignored), otherwise it's string
            token = typeof callToken === "string" ? callToken : callToken ? callToken.token : undefined;

          case 16:
            return _context2.abrupt("return", token);

          case 17:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function (_x2, _x3) {
    return _ref4.apply(this, arguments);
  };
}();

Tools.getCsrfToken = function () {
  return Tools.getCookie(COOKIE_CSRF_TOKEN);
};

Tools.getAuthenticatedUrl = /*#__PURE__*/function () {
  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(url, session) {
    var accessToken,
        csrfToken,
        parameterName,
        value,
        result,
        parsedUrl,
        _args3 = arguments;
    return regeneratorRuntime.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            accessToken = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : undefined;
            csrfToken = _args3.length > 3 && _args3[3] !== undefined ? _args3[3] : undefined;

            if (!(accessToken === undefined)) {
              _context3.next = 8;
              break;
            }

            _context3.next = 5;
            return Tools.getCallToken(url, session);

          case 5:
            _context3.t0 = _context3.sent;
            _context3.next = 9;
            break;

          case 8:
            _context3.t0 = accessToken;

          case 9:
            value = _context3.t0;

            if (value) {
              parameterName = "access_token";
            } else {
              value = csrfToken === undefined ? Tools.getCsrfToken() : csrfToken;
              if (value) parameterName = "csrf_token";
            }

            result = url;

            if (url && parameterName) {
              parsedUrl = _url_js__WEBPACK_IMPORTED_MODULE_9__["default"].parse(url);
              result = parsedUrl.set({
                parameters: _objectSpread(_objectSpread({}, parsedUrl.parameters), {}, _defineProperty({}, parameterName, value))
              }).toString();
            }

            return _context3.abrupt("return", result);

          case 14:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3);
  }));

  return function (_x4, _x5) {
    return _ref5.apply(this, arguments);
  };
}();

Tools.getAuthenticatedHeaders = /*#__PURE__*/function () {
  var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(url, session) {
    var accessToken,
        csrfToken,
        headers,
        token1,
        token2,
        _args4 = arguments;
    return regeneratorRuntime.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            accessToken = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : undefined;
            csrfToken = _args4.length > 3 && _args4[3] !== undefined ? _args4[3] : undefined;
            headers = {};

            if (!(accessToken === undefined)) {
              _context4.next = 9;
              break;
            }

            _context4.next = 6;
            return Tools.getCallToken(url, session);

          case 6:
            _context4.t0 = _context4.sent;
            _context4.next = 10;
            break;

          case 9:
            _context4.t0 = accessToken;

          case 10:
            token1 = _context4.t0;

            if (token1) {
              headers["Authorization"] = "Bearer " + token1;
            } else {
              token2 = csrfToken === undefined ? Tools.getCsrfToken() : csrfToken;
              if (token2) headers["X-Csrf-Token"] = token2;
            }

            return _context4.abrupt("return", headers);

          case 13:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4);
  }));

  return function (_x6, _x7) {
    return _ref6.apply(this, arguments);
  };
}();

Tools.deepSortObjectKeys = function (object) {
  var sortedObject = {};
  Object.keys(object).sort().forEach(function (key) {
    var value = object[key];
    sortedObject[key] = value && _typeof(value) === "object" ? Tools.deepSortObjectKeys(value) : value;
  });
  return sortedObject;
};

var groupCallCache = {};

Tools.groupCall = function (uri, dtoIn, doLoadFn) {
  var _ref7 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},
      _ref7$maxAge = _ref7.maxAge,
      maxAge = _ref7$maxAge === void 0 ? 100 : _ref7$maxAge;

  if (!groupCallCache.data) groupCallCache.data = {};
  var cacheKey = uri + " " + JSON.stringify(Tools.deepSortObjectKeys(dtoIn !== null && dtoIn !== void 0 ? dtoIn : {}));
  var data = groupCallCache.data[cacheKey];

  if (!data) {
    data = groupCallCache.data[cacheKey] = {
      result: null
    };
    var promise = doLoadFn().then(function (result) {
      data.result = result;
      setTimeout(function () {
        delete groupCallCache.data[cacheKey];
      }, maxAge);
      return result;
    }, function (error) {
      data.error = error;
      setTimeout(function () {
        delete groupCallCache.data[cacheKey];
      }, maxAge);
      return Promise.reject(error);
    });
    data.promise = promise;
  }

  return data.promise;
};

Tools.openWindow = function (url, target) {
  var features; // cannot use window.open(url, "_blank", "noopener") in Edge, ... because it will open new window, not new tab

  if (target === "_blank" && (Tools.isChrome() || navigator.userAgent.match(/\bfirefox\//i))) {
    features = "noopener";
  }

  return window.open(_url_js__WEBPACK_IMPORTED_MODULE_9__["default"].getAbsoluteUri(url), target, features);
}; // userLanguage for IE


var lang = window.navigator.userLanguage || window.navigator.language;
lang && Tools.setLanguage(lang); // CSS class names - device / UA

var device = "uu5-device-desktop";

if (Tools.isMobileOrTablet) {
  device = "uu5-device-mobile-tablet";
}

document.documentElement.classList.add(device);

if (Tools.isMobileIOS()) {
  document.documentElement.classList.add("uu5-device-ios");
}

var ua;

if (navigator.userAgent.match(/MSIE|Trident/)) {
  ua = "uu5-ua-ie";
} else if (navigator.userAgent.match(/Edge/)) {
  ua = "uu5-ua-edge";
} else if (navigator.userAgent.match(/Chrome/)) {
  ua = "uu5-ua-chrome";
} else if (navigator.userAgent.match(/Safari/)) {
  ua = "uu5-ua-safari";
} else if (navigator.userAgent.match(/Mozilla/)) ua = "uu5-ua-ff";

if (ua) document.documentElement.classList.add(ua);
/* harmony default export */ __webpack_exports__["default"] = (Tools);

/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tools", function() { return Tools; });
/* harmony import */ var _environment_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(11);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */


var Tools = {
  generateId: uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].String.generateId,
  getLanguage: function getLanguage() {
    return _environment_js__WEBPACK_IMPORTED_MODULE_0__["default"].languages[0] ? _environment_js__WEBPACK_IMPORTED_MODULE_0__["default"].languages[0].location || _environment_js__WEBPACK_IMPORTED_MODULE_0__["default"].languages[0].language : navigator.language;
  }
};
/* harmony default export */ __webpack_exports__["default"] = (Tools);

/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Context", function() { return Context; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextCorrectorContext", function() { return TextCorrectorContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withTextCorrectorContext", function() { return withTextCorrectorContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_2__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */



var g05Context = uu5g05__WEBPACK_IMPORTED_MODULE_2__["Utils"].Context;
var REACT_MAJOR_VERSION = parseInt(react__WEBPACK_IMPORTED_MODULE_0___default.a.version.match(/\d+/)[0]);
var REACT_MINOR_VERSION = parseInt(react__WEBPACK_IMPORTED_MODULE_0___default.a.version.match(/\.(\d+)/)[1]);
var allowContext = REACT_MAJOR_VERSION > 16 || REACT_MAJOR_VERSION === 16 && REACT_MINOR_VERSION >= 4;
var Context = /*#__PURE__*/function () {
  function Context() {
    _classCallCheck(this, Context);
  }

  _createClass(Context, null, [{
    key: "create",
    value: function create() {
      var defaultValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var context;

      if (Context.isSupported()) {
        var _g05Context$create = g05Context.create(defaultValue);

        var _g05Context$create2 = _slicedToArray(_g05Context$create, 1);

        context = _g05Context$create2[0];
      } else {
         true && console.error("For Context implementation use React 16.4+");
        context = {
          Consumer: function Consumer(_ref) {
            var children = _ref.children;
            return children();
          },
          Provider: function Provider(_ref2) {
            var children = _ref2.children;
            return children;
          }
        };
      }

      return context;
    }
  }, {
    key: "isSupported",
    value: function isSupported() {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext && allowContext;
    }
  }]);

  return Context;
}();
var TextCorrectorContext = Context.create();

var _getContextValue = function _getContextValue(propValue, textCorrectorPropValue, contextValue, environmentValue) {
  if (propValue !== undefined) {
    return propValue;
  }

  if (textCorrectorPropValue !== undefined) {
    return textCorrectorPropValue;
  }

  if (contextValue !== undefined) {
    return contextValue;
  }

  if (environmentValue) {
    return true;
  }

  return undefined;
};

var withTextCorrectorContext = function withTextCorrectorContext(Component) {
  // disable context for jest tests - enzyme doesn't support React 16.3 Context API
  if (!Context.isSupported() ||  false && false) return Component;
  var forwardRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {
    return UU5.Common.Element.create(TextCorrectorContext.Consumer, null, function (_ref3) {
      var checkSpaces = _ref3.checkSpaces,
          checkGrammar = _ref3.checkGrammar,
          checkHighlight = _ref3.checkHighlight,
          language = _ref3.language;
      return UU5.Common.Element.create(Component, _extends({}, props, {
        ref: ref,
        checkSpaces: _getContextValue(props.checkSpaces, props.textCorrector, checkSpaces, _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].textCorrector),
        checkGrammar: _getContextValue(props.checkGrammar, props.textCorrector, checkGrammar, _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].textCorrector),
        checkHighlight: _getContextValue(props.checkHighlight, props.textCorrector, checkHighlight, _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].textCorrector),
        language: props.language || language
      }));
    });
  });
  forwardRef.isUu5PureComponent = true;
  forwardRef.displayName = "forwardRef(".concat(Component.displayName || Component.name || "Component", ")");
  forwardRef.tagName = Component.tagName;
  return forwardRef;
};
/* harmony default export */ __webpack_exports__["default"] = (Context);

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Element", function() { return Element; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
 // import { SYMBOL_COMPONENT, SYMBOL_INIT, SYMBOL_GUARD } from "./component-symbols";

var Element = /*#__PURE__*/function () {
  function Element() {
    _classCallCheck(this, Element);
  }

  _createClass(Element, null, [{
    key: "create",
    value: function create() {
      var _Utils$Element;

      // TODO Optimization is temporarily disabled (see visual-component.js).
      // let type = args[0];
      // if (type) {
      //   let redirComponent = type[SYMBOL_COMPONENT];
      //   if (redirComponent) {
      //     args[0] = redirComponent;
      //   } else {
      //     let redirComponentInit = type[SYMBOL_INIT];
      //     if (redirComponentInit && type[SYMBOL_GUARD] === type) args[0] = redirComponentInit();
      //   }
      // }
      return (_Utils$Element = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Element).create.apply(_Utils$Element, arguments);
    }
  }, {
    key: "clone",
    value: function clone() {
      var _Utils$Element2;

      return (_Utils$Element2 = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Element).clone.apply(_Utils$Element2, arguments);
    }
  }, {
    key: "isValid",
    value: function isValid() {
      var _Utils$Element3;

      return (_Utils$Element3 = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Element).isValid.apply(_Utils$Element3, arguments);
    }
  }]);

  return Element;
}();
/* harmony default export */ __webpack_exports__["default"] = (Element);

/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScreenSize", function() { return ScreenSize; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


var g05ScreenSize = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].ScreenSize;
var XS = g05ScreenSize.XS;
var S = g05ScreenSize.S;
var M = g05ScreenSize.M;
var L = g05ScreenSize.L;
var XL = g05ScreenSize.XL;

var ScreenSize = /*#__PURE__*/function () {
  function ScreenSize() {
    _classCallCheck(this, ScreenSize);
  }

  _createClass(ScreenSize, null, [{
    key: "countSize",
    value: function countSize() {
      var width = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.innerWidth;
      return g05ScreenSize.countSize(width);
    }
  }, {
    key: "register",
    value: function register(listener) {
      return g05ScreenSize._register(listener);
    }
  }, {
    key: "unregister",
    value: function unregister(listener) {
      return g05ScreenSize._unregister(listener);
    }
  }, {
    key: "setSize",
    value: function setSize(event, screenSize) {
      return g05ScreenSize._setSize(event, screenSize);
    }
  }, {
    key: "getSize",
    value: function getSize() {
      return g05ScreenSize.getSize();
    }
  }, {
    key: "splitColumns",
    value: function splitColumns(colWidth) {
      return g05ScreenSize.parseValue(colWidth);
    }
  }, {
    key: "getMediaQueries",
    value: function getMediaQueries(screenSize, inner) {
      var result;

      switch (screenSize.toLowerCase()) {
        case "xs":
          result = "@media screen and (max-width: ".concat(this.XS, "px) {\n  ").concat(inner, "\n}");
          break;

        case "s":
          result = "@media screen and (min-width: ".concat(this.XS + 1, "px) and (max-width: ").concat(this.S, "px) {\n  ").concat(inner, "\n}");
          break;

        case "m":
          result = "@media screen and (min-width: ".concat(this.S + 1, "px) and (max-width: ").concat(this.M, "px) {\n  ").concat(inner, "\n}");
          break;

        case "l":
          result = "@media screen and (min-width: ".concat(this.M + 1, "px) and (max-width: ").concat(this.L, "px) {\n  ").concat(inner, "\n}");
          break;

        case "xl":
          result = "@media screen and (min-width: ".concat(this.L + 1, "px) {\n  ").concat(inner, "\n}");
          break;
      }

      return result;
    }
  }, {
    key: "getMinMediaQueries",
    value: function getMinMediaQueries(screenSize, inner) {
      var result;

      switch (screenSize.toLowerCase()) {
        case "xs":
          result = inner;
          break;

        case "s":
          result = "@media screen and (min-width: ".concat(this.XS + 1, "px) {\n  ").concat(inner, "\n}");
          break;

        case "m":
          result = "@media screen and (min-width: ".concat(this.S + 1, "px) {\n  ").concat(inner, "\n}");
          break;

        case "l":
          result = "@media screen and (min-width: ".concat(this.M + 1, "px) {\n  ").concat(inner, "\n}");
          break;

        case "xl":
          result = "@media screen and (min-width: ".concat(this.L + 1, "px) {\n  ").concat(inner, "\n}");
          break;
      }

      return result;
    }
  }, {
    key: "getMaxMediaQueries",
    value: function getMaxMediaQueries(screenSize, inner) {
      var result;

      switch (screenSize.toLowerCase()) {
        case "xs":
          result = "@media screen and (max-width: ".concat(this.XS, "px) {\n  ").concat(inner, "\n}");
          break;

        case "s":
          result = "@media screen and (max-width: ".concat(this.S, "px) {\n  ").concat(inner, "\n}");
          break;

        case "m":
          result = "@media screen and (max-width: ".concat(this.M, "px) {\n  ").concat(inner, "\n}");
          break;

        case "l":
          result = "@media screen and (max-width: ".concat(this.L, "px) {\n  ").concat(inner, "\n}");
          break;

        case "xl":
          result = inner;
          break;
      }

      return result;
    }
  }]);

  return ScreenSize;
}(); // backward compatibility


_defineProperty(ScreenSize, "XS", XS);

_defineProperty(ScreenSize, "S", S);

_defineProperty(ScreenSize, "M", M);

_defineProperty(ScreenSize, "L", L);

_defineProperty(ScreenSize, "XL", XL);

_defineProperty(ScreenSize, "SIZE_MAP", g05ScreenSize._SIZE_MAP);

ScreenSize.parseValue = ScreenSize.splitColumns;

/* harmony default export */ __webpack_exports__["default"] = (ScreenSize);

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Lsi", function() { return Lsi; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);

var g05Language = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Language;
var Lsi = {
  register: function register(listener) {
    return g05Language._register(listener);
  },
  unregister: function unregister(listener) {
    return g05Language._unregister(listener);
  },
  setLanguage: function setLanguage(language) {
    return g05Language.setLanguage(language);
  },
  getLanguage: function getLanguage() {
    return g05Language.getLanguage();
  },
  parseLanguage: function parseLanguage(languagesString) {
    return g05Language._parseLanguage(languagesString);
  },
  getItem: function getItem(lsi, language) {
    return g05Language.getItem(lsi, language);
  }
};

/* harmony default export */ __webpack_exports__["default"] = (Lsi);

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOM", function() { return DOM; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
 // TODO Remove Utils.DOM after uu5g05 >= 0.15.0 release.

var g05DOM = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Dom || uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].DOM;
var DOM = /*#__PURE__*/function () {
  function DOM() {
    _classCallCheck(this, DOM);
  }

  _createClass(DOM, null, [{
    key: "render",
    value: function render() {
      return g05DOM.render.apply(g05DOM, arguments); // eslint-disable-line react/no-render-return-value
    }
  }, {
    key: "findNode",
    value: function findNode() {
      return g05DOM.findNode.apply(g05DOM, arguments); // eslint-disable-line react/no-find-dom-node
    }
  }, {
    key: "hydrate",
    value: function hydrate() {
      return g05DOM.hydrate.apply(g05DOM, arguments);
    }
  }, {
    key: "unmount",
    value: function unmount() {
      return g05DOM.unmount.apply(g05DOM, arguments);
    }
  }]);

  return DOM;
}();
/* harmony default export */ __webpack_exports__["default"] = (DOM);

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Url", function() { return Url; });
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(11);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var regexp = {
  url: /^((http[s]?|ftp):\/)?\/?([^:\/\s]+):?(\d+)?([^?#]+)?\??([^#]+)?#?(.*)$/,
  colon: /:$/,
  slash: /^[/]/,
  hash: /^#/,
  http: /^(\/|[a-z0-9\-+.]+:)/,
  slashes: /([^:])\/+/g
};

function isRoute(href) {
  return href && !regexp.http.test(href) && !regexp.hash.test(href);
}

function getRouteUrl(href) {
  var basePath = _environment_environment_js__WEBPACK_IMPORTED_MODULE_0__["default"].getAppBasePath();
  var usedHref = href.charAt(0) === "?" ? (Url.parse(location.href).useCase || "") + href : href;
  return basePath ? basePath.replace(/\/*$/, "/") + usedHref.replace(/^\/+/, "") : usedHref;
}

var Url = /*#__PURE__*/function () {
  function Url() {
    _classCallCheck(this, Url);

    this.protocol = null;
    this.hostName = null;
    this.port = null;
    this._pathName = null;
    this._parameters = null;
    this._hash = null;
  }

  _createClass(Url, [{
    key: "useCase",
    get: function get() {
      var useCase = null;
      var baseName = this.baseName;

      if (baseName) {
        useCase = this._pathName.substr(baseName.length);
      } else {
        useCase = this._pathName;
      }

      return useCase;
    },
    set: function set(useCase) {
      var baseName = this.baseName || "";
      this._pathName = baseName + useCase;
      return this;
    }
  }, {
    key: "baseName",
    get: function get() {
      var baseName = null;
      var basePath = _environment_environment_js__WEBPACK_IMPORTED_MODULE_0__["default"].getAppBasePath();

      if (basePath && this._pathName) {
        basePath = basePath.replace(regexp.slash, "");

        if (this._pathName.startsWith(basePath) || this._pathName === basePath.replace(/\/$/, "")) {
          baseName = basePath;
        }
      }

      return baseName;
    }
  }, {
    key: "pathName",
    get: function get() {
      return this._pathName;
    },
    set: function set(pathName) {
      this._pathName = pathName.replace(regexp.slash, "");
      return this;
    }
  }, {
    key: "parameters",
    get: function get() {
      return this._parameters;
    },
    set: function set(parameters) {
      if (typeof parameters === "string") {
        this._parameters = Url.decodeQuery(parameters);
      } else {
        this._parameters = parameters || null;
      }

      return this;
    }
  }, {
    key: "hash",
    get: function get() {
      return this._hash;
    },
    set: function set(hash) {
      this._hash = typeof hash === "string" ? hash.replace(regexp.hash, "") : null;
      return this;
    }
  }, {
    key: "host",
    get: function get() {
      var host = "";
      this.hostName && (host += this.hostName);
      this.port && (host += ":" + this.port);
      return host || null;
    }
  }, {
    key: "origin",
    get: function get() {
      var origin = "";
      this.protocol && (origin += this.protocol + "://");
      var host = this.host;
      host && (origin += host);
      return origin || null;
    }
  }, {
    key: "set",
    value: function set(params) {
      params.protocol !== undefined && (this.protocol = params.protocol);
      params.hostName !== undefined && (this.hostName = params.hostName);
      params.port !== undefined && (this.port = params.port);
      params.useCase !== undefined && (this.useCase = params.useCase);
      params.pathName !== undefined && (this.pathName = params.pathName);
      params.parameters !== undefined && (this.parameters = params.parameters);
      params.hash !== undefined && (this.hash = params.hash);
      return this;
    }
  }, {
    key: "toString",
    value: function toString() {
      var url = this.origin || "";
      url += "/";
      this.pathName && (url += this.pathName);
      this.parameters && (url += Url.encodeQuery(this.parameters));
      this.hash && (url += "#" + this.hash);
      return url;
    }
  }], [{
    key: "parse",
    value: function parse(url) {
      url = url || window.location.href;
      var result = new Url();

      if (typeof url === "string") {
        var parser;

        try {
          parser = new URL(url);
        } catch (e) {
          // HF for ie, Safari
          var matcher = url.match(regexp.url);
          parser = {
            protocol: matcher[2],
            hostname: matcher[3],
            port: matcher[4],
            pathname: matcher[5],
            search: matcher[6],
            hash: matcher[7]
          };
        }

        parser.protocol && (result.protocol = parser.protocol.replace(regexp.colon, ""));
        parser.hostname && (result.hostName = parser.hostname);
        parser.port && (result.port = parser.port);
        parser.pathname && (result.pathName = parser.pathname.replace(regexp.slash, ""));
        parser.search && (result.parameters = parser.search);
        parser.hash && (result.hash = parser.hash);
      } else if (_typeof(url) === "object") {
        url.protocol && (result.protocol = url.protocol);
        url.hostName && (result.hostName = url.hostName);
        url.port && (result.port = url.port);
        url.pathName && (result.pathName = url.pathName.replace(regexp.slash, ""));
        url.parameters && (result.parameters = url.parameters);
        url.hash && (result.hash = url.hash);
      }

      return result;
    }
  }, {
    key: "encodeValue",
    value: function encodeValue(value) {
      var result = value + "";

      if (value && (Array.isArray(value) || _typeof(value) === "object")) {
        result = JSON.stringify(value);
      }

      return encodeURIComponent(result);
    }
  }, {
    key: "encodeQuery",
    value: function encodeQuery(params) {
      var query = "?";

      for (var name in params) {
        query += name + "=" + Url.encodeValue(params[name]) + "&";
      }

      return query.substr(0, query.length - 1);
    }
  }, {
    key: "decodeValue",
    value: function decodeValue(value) {
      value = decodeURIComponent(value);
      var result = value;

      if (!isNaN(value)) {
        result = value;
      } else if (value === "true") {
        result = true;
      } else if (value === "false") {
        result = false;
      } else {
        var json = Url._checkJson(value);

        if (json) {
          result = json;
        }
      }

      return result;
    }
  }, {
    key: "decodeQuery",
    value: function decodeQuery(query) {
      var params = {};
      query = query.replace(/^\?/, "");
      query.split("&").forEach(function (value) {
        var valueSplitter = value.split("=");
        params[valueSplitter[0]] = Url.decodeValue(valueSplitter[1]);
      });
      return params;
    }
  }, {
    key: "_checkJson",
    value: function _checkJson(str) {
      try {
        return JSON.parse(str);
      } catch (e) {
        return false;
      }
    }
  }, {
    key: "getAbsoluteUri",
    value: function getAbsoluteUri(uri) {
      var resultUri;

      if (uri != null) {
        if (regexp.hash.test(uri)) {
          resultUri = location.href.split("#")[0] + uri;
        } else if (isRoute(uri)) {
          resultUri = getRouteUrl(uri);
        } else {
          resultUri = uri;
        }

        if (!/^[a-z0-9\-+.]+:/i.test(resultUri)) {
          if (!resultUri.startsWith("/")) resultUri = "/" + resultUri;
          resultUri = location.protocol + "//" + location.host + resultUri;
        }
      }

      return resultUri;
    }
  }, {
    key: "join",
    value: function join() {
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      var url = args.join("/").replace(regexp.slashes, "$1/");
      if (url[url.length - 1] === "/") url = url.replace(/\/*$/, "");
      return url;
    }
  }]);

  return Url;
}();
/* harmony default export */ __webpack_exports__["default"] = (Url);

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

var _require = __webpack_require__(10),
    Utils = _require.Utils;

var LoggerFactory = Utils.LoggerFactory;
module.exports = LoggerFactory ? {
  LoggerFactory: LoggerFactory
} : __webpack_require__(25);

/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoggerFactory", function() { return LoggerFactory; });
// TODO Revert commit where this file was introduced, when dockit is no longer forced to using uu5g05@0.x.
var LEVELS = {
  DEBUG: 0,
  INFO: 1,
  WARN: 2,
  ERROR: 3,
  FATAL: 4,
  // not used in uu5g05, but it's here for consistent numbering & recognition in case uu5App sets it for uu_appg01 component
  UNKNOWN: 5,
  OFF: 6
};
var logLevel = LEVELS[ false ? undefined : "WARN"];
var LoggerFactory = {
  get: function get(name) {
    return Logger;
  },
  init: function init() {}
};
var Logger = {
  getName: function getName() {
    return "console";
  },
  setLevel: function setLevel(newLevel) {
    var usedLevel = typeof newLevel === "string" ? LEVELS[newLevel.toUpperCase()] : undefined;
    if (usedLevel === undefined) usedLevel = Number(newLevel);

    if (!isNaN(usedLevel)) {
      logLevel = usedLevel;
    }
  },
  getLevel: function getLevel() {
    return logLevel;
  },
  debug: console.debug.bind(console),
  info: console.info.bind(console),
  warn: console.warn.bind(console),
  error: console.error.bind(console),
  isDebugLoggable: function isDebugLoggable() {
    return logLevel <= LEVELS.DEBUG;
  },
  isInfoLoggable: function isInfoLoggable() {
    return logLevel <= LEVELS.INFO;
  },
  isWarnLoggable: function isWarnLoggable() {
    return logLevel <= LEVELS.WARN;
  },
  isErrorLoggable: function isErrorLoggable() {
    return logLevel <= LEVELS.ERROR;
  },
  // to be used only during development
  log: function log() {
    var _console;

    if ( false || logLevel > LEVELS.UNKNOWN) return;

    (_console = console).log.apply(_console, arguments);
  }
};


/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getComponentByName", function() { return getComponentByName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadComponentByName", function() { return loadComponentByName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "checkTag", function() { return checkTag; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _environment_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */



uu5g05__WEBPACK_IMPORTED_MODULE_0__["useDynamicLibraryComponent"]._backCompatGetComponent = function (componentName, item, Component, error) {
  if (Component != null) return {
    Component: Component,
    error: error
  }; // fall back to getting a component from global variable

  var tagArray = componentName.split(".");
  var calculatedTag = window;

  while (calculatedTag && ["object", "function"].indexOf(_typeof(calculatedTag)) > -1 && tagArray.length > 0) {
    calculatedTag = calculatedTag[tagArray.shift()];
  }

  var result = calculatedTag || null;
  return {
    Component: result,
    error: result != null ? undefined : error
  };
};

var getComponentByName = uu5g05__WEBPACK_IMPORTED_MODULE_0__["useDynamicLibraryComponent"]._getComponentByName;
var loadComponentByName = uu5g05__WEBPACK_IMPORTED_MODULE_0__["useDynamicLibraryComponent"]._loadComponentByName;
var checkTag = uu5g05__WEBPACK_IMPORTED_MODULE_0__["useDynamicLibraryComponent"]._checkTag;
uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].LibraryRegistry._backCompatGetLibrary = _environment_environment__WEBPACK_IMPORTED_MODULE_1__["default"].getLibrary;

/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconManager", function() { return IconManager; });
/* harmony import */ var _document_manager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var IconManager = /*#__PURE__*/function () {
  function IconManager(iconLibraries) {
    _classCallCheck(this, IconManager);

    this.iconLibraries = iconLibraries;
  }

  _createClass(IconManager, [{
    key: "addIcons",
    value: function addIcons(iconsName) {
      var iconsUrl = this.iconLibraries[iconsName];
      this.loadedIcons = this.loadedIcons || {};

      if (iconsUrl && !this.loadedIcons[iconsName]) {
        this.loadedIcons[iconsName] = true;
        _document_manager_js__WEBPACK_IMPORTED_MODULE_0__["default"].addUniqueCss(iconsUrl);
      }
    }
  }]);

  return IconManager;
}();
/* harmony default export */ __webpack_exports__["default"] = (IconManager);

/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EventListener", function() { return EventListener; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);
/* harmony import */ var _utils_lsi_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21);
/* harmony import */ var _utils_screen_size_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(20);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(11);
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */




 // main visibility API function
// use visibility API to check if current tab is active or not

var visibility = function () {
  var stateKey,
      eventKey,
      keys = {
    hidden: "visibilitychange",
    webkitHidden: "webkitvisibilitychange",
    mozHidden: "mozvisibilitychange",
    msHidden: "msvisibilitychange"
  };

  for (stateKey in keys) {
    if (stateKey in document) {
      eventKey = keys[stateKey];
      break;
    }
  }

  return function (c) {
    if (c) document.addEventListener(eventKey, c);
    return !document[stateKey];
  };
}();

var EventListener = /*#__PURE__*/function () {
  function EventListener() {
    var _this = this;

    _classCallCheck(this, EventListener);

    this._events = new Map();
    this._listeners = {
      screenSize: {},
      language: {},
      highlight: {},
      dateTime: {},
      number: {},
      loadLibs: {}
    };
    visibility(function () {
      return _this.triggerEvent("pageVisibility", {
        visible: visibility(),
        focus: _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["Environment"].isPageFocused()
      });
    });
    this.addWindowEvent("focus", "windowFocus", function () {
      return _this.triggerEvent("pageVisibility", {
        visible: _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["Environment"].isPageVisible(),
        focus: true
      });
    });
    this.addWindowEvent("blur", "windowBlur", function () {
      return _this.triggerEvent("pageVisibility", {
        visible: _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["Environment"].isPageVisible(),
        focus: false
      });
    });
  }

  _createClass(EventListener, [{
    key: "registerEvent",
    value: function registerEvent(key, id, fce) {
      if (typeof fce === "function") {
        var _this$_listeners$key;

        if (key === "lsi") key = "language";
        var usedFce = fce;
        var prevFce = (_this$_listeners$key = this._listeners[key]) === null || _this$_listeners$key === void 0 ? void 0 : _this$_listeners$key[id];

        if (key === "language") {
          // TODO because of backward compatibility
          usedFce = function usedFce(lang) {
            return fce(lang && _typeof(lang) === "object" ? lang.language : lang); // new API (UU5.Utils.Lsi.setLanguage) sends object { language: "..." }, EventListener's listeners expect string
          };

          if (prevFce) _utils_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].unregister(prevFce);
          _utils_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].register(usedFce);
        } else {
          if (prevFce) uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].EventManager.unregister(key, prevFce);
          uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].EventManager.register(key, usedFce);
        }

        this._listeners[key] = this._listeners[key] || {};
        this._listeners[key][id] = usedFce;
      } else {
        this._writeError(key, id, fce);
      }

      return this;
    }
  }, {
    key: "triggerEvent",
    value: function triggerEvent() {
      var _arguments = arguments;

      // TODO Remove Utils.DOM after uu5g05 >= 0.15.0 release.
      (uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Dom || uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].DOM)._batchedUpdates(function () {
        var _Utils$EventManager;

        // i.e. arguments = ['lsi', 'cs-cz']
        var _arguments2 = _toArray(_arguments),
            key = _arguments2[0],
            params = _arguments2.slice(1);

        if (key === "lsi") key = "language";
        if (key === "screenSize") _utils_screen_size_js__WEBPACK_IMPORTED_MODULE_3__["default"].setSize.apply(_utils_screen_size_js__WEBPACK_IMPORTED_MODULE_3__["default"], _toConsumableArray(params));else (_Utils$EventManager = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].EventManager).trigger.apply(_Utils$EventManager, [key].concat(_toConsumableArray(params)));
      });

      return this;
    }
  }, {
    key: "unregisterEvent",
    value: function unregisterEvent(key, id) {
      if (key === "lsi") key = "language";

      if (this._listeners[key]) {
        var fn = this._listeners[key][id];

        if (fn) {
          // TODO because of backward compatibility
          if (key === "lsi") _utils_lsi_js__WEBPACK_IMPORTED_MODULE_2__["default"].unregister(fn);
          if (fn) uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].EventManager.unregister(key, fn);
          delete this._listeners[key][id];
        }
      }

      return this;
    }
  }, {
    key: "addEvent",
    value: function addEvent(object, key, id, fce) {
      if (typeof fce === "function") {
        var targetMap = this._events.get(object);

        if (!targetMap) this._events.set(object, targetMap = {});
        if (!targetMap[key]) targetMap[key] = {};
        if (targetMap[key][id]) uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].EventManager.unregister(key, targetMap[key][id], object);
        uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].EventManager.register(key, fce, object);
        targetMap[key][id] = fce;
      } else {
        this._writeError(key, id, fce);
      }

      return this;
    }
  }, {
    key: "removeEvent",
    value: function removeEvent(object, key, id) {
      var targetMap = this._events.get(object);

      if (targetMap !== null && targetMap !== void 0 && targetMap[key]) {
        var prevFce = targetMap[key][id];
        if (prevFce) uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].EventManager.unregister(key, prevFce, object);
        delete targetMap[key][id];
      }

      return this;
    }
  }, {
    key: "createEvent",
    value: function createEvent(object, key, id, fce) {
      _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].warning("UU5.Environment.EventListener.createEvent is deprecated! Use UU5.Environment.EventListener.addEvent instead.");
      this.addEvent(object, key, id, fce);
    }
  }, {
    key: "deleteEvent",
    value: function deleteEvent(object, key, id) {
      _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].warning("UU5.Environment.EventListener.deleteEvent is deprecated! Use UU5.Environment.EventListener.removeEvent instead.");
      this.removeEvent(object, key, id);
    }
  }, {
    key: "registerBeforeUnload",
    value: function registerBeforeUnload() {
      window.addEventListener("beforeunload", this._onBeforeUnload);
    }
  }, {
    key: "unregisterBeforeUnload",
    value: function unregisterBeforeUnload() {
      window.removeEventListener("beforeunload", this._onBeforeUnload);
    }
  }, {
    key: "registerPageVisibility",
    value: function registerPageVisibility(id, fce) {
      this.registerEvent("pageVisibility", id, fce);
    }
  }, {
    key: "unregisterPageVisibility",
    value: function unregisterPageVisibility(id) {
      this.unregisterEvent("pageVisibility", id);
    }
  }, {
    key: "_onBeforeUnload",
    value: function _onBeforeUnload(event) {
      // for FireFox
      event.preventDefault();
      event.returnValue = "";
      return event.returnValue;
    }
  }, {
    key: "addIdentityChangeListener",
    value: function addIdentityChangeListener(session, id, fce) {
      this._addSessionEvent(session, "identityChange", id, fce);
    }
  }, {
    key: "removeIdentityChangeListener",
    value: function removeIdentityChangeListener(session, id) {
      this._removeSessionEvent(session, "identityChange", id);
    }
  }, {
    key: "addSessionExpiringListener",
    value: function addSessionExpiringListener(session, id, fce) {
      this._addSessionEvent(session, "sessionExpiring", id, fce);
    }
  }, {
    key: "removeSessionExpiringListener",
    value: function removeSessionExpiringListener(session, id) {
      this._removeSessionEvent(session, "sessionExpiring", id);
    }
  }, {
    key: "addSessionExtendedListener",
    value: function addSessionExtendedListener(session, id, fce) {
      this._addSessionEvent(session, "sessionExtended", id, fce);
    }
  }, {
    key: "removeSessionExtendedListener",
    value: function removeSessionExtendedListener(session, id) {
      this._removeSessionEvent(session, "sessionExtended", id);
    }
  }, {
    key: "addWindowEvent",
    value: function addWindowEvent(key, id, fce) {
      this.addEvent(window, key, id, fce);
      return this;
    }
  }, {
    key: "removeWindowEvent",
    value: function removeWindowEvent(key, id) {
      this.removeEvent(window, key, id);
      return this;
    }
  }, {
    key: "registerLsi",
    value: function registerLsi(id, fce) {
      this.registerEvent("language", id, fce);
    }
  }, {
    key: "triggerLsi",
    value: function triggerLsi(lang) {
      this.triggerEvent("language", lang);
    }
  }, {
    key: "unregisterLsi",
    value: function unregisterLsi(id) {
      this.unregisterEvent("language", id);
    }
  }, {
    key: "registerScreenSize",
    value: function registerScreenSize(id, fce) {
      this.registerEvent("screenSize", id, fce);
    }
  }, {
    key: "triggerScreenSize",
    value: function triggerScreenSize(e, screenSize) {
      this.triggerEvent("screenSize", e, screenSize);
    }
  }, {
    key: "unregisterScreenSize",
    value: function unregisterScreenSize(id) {
      this.unregisterEvent("screenSize", id);
    }
  }, {
    key: "registerHighlight",
    value: function registerHighlight(id, fce) {
      this.registerEvent("highlight", id, fce);
    }
  }, {
    key: "triggerHighlight",
    value: function triggerHighlight(searchedTexts) {
      this.triggerEvent("highlight", searchedTexts);
    }
  }, {
    key: "unregisterHighlight",
    value: function unregisterHighlight(id) {
      this.unregisterEvent("highlight", id);
    }
  }, {
    key: "registerDateTime",
    value: function registerDateTime(id, fce) {
      this.registerEvent("dateTime", id, fce);
    }
  }, {
    key: "triggerDateTime",
    value: function triggerDateTime(opt) {
      this.triggerEvent("dateTime", opt);
    }
  }, {
    key: "unregisterDateTime",
    value: function unregisterDateTime(id) {
      this.unregisterEvent("dateTime", id);
    }
  }, {
    key: "registerNumber",
    value: function registerNumber(id, fce) {
      this.registerEvent("number", id, fce);
    }
  }, {
    key: "triggerNumber",
    value: function triggerNumber(opt) {
      this.triggerEvent("number", opt);
    }
  }, {
    key: "unregisterNumber",
    value: function unregisterNumber(id) {
      this.unregisterEvent("number", id);
    }
  }, {
    key: "registerLoadLibs",
    value: function registerLoadLibs(id, fce) {
      this.registerEvent("loadLibs", id, fce);
    }
  }, {
    key: "triggerLoadLibs",
    value: function triggerLoadLibs(markers) {
      this.triggerEvent("loadLibs", markers);
    }
  }, {
    key: "unregisterLoadLibs",
    value: function unregisterLoadLibs(id) {
      this.unregisterEvent("loadLibs", id);
    }
  }, {
    key: "_addSessionEvent",
    value: function _addSessionEvent(session, key, id, fce) {
      if (typeof fce === "function") {
        var targetMap = this._events.get(session);

        if (!targetMap) {
          this._events.set(session, {});

          targetMap = this._events.get(session);
        }

        if (!targetMap[key]) {
          targetMap[key] = targetMap[key] || {};
          session.addListener(key, function (e) {
            for (var _id in targetMap[key]) {
              targetMap[key][_id](e);
            }
          });
        }

        targetMap[key][id] = fce;
      } else {
        this._writeError(key, id, fce);
      }
    }
  }, {
    key: "_removeSessionEvent",
    value: function _removeSessionEvent(session, key, id) {
      var targetMap = this._events.get(session);

      if (targetMap && targetMap[key] && targetMap[key][id]) {
        session.removeListener(key, targetMap[key][id]);
        delete targetMap[key][id];
      }
    }
  }, {
    key: "_writeError",
    value: function _writeError(key, id, fce) {
      _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].error("In event \"".concat(key, "\" parameter is not function."), {
        component: "EventListener",
        id: id,
        function: fce,
        key: key
      });
    }
  }]);

  return EventListener;
}();
/* harmony default export */ __webpack_exports__["default"] = (EventListener);

/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Speech", function() { return Speech; });
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17);
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var Speech = /*#__PURE__*/function () {
  function Speech() {
    _classCallCheck(this, Speech);

    this._voices = [];
    this._synth = "speechSynthesis" in window ? window.speechSynthesis : undefined;
    this._initialized = false;
  }

  _createClass(Speech, [{
    key: "_getChosenVoice",
    value: function _getChosenVoice(opt) {
      var result;

      if (opt.voice) {
        result = opt.voice;
      } else {
        result = this._voices.find(function (voice) {
          return voice.lang === opt.lang || voice.lang.startsWith("".concat(opt.lang, "-"));
        });

        if (!result) {
          var language = _tools_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLanguage();
          result = this._voices.find(function (voice) {
            return voice.lang === language || voice.lang.startsWith("".concat(language, "-"));
          });
        }

        if (!result) {
          var _language = "en";
          result = this._voices.find(function (voice) {
            return voice.lang === _language || voice.lang.startsWith("".concat(_language, "-"));
          });
        }
      }

      return result;
    }
  }, {
    key: "getVoices",
    value: function getVoices() {
      var _this = this;

      if (!this._synth) {
        return [];
      }

      return new Promise(function (resolve) {
        _this._voices = _this._synth.getVoices();

        if (_this._voices.length) {
          resolve(_this._voices);
          return;
        }

        _this._synth.addEventListener("voiceschanged", function () {
          _this._voices = _this._synth.getVoices();
          resolve(_this._voices);
        });
      });
    }
  }, {
    key: "play",
    value: function () {
      var _play = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
        var text,
            opt,
            chosenVoice,
            output,
            utterance,
            _args = arguments;
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                text = _args.length > 0 && _args[0] !== undefined ? _args[0] : "";
                opt = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};

                if (this._synth) {
                  _context.next = 4;
                  break;
                }

                return _context.abrupt("return");

              case 4:
                if (text) {
                  _context.next = 7;
                  break;
                }

                this.resume();
                return _context.abrupt("return");

              case 7:
                if (this._voices.length) {
                  _context.next = 10;
                  break;
                }

                _context.next = 10;
                return this.getVoices();

              case 10:
                chosenVoice = this._getChosenVoice({
                  voice: opt.voice,
                  lang: opt.lang
                });

                if (chosenVoice) {
                  output = text.replace(/(…|[._]{2,})/, "");
                  utterance = new SpeechSynthesisUtterance(output);
                  utterance.addEventListener("error", function (error) {
                    return console.error(error);
                  });
                  utterance.pitch = opt.pitch || 1;
                  utterance.rate = opt.rate || 1;
                  utterance.volume = opt.volume || 1;
                  utterance.lang = chosenVoice.lang;
                  utterance.voice = chosenVoice;

                  if (this._initialized === false) {
                    this._initialized = true;

                    this._synth.cancel();
                  }

                  this._synth.speak(utterance);
                } else {
                  console.warn("Voice localization couldn't be found");
                }

              case 12:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function play() {
        return _play.apply(this, arguments);
      }

      return play;
    }()
  }, {
    key: "resume",
    value: function resume() {
      if (!this._synth) {
        return;
      }

      this._synth.resume();
    }
  }, {
    key: "pause",
    value: function pause() {
      if (!this._synth) {
        return;
      }

      this._synth.pause();
    }
  }, {
    key: "stop",
    value: function stop() {
      if (!this._synth) {
        return;
      }

      this._synth.cancel();
    }
  }]);

  return Speech;
}();
/* harmony default export */ __webpack_exports__["default"] = (Speech);

/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CommonLsi", function() { return CommonLsi; });
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
var CommonLsi = {
  loadMixin: {
    error: {
      cs: "Data ze serveru nebylo možné načíst.",
      en: "Data from server cannot be loaded.",
      sk: "Dáta zo serveru nebolo možné načítať",
      uk: "Не вдалось отримати дані з сервера."
    }
  },
  vucMixin: {
    notAuthorized: {
      cs: "Nemáte práva na zobrazení vizuálního případu užití.",
      en: "You have not permission to show visual use case.",
      sk: "Nemáte práva na zobrazenie vizuálneho prípadu použitia.",
      uk: "Ви не маєте прав на перегляд."
    },
    serverConnection: {
      cs: "Server je dočasně nedostupný.",
      en: "Server is temporarily unavailable.",
      sk: "Server je dočasne nedostupný.",
      uk: "Сервер тимчасово не доступний."
    }
  },
  error: {
    showErrorDetails: {
      cs: "Zobrazit podrobnosti o chybě.",
      en: "View error details.",
      sk: "Zobraziť podrobnosti o chybe.",
      uk: "Показати деталі помилки."
    },
    hideErrorDetails: {
      cs: "Skrýt podrobnosti o chybě.",
      en: "Hide error details.",
      sk: "Skryť podrobnosti o chybe.",
      uk: "Приховати деталі помилки."
    },
    copyButton: {
      cs: "Kopírovat podrobnosti o chybě",
      en: "Copy error details",
      sk: "Skopírovať podrobnosti o chybe.",
      uk: "Скопіювати деталі помилки"
    }
  },
  router: {
    pageLeaveConfirmationHeader: {
      cs: "Chcete tuto stránku opustit?",
      en: "Do you want to leave this page?",
      sk: "Chcete túto stránku opustiť?",
      uk: "Ви бажаєте покинути сторінку?"
    },
    pageLeaveConfirmationBody: {
      cs: "Je možné, že provedené změny nebudou uloženy.",
      en: "Changes you made may not be saved.",
      sk: "Je možné, že vykonané zmeny nebudú uložené.",
      uk: "Внесені зміни можливо не будуть збережені."
    },
    pageLeaveConfirm: {
      cs: "Odejít",
      en: "Leave",
      sk: "Opustiť",
      uk: "Вийти"
    },
    pageLeaveDeny: {
      cs: "Zůstat",
      en: "Stay",
      sk: "Zostať",
      uk: "Залишитись"
    },
    routeError: {
      cs: "Při zobrazování uuRoute došlo k chybě.",
      en: "There was an error while displaying uuRoute.",
      sk: "Pri zobrazovaní uuRoute došlo k chybe.",
      uk: "Помилка при відображенні uuRoute."
    }
  },
  notFoundTag: {
    offline: {
      cs: "Komponenta %s nemohla být načtená, protože jste offline.",
      en: "The component %s cannot be loaded because you are offline.",
      sk: "Komponenta %s nemohla byť načítaná, pretože ste offline.",
      uk: "Неможливо загрузити компонент %s оскільки ви offline."
    },
    notFound: {
      cs: "Komponenta %s neexistuje.",
      en: "The component %s does not exist.",
      sk: "Komponenta %s neexistuje",
      uk: "Компонент %s не існує"
    }
  }
};
/* harmony default export */ __webpack_exports__["default"] = (CommonLsi);

/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _normalize_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(32);
/* harmony import */ var _normalize_less__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_normalize_less__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_less__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(38);
/* harmony import */ var _common_less__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_common_less__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _font_size_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(40);
/* harmony import */ var _font_size_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_font_size_less__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _internal_bg_styles_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(42);
/* harmony import */ var _css_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(43);
/* harmony import */ var _color_schema_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(45);
/* harmony import */ var _color_schema_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_color_schema_less__WEBPACK_IMPORTED_MODULE_5__);
/**
 * Copyright (C) 2019 Unicorn a.s.
 *
 * This program is free software; you can use it under the terms of the UAF Open License v01 or
 * any later version. The text of the license is available in the file LICENSE or at www.unicorn.com.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even
 * the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See LICENSE for more details.
 *
 * You may contact Unicorn a.s. at address: V Kapslovne 2767/2, Praha 3, Czech Republic or
 * at the email: info@unicorn.com.
 *
 */

/* eslint-disable uu5/import-order */




 // must be done in startup because it creates <style /> element and we need this to be done during startup, not later



/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(33);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(35)();
};

var update = __webpack_require__(36)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(34);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".uu5-device-ios > * {\n  -webkit-tap-highlight-color: transparent;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  cursor: pointer;\n}\n.uu5-device-ios .uu5-forms-input,\n.uu5-device-ios .uu5-bricks-button {\n  -webkit-tap-highlight-color: initial;\n}\n.uu5-device-ios .uu5-forms-input label {\n  -webkit-tap-highlight-color: transparent;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return "@media ".concat(item[2], " {").concat(content, "}");
      }

      return content;
    }).join('');
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery, dedupe) {
    if (typeof modules === 'string') {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var i = 0; i < this.length; i++) {
        // eslint-disable-next-line prefer-destructuring
        var id = this[i][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = [].concat(modules[_i]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        // eslint-disable-next-line no-continue
        continue;
      }

      if (mediaQuery) {
        if (!item[2]) {
          item[2] = mediaQuery;
        } else {
          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);
        }
      }

      list.push(item);
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring

  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || '').concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
  return "/*# ".concat(data, " */");
}

/***/ }),
/* 35 */
/***/ (function(module, exports) {

function insert(styleEl) {
  var insertionEl = document.head || document.body;
  styleEl.setAttribute("data-owner", "uu5g04/uu5g04@1.51.4");
  styleEl.setAttribute("data-emotion", "uu");
  styleEl.setAttribute("data-tech", "less"); // insert the style element
  // 1. after last matching data-emotion using technology "less"

  var els = insertionEl.querySelectorAll("style[data-emotion=\"uu\"]");

  for (var i = els.length - 1; i >= 0; i--) {
    var _el = els[i];

    if (_el.getAttribute("data-tech") === "less") {
      _el.parentNode.insertBefore(styleEl, _el.nextSibling);

      return;
    }
  } // 2. before first matching data-emotion using technology "emotion"


  for (var _i = 0; _i < els.length; _i++) {
    var _el2 = els[_i];

    if (_el2.getAttribute("data-tech") !== "less") {
      _el2.parentNode.insertBefore(styleEl, _el2);

      return;
    }
  } // 3. before element with data-uu-app-styles-insert-before attribute


  var el = document.querySelector("[data-uu-app-styles-insert-before]");

  if (el) {
    el.parentNode.insertBefore(styleEl, el);
    return;
  } // 4. at the end of <head> or <body>


  insertionEl.appendChild(styleEl);
}

var PSEUDO_ELEMENT = {
  appendChild: insert,
  insertBefore: insert,
  insertAfter: insert
};

module.exports = function insertInto() {
  return PSEUDO_ELEMENT;
};

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(37);

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = typeof options.transform === 'function'
		 ? options.transform(obj.css) 
		 : options.transform.default(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),
/* 37 */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(39);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(35)();
};

var update = __webpack_require__(36)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(34);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "/* Following variables are available to uuApps / libraries using uu5g04 library.\n   This file can be imported using:\n    import \"~uu5g04/dist/tools.less\";\n*/\n/***************** FLEX start *****************/\n/* @deprecated */\n/***************** FLEX end *****************/\n/***************** ANIMATIONS start *****************/\n/* @deprecated */\n/***************** ANIMATIONS end *****************/\n/***************** LAYOUT start *****************/\n/* @deprecated */\n/***************** LAYOUT end *****************/\n@media screen and (max-width: 480px) {\n  body {\n    font-size: 16px;\n  }\n}\n@media screen and (min-width: 481px) {\n  body {\n    font-size: 15px;\n  }\n}\n/* global */\n* {\n  box-sizing: border-box;\n}\n/* Paddings */\n.uu5-common-padding-none,\n.padding-none {\n  padding: 0;\n}\n.uu5-common-padding-xs,\n.padding-xs {\n  padding: 8px;\n}\n.uu5-common-padding-s,\n.padding-s {\n  padding: 16px;\n}\n.uu5-common-padding-m,\n.padding-m {\n  padding: 24px;\n}\n.uu5-common-padding-l,\n.padding-l {\n  padding: 32px;\n}\n.uu5-common-padding-xl,\n.padding-xl {\n  padding: 40px;\n}\n/* min-height */\n.uu5-common-min-height-none,\n.min-height-none {\n  min-height: 0;\n}\n.uu5-common-min-height-xs,\n.min-height-xs {\n  min-height: 16px;\n}\n.uu5-common-min-height-s,\n.min-height-s {\n  min-height: 32px;\n}\n.uu5-common-min-height-m,\n.min-height-m {\n  min-height: 48px;\n}\n.uu5-common-min-height-l,\n.min-height-l {\n  min-height: 64px;\n}\n.uu5-common-min-height-xl,\n.min-height-xl {\n  min-height: 80px;\n}\n/* Text in columns */\n.uu5-common-newspaper-layout-1,\n.newspaper-layout-1 {\n  -webkit-column-count: 1;\n  /* Chrome, Safari, Opera */\n  /* Firefox */\n  column-count: 1;\n}\n.uu5-common-newspaper-layout-2,\n.newspaper-layout-2 {\n  -webkit-column-count: 2;\n  /* Chrome, Safari, Opera */\n  /* Firefox */\n  column-count: 2;\n}\n.uu5-common-newspaper-layout-3,\n.newspaper-layout-3 {\n  -webkit-column-count: 3;\n  /* Chrome, Safari, Opera */\n  /* Firefox */\n  column-count: 3;\n}\n.uu5-common-newspaper-layout-4,\n.newspaper-layout-4 {\n  -webkit-column-count: 4;\n  /* Chrome, Safari, Opera */\n  /* Firefox */\n  column-count: 4;\n}\n.uu5-common-newspaper-layout-5,\n.newspaper-layout-5 {\n  -webkit-column-count: 5;\n  /* Chrome, Safari, Opera */\n  /* Firefox */\n  column-count: 5;\n}\n.uu5-common-newspaper-layout-6,\n.newspaper-layout-6 {\n  -webkit-column-count: 6;\n  /* Chrome, Safari, Opera */\n  /* Firefox */\n  column-count: 6;\n}\n@media screen and (max-width: 480px) {\n  .uu5-common-newspaper-layout-1,\n  .uu5-common-newspaper-layout-2,\n  .uu5-common-newspaper-layout-3,\n  .uu5-common-newspaper-layout-4,\n  .uu5-common-newspaper-layout-5,\n  .uu5-common-newspaper-layout-6 {\n    -webkit-column-count: 1;\n    /* Chrome, Safari, Opera */\n    /* Firefox */\n    column-count: 1;\n  }\n}\n/* Alignment*/\n.uu5-common-center,\n.center {\n  text-align: center;\n}\n.uu5-common-right,\n.right {\n  text-align: right;\n}\n.uu5-common-left,\n.left {\n  text-align: left;\n}\n.uu5-common-inline,\n.inline {\n  display: inline;\n}\n.uu5-common-block,\n.block {\n  display: block;\n}\n.uu5-overflow-hidden {\n  overflow: hidden;\n}\n/* Scrollable div with hidden scrollbar */\n.uu5-common-scrollable-box {\n  overflow-y: scroll;\n  -ms-overflow-style: none;\n}\n.uu5-common-scrollable-box::-webkit-scrollbar {\n  display: none;\n}\n@-moz-document url-prefix() {\n  .uu5-common-scrollable-box {\n    margin-right: -15px;\n    overflow-x: hidden;\n  }\n}\n.uu5-elevation--1,\n.uu5-elevation-hover--1:hover,\n.uu5-common-elevation--1,\n.uu5-common-elevation-hover--1:hover {\n  box-shadow: 0 0 0 0 transparent, inset 0 1px 5px 0 rgba(0, 0, 0, 0.14), inset 0 2px 4px 0 rgba(0, 0, 0, 0.3), inset 0 1px 5px 0 rgba(0, 0, 0, 0.15);\n}\n.uu5-elevation-0,\n.uu5-elevation-hover-0:hover,\n.uu5-common-elevation-0,\n.uu5-common-elevation-hover-0:hover {\n  box-shadow: 0 0 0 0 transparent, 0 0 0 0 transparent;\n}\n.uu5-elevation-1,\n.uu5-elevation-hover-1:hover,\n.uu5-common-elevation-1,\n.uu5-common-elevation-hover-1:hover {\n  box-shadow: 0 0 0 0 transparent, 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n}\n.uu5-elevation-2,\n.uu5-elevation-hover-2:hover,\n.uu5-common-elevation-2,\n.uu5-common-elevation-hover-2:hover {\n  box-shadow: 0 0 0 0 transparent, 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.2);\n}\n.uu5-elevation-3,\n.uu5-elevation-hover-3:hover,\n.uu5-common-elevation-3,\n.uu5-common-elevation-hover-3:hover {\n  box-shadow: 0 0 0 0 transparent, 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12), 0 3px 5px -1px rgba(0, 0, 0, 0.2);\n}\n.uu5-elevation-4,\n.uu5-elevation-hover-4:hover,\n.uu5-common-elevation-4,\n.uu5-common-elevation-hover-4:hover {\n  box-shadow: 0 0 0 0 transparent, 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.2);\n}\n.uu5-elevation-5,\n.uu5-elevation-hover-5:hover,\n.uu5-common-elevation-5,\n.uu5-common-elevation-hover-5:hover {\n  box-shadow: 0 0 0 0 transparent, 0 12px 17px 2px rgba(0, 0, 0, 0.14), 0 5px 22px 4px rgba(0, 0, 0, 0.12), 0 7px 8px -4px rgba(0, 0, 0, 0.2);\n}\n.uu5-common-bg-style-outline {\n  border-width: 1px;\n  border-style: solid;\n}\n.uu5-common-bg-style-underline {\n  border-bottom-width: 1px;\n  border-bottom-style: solid;\n}\n.uu5-common-singleline-ellipsis {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.uu5-common-bold {\n  font-weight: bold;\n}\n.uu5-common-italic {\n  font-style: italic;\n}\n.uu5-common-underline {\n  text-decoration: underline;\n}\n@media print {\n  .uu5-common-noprint,\n  .noprint {\n    display: none !important;\n  }\n}\n.uu5-common-temp-textarea {\n  opacity: 0;\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(41);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(35)();
};

var update = __webpack_require__(36)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(34);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "/* Font Size */\n/* absolute font size */\n/*\nstandard: 100%, 14px, 1+0.428 => proc*(1-standard)+1\nstandard\t1\t14\t1,428\nxxs\t0,5\t7\t1,214\nxs\t0,75\t11\t1,321\nsm\t1\t14\t1,428\nmd\t1,25\t18\t1,535\nlg\t1,5\t21\t1,642\nxl\t1,75\t25\t1,749\nxxl\t2\t28\t1,856\n\n*/\n/*.@{name}-font-size-xxs, .font-size-xxs {\n  font-size: 7px;\n  line-height: 1.214;\n}*/\n.uu5-common-font-size-xs,\n.font-size-xs {\n  font-size: 12px;\n  line-height: 1.3745;\n}\n.uu5-common-font-size-s,\n.font-size-s {\n  font-size: 14px;\n  line-height: 1.428;\n}\n.uu5-common-font-size-m,\n.font-size-m {\n  font-size: 16px;\n  line-height: 1.4815;\n}\n.uu5-common-font-size-l,\n.font-size-l {\n  font-size: 18px;\n  line-height: 1.535;\n}\n.uu5-common-font-size-xl,\n.font-size-xl {\n  font-size: 25px;\n  line-height: 1.749;\n}\n.uu5-common-font-size-xxl,\n.font-size-xxl {\n  font-size: 28px;\n  line-height: 1.856;\n}\n.uu5-common-font-size-50,\n.font-size-50 {\n  font-size: 50%;\n}\n.uu5-common-font-size-75,\n.font-size-75 {\n  font-size: 75%;\n}\n.uu5-common-font-size-100,\n.font-size-100 {\n  font-size: 100%;\n}\n.uu5-common-font-size-125,\n.font-size-125 {\n  font-size: 125%;\n}\n.uu5-common-font-size-150,\n.font-size-150 {\n  font-size: 150%;\n}\n.uu5-common-font-size-175,\n.font-size-175 {\n  font-size: 175%;\n}\n.uu5-common-font-size-200,\n.font-size-200 {\n  font-size: 200%;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(43);
/* harmony import */ var _class_names__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(44);
/* harmony import */ var _environment_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
var _templateObject;

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }





var getDefaultColors = function getDefaultColors(colorShades, bgStyle) {
  var definitions;

  if (bgStyle === "filled") {
    definitions = {
      bgColor: "transparent",
      bgColorHover: colorShades.c200,
      bgColorActive: colorShades.c300,
      textColor: _environment_environment__WEBPACK_IMPORTED_MODULE_2__["default"].colors.common.darkText,
      textColorHover: _environment_environment__WEBPACK_IMPORTED_MODULE_2__["default"].colors.common.darkText,
      textColorActive: _environment_environment__WEBPACK_IMPORTED_MODULE_2__["default"].colors.common.darkText,
      borderColor: "transparent",
      borderColorHover: colorShades.c200,
      borderColorActive: colorShades.c300
    };
  } else {
    definitions = {
      bgColor: "transparent",
      bgColorHover: colorShades.c200,
      bgColorActive: colorShades.c300,
      textColor: _environment_environment__WEBPACK_IMPORTED_MODULE_2__["default"].colors.common.darkText,
      textColorHover: _environment_environment__WEBPACK_IMPORTED_MODULE_2__["default"].colors.common.darkText,
      textColorActive: _environment_environment__WEBPACK_IMPORTED_MODULE_2__["default"].colors.common.darkText,
      borderColor: colorShades.c400,
      borderColorHover: colorShades.c400,
      borderColorActive: colorShades.c400
    };
  }

  return definitions;
};

var getColors = function getColors(colorSchema, bgStyle) {
  colorSchema = _environment_environment__WEBPACK_IMPORTED_MODULE_2__["default"].colorSchemaMap[colorSchema].color;
  var colorShades = getShades(colorSchema);

  if (!colorSchema || colorSchema === "custom") {
    return null;
  } else if (colorSchema === "default") {
    return getDefaultColors(colorShades, bgStyle);
  } else {
    return null;
  }
};

var getShades = function getShades(colorSchema) {
  // get the most commonly used shades of the given colorSchema
  if (colorSchema === "default" || colorSchema === "grey" || !colorSchema) {
    return _environment_environment__WEBPACK_IMPORTED_MODULE_2__["default"].colors["grey"];
  } else {
    return _environment_environment__WEBPACK_IMPORTED_MODULE_2__["default"].colors[colorSchema.replace(/-rich/, "")];
  }
};

var getBgStyles = function getBgStyles(bgStyle) {
  var styles = ["default"].map(function (colorSchema) {
    var colors = getColors(colorSchema, bgStyle);

    if (!colors) {
      // Something went wrong. Maybe the colorSchema doesn't exist
      return "";
    }

    var style = "\n      background-color: ".concat(colors.bgColor, ";\n      color: ").concat(colors.textColor, ";\n      border-color: ").concat(colors.borderColor, ";\n\n      ").concat(colorSchema !== "default" ? "\n            &[class^=\"uu5-forms-\"] {\n              &.uu5-forms-input-form-item-text + .uu5-bricks-icon {\n                color: ".concat(colors.textColor, ";\n              }\n\n              .uu5-forms-input-form-item-value, .uu5-forms-input-form-item-value .uu5-bricks-icon {\n                color: ").concat(colors.textColor, ";\n              }\n\n              .uu5-forms-input-form-item-value + .uu5-bricks-icon,\n              &.uu5-forms-input-form-item + .uu5-forms-text-icon-link .uu5-bricks-icon {\n                color: ").concat(colors.textColor, ";\n              }\n            }\n          ") : "", "\n\n      ").concat(bgStyle !== "filled" ? "\n            .uu5-common-bg-style-filled,\n            .uu5-common-bg-style-outline,\n            .uu5-common-bg-style-underline,\n            .uu5-common-bg-style-transparent,\n            .uu5-common-bg-style-link,\n            .uu5-common-text {\n              &:not([class*=\"color-schema-\"]) {\n                color: ".concat(colors.textColor, ";\n              }\n            }\n          ") : "", "\n\n      &:not(.uu5-common-disabled).uu5-common-hover {\n        &:active, &.active {\n          background-color: ").concat(colors.bgColorActive, ";\n          border-color: ").concat(colors.borderColorActive, ";\n\n          ").concat(colorSchema !== "default" ? "color: ".concat(colors.textColorActive, ";") : "", "\n        }\n\n        &:active:hover, &.active:hover,\n        &:active:focus, &.active:focus {\n          background-color: ").concat(colors.bgColorActive, ";\n          border-color: ").concat(colors.borderColorActive, ";\n\n          ").concat(colorSchema !== "default" ? "color: ".concat(colors.textColorActive, ";") : "", "\n        }\n\n        &:hover, &:focus {\n          background-color: ").concat(colors.bgColorHover, ";\n          border-color: ").concat(colors.borderColorHover, ";\n\n          ").concat(colorSchema !== "default" ? "color: ".concat(colors.textColorHover, ";") : "", "\n        }\n      }\n\n      &:not(.uu5-common-disabled).uu5-common-focus:focus {\n        background-color: ").concat(colors.bgColorHover, ";\n        border-color: ").concat(colors.borderColorHover, ";\n\n        ").concat(colorSchema !== "default" ? "color: ".concat(colors.textColorHover, ";") : "", "\n      }\n\n      &.uu5-forms-items-input {\n        &:focus, &.uu5-forms-items-input-open {\n          background-color: ").concat(colors.bgColorHover, ";\n          border-color: ").concat(colors.borderColorHover, ";\n\n          ").concat(colorSchema !== "default" ? "color: ".concat(colors.textColorHover, ";") : "", "\n        }\n      }\n\n      .uu5-forms-text-input:focus {\n        box-shadow: inset 0 0 0 1px ").concat(colors.borderColor, ";\n      }\n    ");
    var bgStyleClassName = _class_names__WEBPACK_IMPORTED_MODULE_1__["default"][bgStyle];
    return "\n      .".concat(bgStyleClassName, ",\n      .").concat(bgStyleClassName, ".color-schema-").concat(colorSchema, ",\n      .color-schema-").concat(colorSchema, " .").concat(bgStyleClassName, ":not([class*=\"color-schema-\"]) {\n        &, &.uu5-forms-items-input {\n          ").concat(style, "\n        }\n      }\n    ");
  });
  return styles.join(" ");
};

["filled", "outline", "transparent", "underline"].forEach(function (bgStyle) {
  return _css__WEBPACK_IMPORTED_MODULE_0__["default"].injectGlobal(_templateObject || (_templateObject = _taggedTemplateLiteral(["", ""])), getBgStyles(bgStyle));
});

/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Css", function() { return Css; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var g05Css = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Css;

var Css = _objectSpread(_objectSpread(_objectSpread({}, g05Css.createCssModule("uu")), g05Css), {}, {
  createCssModule: function createCssModule(key) {
    var owner = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
    this[key] = g05Css.createCssModule(key, owner);
    return this[key];
  }
});


/* harmony default export */ __webpack_exports__["default"] = (Css);

/***/ }),
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClassNames", function() { return ClassNames; });
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
var ClassNames = {
  text: "uu5-common-text",
  bg: "uu5-common-bg",
  hover: "uu5-common-hover",
  focus: "uu5-common-focus",
  outline: "uu5-common-bg-style-outline",
  transparent: "uu5-common-bg-style-transparent",
  underline: "uu5-common-bg-style-underline",
  filled: "uu5-common-bg-style-filled",
  link: "uu5-common-bg-style-link",
  elevation: "uu5-common-elevation-",
  elevationHover: "uu5-common-elevation-hover-",
  forceRich: "uu5-common-force-rich"
};
/* harmony default export */ __webpack_exports__["default"] = (ClassNames);

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(46);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(35)();
};

var update = __webpack_require__(36)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(34);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "/* Color schema */\n/* Hidden class */\n.uu5-common-hidden {\n  display: none !important;\n}\n/* Disabled class */\n.uu5-common-disabled {\n  position: relative !important;\n  cursor: default !important;\n  opacity: 0.4;\n}\n.uu5-common-disabled.color-schema-black {\n  opacity: 0.2;\n}\n.uu5-common-disabled.color-schema-white {\n  opacity: 0.3;\n}\n.uu5-common-disabled .uu5-common-disabled {\n  opacity: 1;\n}\n.uu5-common-disabled .uu5-common-disabled[disabled] {\n  opacity: 1;\n}\n/* Disabled cover class wrapper - must set position relative on wrap element */\n.uu5-common-disabled-cover-wrapper {\n  position: relative;\n  display: inline-block;\n}\n/* Disabled cover class */\n.uu5-common-disabled-cover,\n.uu5-common-disabled-cover-transparent {\n  position: absolute;\n  cursor: default;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1001;\n}\n.uu5-common-disabled-cover-transparent {\n  background-color: transparent;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 47 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_nesting_level_mixin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(48);
/* harmony import */ var _common_tools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */


 // override uu5g05's Utils.NestingLevel.getNestingLevel() so that getting nesting level via
// "parent" prop is used too (NestingLevelMixin components)

var NestingLevel = {
  values: uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].NestingLevel.valueList,
  getNestingLevel: function getNestingLevel(props, statics) {
    var nestingLevelList = statics.nestingLevel;

    if (nestingLevelList && !Array.isArray(nestingLevelList)) {
      nestingLevelList = [nestingLevelList];
    } else if (!nestingLevelList) {
      nestingLevelList = NestingLevel.values;
    }

    var actualValidNestingLevel;
    var requestedNestingLevel = props.nestingLevel;

    if (!requestedNestingLevel) {
      // current component does not have any nesting level => try to find out nesting level of nearest parent
      // with NestingLevelMixin
      var parentNLComponent = props.parent;

      while (parentNLComponent && !parentNLComponent.hasUU5CommonNestingLevelMixin) {
        parentNLComponent = (parentNLComponent.props || {}).parent;
      }

      if (parentNLComponent) {
        var parentNestingLevel = parentNLComponent.getNestingLevel();
        var index = NestingLevel.values.indexOf(parentNestingLevel);

        if (index !== -1) {
          var minIndex = /Collection$/.test(parentNestingLevel) || parentNLComponent.getOpt("nestingLevelWrapper") ? index : Math.min(index + 1, NestingLevel.values.length - 1);
          actualValidNestingLevel = nestingLevelList.find(function (it) {
            return NestingLevel.values.indexOf(it) >= minIndex;
          });

          if (!actualValidNestingLevel) {
            actualValidNestingLevel = null; // NOTE Disabled warnings. See nesting-level-mixin.js, checkNestingLevel().
            // logNestingLevelError("nestingLevelMismatch", [
            //   statics.displayName,
            //   JSON.stringify(nestingLevelList),
            //   getComponentName(parentNLComponent),
            //   parentNestingLevel,
            //   JSON.stringify(NestingLevel.values.slice(minIndex))
            // ]);
          }
        }
      }
    }

    if (actualValidNestingLevel === undefined) {
      // compute actual valid nesting level from requested nesting level
      if (requestedNestingLevel) {
        var _index = NestingLevel.values.indexOf(requestedNestingLevel);

        if (_index === -1) {
          logNestingLevelError("unsupportedNestingLevel", [requestedNestingLevel, JSON.stringify(nestingLevelList)]);
        }

        var usableIndices = nestingLevelList.map(function (it) {
          return NestingLevel.values.indexOf(it);
        }).filter(function (v) {
          return v >= _index;
        });

        if (usableIndices.length === 0) {
          actualValidNestingLevel = null; // NOTE Disabled warnings. See nesting-level-mixin.js, checkNestingLevel().
          // logNestingLevelError("incorrectRequestedNestingLevel", [
          //   statics.displayName,
          //   requestedNestingLevel,
          //   JSON.stringify(nestingLevelList)
          // ]);
        } else {
          actualValidNestingLevel = NestingLevel.values[Math.min.apply(Math, _toConsumableArray(usableIndices))];
        }
      }

      if (actualValidNestingLevel === undefined) {
        actualValidNestingLevel = nestingLevelList[0];
      }
    }

    return actualValidNestingLevel;
  },
  getChildNestingLevel: function getChildNestingLevel(props, statics) {
    return uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].NestingLevel.getChildNestingLevel(props, statics);
  }
};

function logNestingLevelError(mixinErrorCode, params) {
  var message = _common_nesting_level_mixin__WEBPACK_IMPORTED_MODULE_1__["default"].statics["UU5.Common.NestingLevelMixin"].errors[mixinErrorCode];
  var formattedMessage = _common_tools__WEBPACK_IMPORTED_MODULE_2__["default"].formatString(message, params);
  _common_tools__WEBPACK_IMPORTED_MODULE_2__["default"].error(formattedMessage);
} // function getComponentName(component) {
//   return (
//     (component
//       ? typeof component.getTagName === "function"
//         ? component.getTagName()
//         : component.constructor && component.constructor.displayName
//       : "") || ""
//   );
// }


uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].NestingLevel.getNestingLevel = NestingLevel.getNestingLevel;
/* harmony default export */ __webpack_exports__["default"] = (NestingLevel);

/***/ }),
/* 48 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NestingLevelMixin", function() { return NestingLevelMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */



var NestingLevelMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.NestingLevelMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      defaults: {
        nestingLevel: "boxCollection"
      },
      errors: {
        // incorrectRequestedNestingLevel:
        //   'Component %s was used with property nestingLevel="%s", but it supports only one of: %s.',
        // nestingLevelMismatch:
        //   'Component %s with supported nesting levels %s cannot be nested into parent component %s which uses nesting level "%s". Component would have to support one of: %s.',
        // nestingLevelMismatchExplicitProp:
        //   'Component %s has prop nestingLevel="%s" and as such it cannot be nested into parent component %s which uses nesting level "%s". Component needs to use one of: %s.',
        unsupportedNestingLevel: 'Nesting level "%s" is not a supported value. Use one of: %s.'
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    nestingLevel: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOf(_environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList)
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      nestingLevel: null
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.NestingLevelMixin"); // state

    return {
      nestingLevel: this.checkNestingLevel()
    };
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    this.getNestingLevel() !== nextProps.nestingLevel && this.setState({
      nestingLevel: this.checkNestingLevel(nextProps)
    });
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonNestingLevelMixin: function hasUU5CommonNestingLevelMixin() {
    return this.hasMixin("UU5.Common.NestingLevelMixin");
  },
  getNestingLevel: function getNestingLevel() {
    return this.state.nestingLevel;
  },
  getUU5CommonNestingLevelMixinProps: function getUU5CommonNestingLevelMixinProps() {
    return {
      nestingLevel: this.props.nestingLevel
    };
  },
  getUU5CommonNestingLevelMixinPropsToPass: function getUU5CommonNestingLevelMixinPropsToPass() {
    return this.getUU5CommonNestingLevelMixinProps();
  },
  getParentNestingLevel: function getParentNestingLevel(parentNestingLevelComponent) {
    var component = parentNestingLevelComponent || this.getParentByType("hasUU5CommonNestingLevelMixin");
    return component ? component.getNestingLevel() : _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList[0];
  },
  getNestingLevelList: function getNestingLevelList() {
    return this.constructor.nestingLevel && [this.constructor.nestingLevel] || this.constructor.nestingLevelList || _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList;
  },
  checkNestingLevel: function checkNestingLevel() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    // NOTE Current rule: all components with nesting level must support "inline" nesting level.
    // 1. However, the components are implemented in such way that they list only e.g. "box" as their
    //    supported NL and if getNestingLevel() returns null, they render as "inline" :-/.
    // 2. Additionally, nestingLevel prop is "maximal" nesting level, therefore invalid nesting never happens... and
    //    therefore all warnings are now commented out.
    //step 1 - check prop nestingLevel
    var nestingLevelEnvIndex = _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList.indexOf(props.nestingLevel);
    var nestingLevel = nestingLevelEnvIndex > -1 ? props.nestingLevel : null; //console.log("step 1 requestedNestingLevel:",nestingLevel);
    //step 2 - check nestingLevelList

    var nestingLevelList = this.getNestingLevelList(); // let origNestingLevelList = nestingLevelList;
    //console.log("step 2 requestedNestingLevel:",nestingLevel,"nestingLevelList:",nestingLevelList,"parent::",parentNestingLevelComponent);

    if (props.nestingLevel && nestingLevelEnvIndex === -1) {
      this.showError("unsupportedNestingLevel", [props.nestingLevel, JSON.stringify(nestingLevelList)], {
        mixinName: "UU5.Common.NestingLevelMixin"
      });
    } //step 3 - check requested nestingLevel with build in nestingLevelList


    if (nestingLevel) {
      nestingLevelEnvIndex = _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList.indexOf(nestingLevel);
      var nestingLevelLoc = nestingLevelList.find(function (nestingLevel) {
        return _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList.indexOf(nestingLevel) >= nestingLevelEnvIndex;
      });
      var nestingLevelLocIndex = nestingLevelList.indexOf(nestingLevelLoc);

      if (nestingLevelLocIndex > -1) {
        nestingLevelList = nestingLevelList.slice(nestingLevelLocIndex);
        nestingLevelEnvIndex = _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList.indexOf(nestingLevelLoc);
        nestingLevel = null;
      }
    } //check nestingLevel rule incorrectRequestedNestingLevel


    if (_environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList.indexOf(nestingLevel) > _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList.indexOf(nestingLevelList[nestingLevelList.length - 1])) {
      // this.showError(
      //   "incorrectRequestedNestingLevel",
      //   [this.getTagName(), nestingLevel, JSON.stringify(origNestingLevelList)],
      //   {
      //     mixinName: "UU5.Common.NestingLevelMixin",
      //     context: {
      //       nestingLevelList: origNestingLevelList
      //     }
      //   }
      // );
      nestingLevelList = [];
    } //console.log("step 3 requestedNestingLevel:",nestingLevel,"requestedNestingLevelList:",nestingLevelList);
    //step 4 - build calculatedNestingLevelList from nestingLevel parent if exist


    var calculatedNestingLevelIndex = 0;
    var calculatedNestingLevelList = _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList;
    var parentNestingLevel = calculatedNestingLevelList[calculatedNestingLevelIndex];
    var parentNestingLevelComponent;

    if (!this.getOpt("nestingLevelRoot")) {
      parentNestingLevelComponent = this.getParentByType("hasUU5CommonNestingLevelMixin");
      parentNestingLevel = this.getParentNestingLevel(parentNestingLevelComponent); //console.log("step 4a",parentNestingLevel);

      calculatedNestingLevelIndex = _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList.indexOf(parentNestingLevel);

      if (parentNestingLevelComponent && !parentNestingLevelComponent.getOpt("nestingLevelWrapper") && parentNestingLevel && parentNestingLevel.search(/Collection$/) === -1) {
        calculatedNestingLevelIndex = Math.min(_environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList.length - 1, calculatedNestingLevelIndex + 1);
      }

      calculatedNestingLevelList = _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList.slice(calculatedNestingLevelIndex);
    } //console.log("step 4",calculatedNestingLevelList);
    //step 5 - find the lowest requested nestingLevel as possible if is not requested or is not requested correctly


    if (!nestingLevel) {
      nestingLevel = nestingLevelList.find(function (nestingLevel) {
        return _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList.indexOf(nestingLevel) >= calculatedNestingLevelIndex;
      });
      nestingLevelEnvIndex = _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].nestingLevelList.indexOf(nestingLevel); //console.log("step 5",nestingLevel)
    } // //check nestingLevel rule nestingLevelMismatch
    // if (nestingLevelEnvIndex < calculatedNestingLevelIndex) {
    //   if (props.nestingLevel) {
    //     this.showError(
    //       "nestingLevelMismatchExplicitProp",
    //       [
    //         this.getTagName(),
    //         props.nestingLevel,
    //         parentNestingLevelComponent.getTagName(),
    //         parentNestingLevel,
    //         JSON.stringify(calculatedNestingLevelList)
    //       ],
    //       {
    //         mixinName: "UU5.Common.NestingLevelMixin",
    //         context: {
    //           parent: {
    //             tagName: parentNestingLevelComponent.getTagName(),
    //             component: parentNestingLevelComponent
    //           }
    //         }
    //       }
    //     );
    //   } else {
    //     this.showError(
    //       "nestingLevelMismatch",
    //       [
    //         this.getTagName(),
    //         JSON.stringify(origNestingLevelList),
    //         parentNestingLevelComponent.getTagName(),
    //         parentNestingLevel,
    //         JSON.stringify(calculatedNestingLevelList)
    //       ],
    //       {
    //         mixinName: "UU5.Common.NestingLevelMixin",
    //         context: {
    //           parent: {
    //             tagName: parentNestingLevelComponent.getTagName(),
    //             component: parentNestingLevelComponent
    //           }
    //         }
    //       }
    //     );
    //   }
    // }
    //step 6 - find the lowest nestingLevel as possible for render into parent


    nestingLevel = nestingLevelList.find(function (nestingLevel) {
      return calculatedNestingLevelList.indexOf(nestingLevel) > -1;
    }); //console.log("step 6",this.getTagName(),nestingLevel || null);

    return nestingLevel || null;
  } //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (NestingLevelMixin);

/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LanguageContext", function() { return LanguageContext; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useLanguage", function() { return uu5g05__WEBPACK_IMPORTED_MODULE_0__["useLanguage"]; });

/* harmony import */ var _common_tools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */


var Language = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Language;
var LanguageContext = uu5g05__WEBPACK_IMPORTED_MODULE_0__["useLanguage"]._context;

uu5g05__WEBPACK_IMPORTED_MODULE_0__["LanguageProvider"]._uu5g04Integrate = function (ctxValue) {
  var parentCtxValue = Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useContext"])(LanguageContext);
  var isRoot = !parentCtxValue || Object.keys(parentCtxValue).length === 0;
  if (isRoot) _common_tools__WEBPACK_IMPORTED_MODULE_1__["default"]._languageProviderValue = ctxValue;
  Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    return function () {
      return _common_tools__WEBPACK_IMPORTED_MODULE_1__["default"]._languageProviderValue = null;
    };
  }, []);
};

uu5g05__WEBPACK_IMPORTED_MODULE_0__["useLanguage"]._override = function (g05Hook) {
  var _useLanguageContext = useLanguageContext(),
      language = _useLanguageContext.language,
      setLanguage = _useLanguageContext.setLanguage;

  var _useState = Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useState"])(function () {
    return Language.getLanguage();
  }),
      _useState2 = _slicedToArray(_useState, 2),
      lang = _useState2[0],
      setLang = _useState2[1];

  Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (!language) {
      // NOTE Legacy Class components might have called setLanguage() in their componentDidMount() and
      // if they did, it got already processed without us knowing about it => check that the language
      // in our state is still the same and update it if it isn't (same string-value doesn't cause re-render).
      setLang(Language.getLanguage());

      var changeLanguage = function changeLanguage(_ref) {
        var language = _ref.language;
        return setLang(language);
      };

      Language._register(changeLanguage);

      return function () {
        return Language._unregister(changeLanguage);
      };
    }
  }, [language]);
  return [language || lang, setLanguage || Language.setLanguage];
};

function useLanguageContext() {
  var contextValue = Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useContext"])(LanguageContext);
  var nonLegacyValue = useHandleLegacyValues(contextValue);
  return nonLegacyValue;
}

function useInitial(computationFn) {
  var computedRef = Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useRef"])();
  var valueRef = Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useRef"])();

  if (!computedRef.current) {
    computedRef.current = true;
    valueRef.current = computationFn();
  }

  return valueRef.current;
} // extra internal hook which handles legacy values (values sent from UU5.Bricks.LsiContext contain
// only registerLsi() / getLanguage() / ... methods which do not ever change; we have to use
// registerLsi() and then we'll get notified when a language changed)


function useHandleLegacyValues(contextValue) {
  var isLegacy = useInitial(function () {
    return contextValue && typeof contextValue.getLanguage === "function";
  });
  var wasLegacy = Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["usePreviousValue"])(isLegacy, isLegacy);

  if (isLegacy !== wasLegacy) {
    _common_tools__WEBPACK_IMPORTED_MODULE_1__["default"].error("Switching LanguageProvider values format from legacy to current and vice-versa is not properly supported. Re-mount provider or keep the value type same.");
  } // NOTE This assumes that context value never changes because it should
  // contain only function references.


  var id = useInitial(function () {
    return isLegacy ? _common_tools__WEBPACK_IMPORTED_MODULE_1__["default"].generateUUID() : undefined;
  });

  var _useState3 = Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useState"])(function () {
    return isLegacy ? contextValue.getLanguage() : undefined;
  }),
      _useState4 = _slicedToArray(_useState3, 2),
      notifiedValue = _useState4[0],
      setNotifiedValue = _useState4[1];

  var setLanguage = useInitial(function () {
    return isLegacy ? contextValue.setLanguage : undefined;
  });
  var unregisterLsi = useInitial(function () {
    if (isLegacy) {
      var registerLsi = contextValue.registerLsi,
          _unregisterLsi = contextValue.unregisterLsi;
      typeof registerLsi === "function" && registerLsi(id, function (lang) {
        return setNotifiedValue(lang);
      });
      return _unregisterLsi;
    }
  });
  Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    return function () {
      return typeof unregisterLsi === "function" && unregisterLsi(id);
    };
  }, [id, unregisterLsi]);
  return isLegacy ? {
    language: notifiedValue,
    setLanguage: setLanguage
  } : contextValue;
}



/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LevelContext", function() { return LevelContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "computeComponentLevel", function() { return computeComponentLevel; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useLevel", function() { return uu5g05__WEBPACK_IMPORTED_MODULE_0__["useLevel"]; });

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var LevelContext = uu5g05__WEBPACK_IMPORTED_MODULE_0__["useLevel"]._context;

uu5g05__WEBPACK_IMPORTED_MODULE_0__["useLevel"]._override = function (g05Hook) {
  // eslint-disable-next-line uu5/hooks-rules
  var contextValue = Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useContext"])(LevelContext);
  var level = computeComponentLevel(contextValue, true); // TODO Remove g05Result after release of uu5g05 0.15.0 and then always return array.

  for (var _len = arguments.length, hookArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    hookArgs[_key - 1] = arguments[_key];
  }

  var g05Result = g05Hook.apply(void 0, hookArgs);
  return Array.isArray(g05Result) ? [level, contextValue.setLevel] : level;
};

function computeComponentLevel(contextValue) {
  var skipIncrease = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var level;

  if (contextValue.level == null) {
    level = skipIncrease ? null : 0;
  } else {
    level = contextValue.level + (contextValue.isDummyLevel ? 0 : 1) + (skipIncrease ? -1 : 0);
  } // NOTE isDummyLevel is legacy flag from LevelMixin (for backward compatibility). Level component doesn't send it in Provider as it doesn't do "dummy" levels (it always increases the level).


  return level;
}



/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = {
  get "Common"() {
    return __webpack_require__(52)["Common"];
  },

  get "Icons"() {
    return __webpack_require__(52)["Icons"];
  },

  get "Utils"() {
    return __webpack_require__(52)["Utils"];
  },

  get "createVisualComponent"() {
    return __webpack_require__(52)["createVisualComponent"];
  },

  get "createComponent"() {
    return __webpack_require__(52)["createComponent"];
  },

  get "createHoc"() {
    return __webpack_require__(52)["createHoc"];
  },

  get "Bricks"() {
    return __webpack_require__(52)["Bricks"];
  },

  get "BricksEditable"() {
    return __webpack_require__(52)["BricksEditable"];
  },

  get "Forms"() {
    return __webpack_require__(52)["Forms"];
  },

  get "CodeKit"() {
    return __webpack_require__(52)["CodeKit"];
  },

  get "Calendar"() {
    return __webpack_require__(52)["Calendar"];
  },

  get "Imaging"() {
    return __webpack_require__(52)["Imaging"];
  },

  get "ParamQuery"() {
    return __webpack_require__(52)["ParamQuery"];
  },

  get "Math"() {
    return __webpack_require__(52)["Math"];
  },

  get "Tree"() {
    return __webpack_require__(52)["Tree"];
  },

  get "DataTable"() {
    return __webpack_require__(52)["DataTable"];
  },

  get "Chart"() {
    return __webpack_require__(52)["Chart"];
  },

  get "SimpleChart"() {
    return __webpack_require__(52)["SimpleChart"];
  },

  get "LibraryRegistry"() {
    return __webpack_require__(52)["LibraryRegistry"];
  },

  get "ComponentCatalogue"() {
    return __webpack_require__(52)["ComponentCatalogue"];
  },

  get "Tiles"() {
    return __webpack_require__(52)["Tiles"];
  },

  get "RichText"() {
    return __webpack_require__(52)["RichText"];
  },

  get "BlockLayout"() {
    return __webpack_require__(52)["BlockLayout"];
  },

  get "Test"() {
    return __webpack_require__(52)["Test"];
  },

  get "PropTypes"() {
    return __webpack_require__(10)["PropTypes"];
  },

  get "Environment"() {
    return __webpack_require__(11)["Environment"];
  }

};

/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createVisualComponent", function() { return createVisualComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createComponent", function() { return createComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createHoc", function() { return createHoc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Bricks", function() { return Bricks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BricksEditable", function() { return BricksEditable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Forms", function() { return Forms; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CodeKit", function() { return CodeKit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Calendar", function() { return Calendar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Imaging", function() { return Imaging; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ParamQuery", function() { return ParamQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Math", function() { return Math; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tree", function() { return Tree; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataTable", function() { return DataTable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Chart", function() { return Chart; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimpleChart", function() { return SimpleChart; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LibraryRegistry", function() { return LibraryRegistry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentCatalogue", function() { return ComponentCatalogue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tiles", function() { return Tiles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RichText", function() { return RichText; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockLayout", function() { return BlockLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Test", function() { return Test; });
/* harmony import */ var _common_common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(53);
/* harmony import */ var _common_common_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_common_common_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "Common", function() { return _common_common_js__WEBPACK_IMPORTED_MODULE_0__; });
/* harmony import */ var _environment_icons_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(128);
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "Icons", function() { return _environment_icons_js__WEBPACK_IMPORTED_MODULE_1__; });
/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(129);
/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_utils_utils_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "Utils", function() { return _utils_utils_js__WEBPACK_IMPORTED_MODULE_2__; });
/* harmony import */ var _common_visual_component_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65);
/* harmony import */ var _common_component_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(66);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */






var createVisualComponent = _common_visual_component_js__WEBPACK_IMPORTED_MODULE_3__["default"].create;
var createComponent = _common_component_js__WEBPACK_IMPORTED_MODULE_4__["default"].create;
var createHoc = _common_component_js__WEBPACK_IMPORTED_MODULE_4__["default"].createHoc; // workaround so that on-demand loaded UU5 modules can insert their own components
// into UU5 exports; i.e. if an application uses following:
//  import * as UU5 from "uu5g04";  // UU5 is a local variable containing new (separate) instance of exports
//  import "uu5g04-forms";
// then uu5g04-forms (UU5 module) wants to add "Forms" key into "root" of uu5g04 exports which
// isn't possible (exports are frozen by SystemJS), so instead uu5g04-forms will inject its components into
// pre-existing "Forms" key within uu5g04 exports

var Bricks = {};
var BricksEditable = {};
var Forms = {};
var CodeKit = {};
var Calendar = {};
var Imaging = {};
var ParamQuery = {};
var Math = {};
var Tree = {};
var DataTable = {};
var Chart = {};
var SimpleChart = {};
var LibraryRegistry = {};
var ComponentCatalogue = {};
var Tiles = {};
var RichText = {};
var BlockLayout = {};
var Test = {};

/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = {
  get "Children"() {
    return __webpack_require__(54)["Children"];
  },

  get "Suspense"() {
    return __webpack_require__(54)["Suspense"];
  },

  get "bookKitUrl"() {
    return __webpack_require__(54)["bookKitUrl"];
  },

  get "Fragment"() {
    return __webpack_require__(10)["Fragment"];
  },

  get "withStickyTop"() {
    return __webpack_require__(10)["withStickyTop"];
  },

  get "Css"() {
    return __webpack_require__(43)["Css"];
  },

  get "REGEXP"() {
    return __webpack_require__(16)["REGEXP"];
  },

  get "Tools"() {
    return __webpack_require__(16)["Tools"];
  },

  get "ClassNames"() {
    return __webpack_require__(44)["ClassNames"];
  },

  get "BaseMixin"() {
    return __webpack_require__(55)["BaseMixin"];
  },

  get "Div"() {
    return __webpack_require__(58)["Div"];
  },

  get "Level"() {
    return __webpack_require__(74)["Level"];
  },

  get "Error"() {
    return __webpack_require__(75)["Error"];
  },

  get "NotFoundTag"() {
    return __webpack_require__(79)["NotFoundTag"];
  },

  get "ElementaryMixin"() {
    return __webpack_require__(60)["ElementaryMixin"];
  },

  get "IdentityMixin"() {
    return __webpack_require__(82)["IdentityMixin"];
  },

  get "LevelMixin"() {
    return __webpack_require__(84)["LevelMixin"];
  },

  get "NestingLevelMixin"() {
    return __webpack_require__(48)["NestingLevelMixin"];
  },

  get "ContentMixin"() {
    return __webpack_require__(61)["ContentMixin"];
  },

  get "ColorSchemaMixin"() {
    return __webpack_require__(76)["ColorSchemaMixin"];
  },

  get "SectionMixin"() {
    return __webpack_require__(85)["SectionMixin"];
  },

  get "SessionMixin"() {
    return __webpack_require__(83)["SessionMixin"];
  },

  get "CcrReaderMixin"() {
    return __webpack_require__(86)["CcrReaderMixin"];
  },

  get "CcrWriterMixin"() {
    return __webpack_require__(87)["CcrWriterMixin"];
  },

  get "ScreenSizeMixin"() {
    return __webpack_require__(88)["ScreenSizeMixin"];
  },

  get "CallsMixin"() {
    return __webpack_require__(90)["CallsMixin"];
  },

  get "LoadMixin"() {
    return __webpack_require__(91)["LoadMixin"];
  },

  get "LsiMixin"() {
    return __webpack_require__(92)["LsiMixin"];
  },

  get "SwipeMixin"() {
    return __webpack_require__(94)["SwipeMixin"];
  },

  get "VucMixin"() {
    return __webpack_require__(95)["VucMixin"];
  },

  get "PureRenderMixin"() {
    return __webpack_require__(64)["PureRenderMixin"];
  },

  get "ResizeMixin"() {
    return __webpack_require__(96)["ResizeMixin"];
  },

  get "RouteMixin"() {
    return __webpack_require__(97)["RouteMixin"];
  },

  get "Router"() {
    return __webpack_require__(98)["Router"];
  },

  get "UU5String"() {
    return __webpack_require__(62)["UU5String"];
  },

  get "UU5Data"() {
    return __webpack_require__(62)["UU5Data"];
  },

  get "UU5Json"() {
    return __webpack_require__(62)["UU5Json"];
  },

  get "Url"() {
    return __webpack_require__(23)["Url"];
  },

  get "EventListener"() {
    return __webpack_require__(28)["EventListener"];
  },

  get "TagPlaceholder"() {
    return __webpack_require__(101)["TagPlaceholder"];
  },

  get "Outline"() {
    return __webpack_require__(102)["Outline"];
  },

  get "Help"() {
    return __webpack_require__(105)["Help"];
  },

  get "EditableMixin"() {
    return __webpack_require__(107)["EditableMixin"];
  },

  get "TextCorrector"() {
    return __webpack_require__(110)["TextCorrector"];
  },

  get "Request"() {
    return __webpack_require__(106)["Request"];
  },

  get "FragmentMixin"() {
    return __webpack_require__(111)["FragmentMixin"];
  },

  get "ListDataManager"() {
    return __webpack_require__(112)["ListDataManager"];
  },

  get "DataManager"() {
    return __webpack_require__(113)["DataManager"];
  },

  get "Loader"() {
    return __webpack_require__(114)["Loader"];
  },

  get "PropMapper"() {
    return __webpack_require__(115)["PropMapper"];
  },

  get "SessionContext"() {
    return __webpack_require__(116)["SessionContext"];
  },

  get "Session"() {
    return __webpack_require__(116)["Session"];
  },

  get "Identity"() {
    return __webpack_require__(118)["Identity"];
  },

  get "Redirect"() {
    return __webpack_require__(120)["Redirect"];
  },

  get "Context"() {
    return __webpack_require__(18)["Context"];
  },

  get "TimeZoneContext"() {
    return __webpack_require__(121)["TimeZoneContext"];
  },

  get "UserPreferencesContext"() {
    return __webpack_require__(122)["UserPreferencesContext"];
  },

  get "UserPreferencesProvider"() {
    return __webpack_require__(122)["UserPreferencesProvider"];
  },

  get "Component"() {
    return __webpack_require__(66)["Component"];
  },

  get "DnD"() {
    return __webpack_require__(123)["DnD"];
  },

  get "DOM"() {
    return __webpack_require__(22)["DOM"];
  },

  get "Element"() {
    return __webpack_require__(19)["Element"];
  },

  get "Portal"() {
    return __webpack_require__(124)["Portal"];
  },

  get "Reference"() {
    return __webpack_require__(125)["Reference"];
  },

  get "VisualComponent"() {
    return __webpack_require__(65)["VisualComponent"];
  },

  get "ModalBusContext"() {
    return __webpack_require__(126)["ModalBusContext"];
  },

  get "withVisibilityCheck"() {
    return __webpack_require__(127)["withVisibilityCheck"];
  }

};

/***/ }),
/* 54 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Children", function() { return Children; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Suspense", function() { return UU5Suspense; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bookKitUrl", function() { return bookKitUrl; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
var _excluded = ["loading"];

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var Children = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Content;

var UU5Suspense = function UU5Suspense(_ref) {
  var loading = _ref.loading,
      props = _objectWithoutProperties(_ref, _excluded);

  return UU5.Common.Element.create(uu5g05__WEBPACK_IMPORTED_MODULE_0__["Suspense"], _extends({}, props, {
    fallback: props.fallback || props.loading || ""
  }));
};

UU5Suspense.displayName = "Suspense";

var bookKitUrl = "https://uuos9.plus4u.net/uu-bookkitg01-main/78462435-ed11ec379073476db0aa295ad6c00178/book/page";

/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseMixin", function() { return BaseMixin; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
/* harmony import */ var _utils_style_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(56);
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22);
/* harmony import */ var _internal_ref_usage_telemetry_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(57);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */






var BaseMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.BaseMixin": {
      warnings: {
        colWidthNotUsed: "Property colWidth was not used. Component was not covered itself by column.",
        overflowNotUsed: "Property overflow was not used. Component was not covered itself by flc."
      },
      errors: {
        idMissing: "Id %s was not set.",
        parentMissing: "Parent was not found in props.",
        childrenAreNotIndexedByParent: "Children are not indexed by parent %s.",
        tagIsWrong: "Wrong tag %s - element was not found.",
        notRequiredMixin: "Registered mixin %s needs to require mixin %s in component %s!",
        invalidParentTagName: "Parent %s is not %s.",
        invalidParentType: "Parent %s has not function %s.",
        childTagNotAllowed: 'Child tag %s is by default not allowed here. Use <%s allowTags={["%s"]} ...> if you really want to allow it, or wrap it into %s.',
        childNotAllowed: 'Child "%s" is by default not allowed here. Wrap it into %s.'
      },
      defaults: {
        regexpChars: /([ '"{}])/g
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    id: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    name: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    tooltip: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object, uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
    // can't be content because html attribute title supports only string
    className: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    style: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object, uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string]),
    mainAttrs: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    parent: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    ref_: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      current: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].any
    })]),
    noIndex: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    editable: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    contentEditable: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      id: null,
      name: null,
      tooltip: null,
      className: null,
      style: null,
      mainAttrs: null,
      parent: null,
      ref_: null,
      noIndex: false
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this._isMounted = true;
    this.registerMixin("UU5.Common.BaseMixin");
    this.id = this.props.id === null ? _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].generateUUID() : this.props.id; // state

    return null;
  },
  componentDidMount: function componentDidMount() {
    if ((typeof this.props.ref_ === "function" || _typeof(this.props.ref_) === "object" && this.props.ref_ !== null) && (!this.constructor.opt || !this.constructor.opt.hoc)) {
      // RefUsageTelemetry.process(this.getTagName());
      if ("current" in this.props.ref_) {
        this.props.ref_.current = this;
      } else {
        this.props.ref_(this);
      }
    }
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    // set id only if it was set in nextProps
    if (nextProps.id !== undefined && nextProps.id !== null && nextProps.id !== this.getId()) {
      var parent = this.getParent(); // if parent support rendered children register - methods unregisterRenderedChild, registerRenderedChild

      if (parent && parent.unregisterRenderedChild) {
        var index = this.getIndex();
        parent.unregisterRenderedChild(this);
        this.id = nextProps.id;
        if (index != null && parent.registerRenderedChild) parent.registerRenderedChild(this, index);
      } else {
        this.id = nextProps.id;
      }
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    // if parent support rendered children register - unregisterRenderedChild
    var parent = this.getParent();
    parent && parent.unregisterRenderedChild && parent.unregisterRenderedChild(this);
    this._isMounted = false;
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonBaseMixin: function hasUU5CommonBaseMixin() {
    return this.hasMixin("UU5.Common.BaseMixin");
  },
  getTagName: function getTagName() {
    return this.constructor.tagName || "unknownTagName";
  },
  getMixinRegister: function getMixinRegister() {
    return this.mixinRegister = this.mixinRegister || [];
  },
  registerMixin: function registerMixin(mixinName) {
    this.getMixinRegister().push(mixinName);
    var component = this;
    var requiredMixins = this.constructor[mixinName].requiredMixins;

    if (requiredMixins && requiredMixins.length) {
      requiredMixins.forEach(function (mixin) {
        if (!component.hasMixin(mixin)) {
          component.showError("notRequiredMixin", [mixinName, mixin, component.getTagName()], {
            mixinName: "UU5.Common.BaseMixin",
            context: {
              requiredMixins: requiredMixins
            }
          });
        }
      });
    }

    return this;
  },
  hasMixin: function hasMixin(mixinName) {
    return this.getMixinRegister().indexOf(mixinName) !== -1;
  },
  getClassName: function getClassName(item, mixinName) {
    var classNames = mixinName ? this.constructor[mixinName] ? this.constructor[mixinName].classNames : null : this.constructor.classNames; // var resultValue = classNames && item ? classNames[item] || (classNames['main'] && classNames['main'] + '-' + Tools.getDashCase(item)) : null;

    var resultValue = classNames && item ? classNames[item] : null;

    if (typeof this[resultValue] === "function") {
      resultValue = this[resultValue](this.props, this.state);
    } else if (typeof resultValue === "function") {
      resultValue = resultValue(this.props, this.state);
    }

    return classNames && item ? resultValue : classNames;
  },
  getDefault: function getDefault(item, mixinName) {
    var defaults = mixinName ? this.constructor[mixinName] ? this.constructor[mixinName].defaults : null : this.constructor.defaults;
    return defaults && item ? defaults[item] : defaults;
  },
  getOpt: function getOpt(item, mixinName) {
    var opt = mixinName ? this.constructor[mixinName] ? this.constructor[mixinName].opt : null : this.constructor.opt;
    return opt && item ? opt[item] : opt;
  },
  getLsi: function getLsi(item, mixinName) {
    var lsi;

    if (mixinName) {
      lsi = this.constructor[mixinName] ? this.constructor[mixinName].lsi : null;
      typeof lsi === "function" && (lsi = lsi());
    } else {
      lsi = typeof this.constructor.lsi === "function" ? this.constructor.lsi() : this.constructor.lsi;
    }

    return lsi && item ? lsi[item] : lsi;
  },
  // TODO: deprecated
  getLSI: function getLSI(item, mixinName) {
    _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].warning("Method this.getLSI is deprecated. Use this.getLsi instead.");
    return this.getLsi(item, mixinName);
  },
  getLsiComponent: function getLsiComponent(item, mixin, params) {
    return _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].findComponent("UU5.Bricks.Lsi", {
      lsi: this.getLsi(item, mixin),
      params: params
    });
  },
  // TODO: deprecated
  getLSIComponent: function getLSIComponent(item, mixin, params) {
    _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].warning("Method this.getLSIComponent is deprecated. Use this.getLsiComponent instead.");
    return this.getLsiComponent(item, mixin, params);
  },
  getLsiValue: function getLsiValue(item, mixin, params) {
    return _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLsiItemByLanguage(this.getLsi(item, mixin), params, this.__getContextLanguages());
  },
  // TODO: deprecated
  getLSIValue: function getLSIValue(item, mixin, params) {
    _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].warning("Method this.getLSIValue is deprecated. Use this.getLsiValue instead.");
    return this.getLsiValue(item, mixin, params);
  },
  getLsiItem: function getLsiItem(value, params) {
    return _typeof(value) === "object" ? _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLsiItemByLanguage(value, params, this.__getContextLanguages()) : value;
  },
  // TODO: deprecated
  getLSIItem: function getLSIItem(value, params) {
    _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].warning("Method this.getLSIItem is deprecated. Use this.getLsiItem instead.");
    return this.getLsiItem(value, params);
  },
  isRendered: function isRendered() {
    return this._isMounted;
  },
  setAsyncState: function setAsyncState(newState, setStateCallback) {
    if (this.isRendered()) {
      this.setState(newState, setStateCallback);
    }

    return this;
  },
  getLimit: function getLimit(item, mixinName) {
    var limits = mixinName ? _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].limits[mixinName] : this.constructor[mixinName] ? this.constructor[mixinName].limits : this.constructor.limits;
    return limits && item ? limits[item] : limits;
  },
  getError: function getError(item, mixinName) {
    var errors = mixinName ? this.constructor[mixinName] ? this.constructor[mixinName].errors || {} : {} : this.constructor.errors || {};
    return item ? errors[item] || item : errors;
  },
  getWarning: function getWarning(item, mixinName) {
    var warnings = mixinName ? this.constructor[mixinName] ? this.constructor[mixinName].warnings || {} : {} : this.constructor.warnings || {};
    return item ? warnings[item] || item : warnings;
  },
  getCallName: function getCallName(item, mixinName) {
    var calls = mixinName ? this.constructor[mixinName] ? this.constructor[mixinName].calls || {} : {} : this.constructor.calls || {};
    return item ? calls[item] || null : calls;
  },
  getId: function getId() {
    var id = this.id;
    id === null && this.showError("idMissing", id, {
      mixinName: "UU5.Common.BaseMixin"
    });
    return id;
  },
  getName: function getName() {
    return this.props.name;
  },
  getTooltip: function getTooltip() {
    var tooltip;

    if (typeof this.props.tooltip === "string") {
      tooltip = this.props.tooltip;
    } else if (_typeof(this.props.tooltip) === "object") {
      tooltip = this.getLsiItem(this.props.tooltip);
    }

    return tooltip;
  },
  getProps: function getProps(prop) {
    UU5.Common.Tools.warning('Interface "getProps" is deprecated!');
    return this.props ? prop ? this.props[prop] : this.props : null;
  },
  getUU5CommonBaseMixinProps: function getUU5CommonBaseMixinProps() {
    return {
      id: this.getId(),
      name: this.getName(),
      tooltip: this.getTooltip(),
      className: this.props.className,
      style: this.props.style,
      mainAttrs: this.props.mainAttrs,
      parent: this.getParent()
    };
  },
  getUU5CommonBaseMixinPropsToPass: function getUU5CommonBaseMixinPropsToPass(suffix) {
    suffix = suffix || "inner";
    var style = typeof this.props.style === "string" ? this.__styleStringToObject(this.props.style) : this.props.style;
    var props = {
      id: this.getId() + "-" + suffix,
      name: this.getName() ? this.getName() + "-" + suffix : null,
      tooltip: this.getTooltip(),
      className: this.getFullClassName(),
      style: style && this.props.mainAttrs && this.props.mainAttrs.style ? _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].mergeDeep(this.props.mainAttrs.style, style) : style,
      parent: this
    };
    var mainAttrs = this.props.mainAttrs || {};
    var extend = true;

    if (mainAttrs && mainAttrs.className) {
      extend && (mainAttrs = _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].mergeDeep({}, mainAttrs)) && (extend = false);
      delete mainAttrs.className;
    }

    if (mainAttrs && mainAttrs.style) {
      extend && (mainAttrs = _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].mergeDeep({}, mainAttrs)) && (extend = false);
      delete mainAttrs.style;
    }

    if (this.getTooltip()) {
      extend && (mainAttrs = _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].mergeDeep({}, mainAttrs));
      mainAttrs.title = this.getTooltip() || mainAttrs.title;
    }

    props.mainAttrs = mainAttrs;
    return props;
  },
  // mixinNames = mixins to choose from
  getMainPropsToPass: function getMainPropsToPass(mixinNames) {
    var params = [{}];
    var component = this;
    mixinNames = mixinNames || this.getMixinRegister();
    mixinNames.forEach(function (mixinName) {
      var propsToPassFunction = component["get" + mixinName.replace(/\./g, "") + "PropsToPass"];
      typeof propsToPassFunction === "function" && params.push(propsToPassFunction());
    });
    return _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].mergeDeep.apply(null, params);
  },
  getMainAttrs: function getMainAttrs() {
    var newMainAttrs = _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].mergeDeep({}, this.getUU5CommonBaseMixinProps().mainAttrs, {
      className: this.getFullClassName()
    });
    if (this.getTooltip()) newMainAttrs.title = this.getTooltip();

    if (this.props.style) {
      var style = typeof this.props.style === "string" ? this.__styleStringToObject(this.props.style) : this.props.style;
      newMainAttrs.style = _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].mergeDeep({}, newMainAttrs.style, style);
    }

    if (this.props.id) newMainAttrs.id = this.props.id;
    if (this.getName()) newMainAttrs.name = this.getName();
    if (this.buildMainAttrs) newMainAttrs = this.buildMainAttrs(newMainAttrs);
    if (newMainAttrs) delete newMainAttrs.dangerouslySetInnerHTML;
    return newMainAttrs;
  },
  getParent: function getParent() {
    return this.props.parent;
  },
  getParentByType: function getParentByType(typeFunction) {
    var parent = this.getParent && this.getParent();

    while (parent && (typeof parent[typeFunction] !== "function" || !parent[typeFunction]())) {
      parent = parent.getParent && parent.getParent();
    }

    return parent;
  },
  checkParentTagName: function checkParentTagName(parentTagNames) {
    parentTagNames = Array.isArray(parentTagNames) ? parentTagNames : [parentTagNames];
    var parent = this.getParent();
    var currentParentTagName = parent && parent.getTagName();
    var result = !currentParentTagName || parentTagNames.indexOf(currentParentTagName) == -1;

    if (result) {
      this.showError("invalidParentTagName", [currentParentTagName, parentTagNames.join(" or ")], {
        mixinName: "UU5.Common.BaseMixin"
      });
    }

    return result;
  },
  checkParentType: function checkParentType(typeFunction) {
    var parent = this.getParent();
    var parentTypeFunction = parent && parent[typeFunction];
    var result = parentTypeFunction !== "function" || !parentTypeFunction();

    if (result) {
      this.showError("invalidParentType", [parent ? parent.getTagName() : null, typeFunction], {
        mixinName: "UU5.Common.BaseMixin"
      });
    }

    return result;
  },
  getIndex: function getIndex() {
    var parent = this.getParent();
    var index = null; // parent should support children index - method getChildIndexById

    if (parent && parent.getChildIndexById) {
      index = parent.getChildIndexById(this.getId());
    } else {
      this.showError("childrenAreNotIndexedByParent", parent ? parent.getTagName() : null, {
        mixinName: "UU5.Common.BaseMixin",
        context: {
          parent: parent
        }
      });
    }

    return index;
  },
  // Component helpers for React
  getFullClassName: function getFullClassName(className) {
    var component = this;
    var myClassName = className || "main";
    var classArray = [];
    var classes = {
      main: this.getClassName(myClassName),
      props: this.props.className,
      mainAttrs: this.props.mainAttrs && this.props.mainAttrs.className
    };

    if (this.props.noIndex && !this.getOpt("hoc")) {
      classes.main += " uu5-noindex";
    }

    this.getMixinRegister().forEach(function (v) {
      var mixinClassName = v + "_" + myClassName;
      classes[mixinClassName] = component.getClassName(myClassName, v);
      classArray.push(mixinClassName);
    });
    classArray.push(myClassName);
    classArray.push("props");
    classArray.push("mainAttrs");
    return _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].buildClasses(classes, classArray);
  },
  stringToObjectType: function stringToObjectType(string, type, prefix) {
    var calculated = prefix || window;

    if (typeof string === "string") {
      var sArray = string.split(".");

      while (calculated && sArray.length > 0) {
        calculated = calculated[sArray.shift()];
      }
    }

    if (_typeof(calculated) !== type) {
      this.showError("tagIsWrong", string, {
        mixinName: "UU5.Common.BaseMixin",
        context: {
          notFoundObject: calculated,
          notFoundObjectType: _typeof(calculated),
          checkedType: type,
          prefix: prefix
        }
      });
      calculated = null;
    }

    return calculated;
  },
  switchChildrenToBody: function switchChildrenToBody(props) {
    var newProps = _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].mergeDeep({}, props || this.props);
    var children = newProps.children;
    newProps.children = null;
    newProps.body = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Content.map(children, _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].childToBodyItem());
    return newProps;
  },
  findDOMNode:  false ? undefined : function () {
    return _dom__WEBPACK_IMPORTED_MODULE_4__["default"].findNode(this);
  },
  exportToObject: function exportToObject() {
    return {
      tag: this.getTagName(),
      props: _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].mergeDeep({}, this.props),
      state: _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].mergeDeep({}, this.state)
    };
  },
  // msgParams could be array of params or just one param
  showError: function showError(msgKey, msgParams, opt) {
    opt = opt || {};
    var msg = this.getError(msgKey, opt.mixinName);
    _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].error.apply(null, this.__getLogParams(msg, msgParams, opt.context));
    return this;
  },
  // msgParams could be array of params or just one param
  showWarning: function showWarning(msgKey, msgParams, opt) {
    opt = opt || {};
    var msg = this.getWarning(msgKey, opt.mixinName);
    _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].warning.apply(null, this.__getLogParams(msg, msgParams, opt.context));
    return this;
  },
  replaceByHardSpace: function replaceByHardSpace(text, language) {
    var replacer = language ? _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].hardSpace.lsiReplacer[language] : null;
    replacer = replacer || _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLsiItemByLanguage(_environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].hardSpace.lsiReplacer);
    return replacer ? replacer(text) : text;
  },
  shouldRender: function shouldRender(nextProps, nextState, thisProps, thisState) {
    var props = thisProps || this.props;
    var state = thisState || this.state;
    var oldProps = _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].merge({}, props);
    var newProps = _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].merge({}, nextProps);
    return !_tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].deepEqual(oldProps, newProps) || !_tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].deepEqual(state, nextState);
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  __getLogParams: function __getLogParams(msg, msgParams, context) {
    var title = this.getTagName() + " [" + this.getId() + "]: ";
    var msgWithParams = msg ? _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].formatString(msg, msgParams) : msgParams || null;
    context = context || {};
    context.thisTagName = this.getTagName();
    context.this = this;
    context.thisProps = this.props;
    context.thisState = this.state;
    return [title + msgWithParams, context, this.constructor.logger];
  },
  __styleStringToObject: function __styleStringToObject(style) {
    if (typeof style !== "string") return;
    return _utils_style_js__WEBPACK_IMPORTED_MODULE_3__["default"].parse(style);
  },
  __getContextLanguages: function __getContextLanguages() {
    if (this.state && this.state.language) {
      var langParts = this.state.language.split("-");
      var language = [{
        language: langParts[0],
        location: langParts[1] ? this.state.language : null,
        q: 1
      }];
      return language;
    }
  } //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (BaseMixin);

/***/ }),
/* 56 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Style", function() { return Style; });
/* harmony import */ var _common_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(16);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }


var Style = /*#__PURE__*/function () {
  function Style() {
    _classCallCheck(this, Style);
  }

  _createClass(Style, null, [{
    key: "parse",
    value: function parse(styleString) {
      var obj = {};
      var properties = styleString.split(";");
      properties.forEach(function (item) {
        var keysAndValues = item.split(":");

        if (keysAndValues.length > 1) {
          obj[_common_tools__WEBPACK_IMPORTED_MODULE_0__["default"].getCamelCase(keysAndValues[0].trim(), true)] = keysAndValues[1].trim();
        }
      });
      return obj;
    }
  }, {
    key: "joinClassName",
    value: function joinClassName() {
      for (var _len = arguments.length, classNames = new Array(_len), _key = 0; _key < _len; _key++) {
        classNames[_key] = arguments[_key];
      }

      return classNames.filter(function (v) {
        return v;
      }).join(" ");
    }
  }]);

  return Style;
}();
/* harmony default export */ __webpack_exports__["default"] = (Style);

/***/ }),
/* 57 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RefUsageTelemetry", function() { return RefUsageTelemetry; });
/* harmony import */ var _environment_environment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(11);
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var APP_LIBRARY_REGISTRY_TELEMETRY_URI = "https://uuapp.plus4u.net/uu-applibraryregistry-statsg01/8fc27ec054b340cb98c9f10789bd4f63/sys/logTelemetryData";
var processedItems = new Set();
var pendingItems = new Set();
var pendingRafId;
var telemetryInstance;
var RefUsageTelemetry = {
  process: function (_process) {
    function process(_x) {
      return _process.apply(this, arguments);
    }

    process.toString = function () {
      return _process.toString();
    };

    return process;
  }(function (tagName) {
    if (true) return;
    if (!tagName || processedItems.has(tagName)) return;
    pendingItems.add(tagName);

    if (!pendingRafId) {
      pendingRafId = requestAnimationFrame(function () {
        var _window$Plus4U, _window$Plus4U$Teleme, _window$Plus4U$Teleme2;

        pendingRafId = null; // check that Plus4U5.Telemetry is available and that it has sufficient API (>4.7.0)

        if ((_window$Plus4U = window.Plus4U5) !== null && _window$Plus4U !== void 0 && (_window$Plus4U$Teleme = _window$Plus4U.Telemetry) !== null && _window$Plus4U$Teleme !== void 0 && (_window$Plus4U$Teleme2 = _window$Plus4U$Teleme.prototype) !== null && _window$Plus4U$Teleme2 !== void 0 && _window$Plus4U$Teleme2.info) {
          var tagNames = _toConsumableArray(pendingItems).sort();

          if (tagNames.length > 0) {
            var _iterator = _createForOfIteratorHelper(pendingItems),
                _step;

            try {
              for (_iterator.s(); !(_step = _iterator.n()).done;) {
                var item = _step.value;
                processedItems.add(item);
              }
            } catch (err) {
              _iterator.e(err);
            } finally {
              _iterator.f();
            }

            pendingItems.clear();

            if (!telemetryInstance) {
              telemetryInstance = new window.Plus4U5.Telemetry({
                uri: APP_LIBRARY_REGISTRY_TELEMETRY_URI,
                includeLibraries: false,
                forceEnableTelemetry: true
              });
            }

            telemetryInstance.info("uu5g04RefUsage", {
              tagNames: tagNames
            });
          }
        }
      });
    }
  })
};
/* harmony default export */ __webpack_exports__["default"] = (RefUsageTelemetry);

/***/ }),
/* 58 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Div", function() { return Div; });
/* harmony import */ var _common_ns_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(59);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(55);
/* harmony import */ var _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60);
/* harmony import */ var _content_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(61);
/* harmony import */ var _nesting_level_mixin_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(48);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(11);
/* harmony import */ var _pure_render_mixin__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(64);
/* harmony import */ var _visual_component_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(65);
/* harmony import */ var _element_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(19);
/* harmony import */ var _div_less__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(72);
/* harmony import */ var _div_less__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_div_less__WEBPACK_IMPORTED_MODULE_9__);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports









 //@@viewOff:imports

var Div = _visual_component_js__WEBPACK_IMPORTED_MODULE_7__["default"].create({
  displayName: "Div",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_1__["default"], _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_2__["default"], _content_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"], _nesting_level_mixin_js__WEBPACK_IMPORTED_MODULE_4__["default"], _pure_render_mixin__WEBPACK_IMPORTED_MODULE_6__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _common_ns_js__WEBPACK_IMPORTED_MODULE_0__["default"].name("Div"),
    classNames: {
      main: _common_ns_js__WEBPACK_IMPORTED_MODULE_0__["default"].css("div")
    },
    nestingLevelList: _environment_environment_js__WEBPACK_IMPORTED_MODULE_5__["default"].getNestingLevelList("bigBoxCollection", "smallBox")
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    return this.getNestingLevel() ? _element_js__WEBPACK_IMPORTED_MODULE_8__["default"].create("div", this.getMainAttrs(), this.getChildren(), this.getDisabledCover()) : _element_js__WEBPACK_IMPORTED_MODULE_8__["default"].create("span", this.getMainAttrs(), this.getChildren(), this.getDisabledCover());
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (Div);

/***/ }),
/* 59 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
var ns = {
  NAME: "UU5.Common",
  CSS: "uu5-common",
  name: function name(_name) {
    return ns.NAME + "." + _name;
  },
  css: function css() {
    return Array.prototype.slice.call(arguments).map(function (name) {
      return ns.CSS + "-" + name;
    }).join(" ");
  }
};
/* harmony default export */ __webpack_exports__["default"] = (ns);

/***/ }),
/* 60 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ElementaryMixin", function() { return ElementaryMixin; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_ns_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _element_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(19);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */




var ElementaryMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.ElementaryMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      classNames: {
        hidden: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("hidden"),
        selected: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("selected"),
        disabled: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("disabled"),
        disabledCover: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("disabled-cover"),
        disabledCoverTransparent: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("disabled-cover-transparent")
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    hidden: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    disabled: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    selected: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    controlled: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      hidden: false,
      disabled: false,
      selected: false,
      controlled: true
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.ElementaryMixin"); // state

    return {
      hidden: this.props.hidden,
      disabled: this.props.disabled,
      selected: this.props.selected
    };
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    if (nextProps.controlled) {
      this.setState({
        hidden: nextProps.hidden,
        disabled: nextProps.disabled,
        selected: nextProps.selected
      });
    }
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonElementaryMixin: function hasUU5CommonElementaryMixin() {
    return this.hasMixin("UU5.Common.ElementaryMixin");
  },
  getUU5CommonElementaryMixinProps: function getUU5CommonElementaryMixinProps() {
    return {
      hidden: this.isHidden(),
      disabled: this.isDisabled(),
      selected: this.isSelected()
    };
  },
  getUU5CommonElementaryMixinPropsToPass: function getUU5CommonElementaryMixinPropsToPass() {
    return {
      hidden: this.isHidden(),
      disabled: this.isDisabled(),
      selected: this.isSelected(),
      controlled: true
    };
  },
  setHiddenValue: function setHiddenValue(value, setStateCallback) {
    if (typeof this.setHiddenValue_ === "function") {
      this.setHiddenValue_(value, setStateCallback);
    } else {
      this.setHiddenValueDefault(value, setStateCallback);
    }

    return this;
  },
  setHiddenValueDefault: function setHiddenValueDefault(value, setStateCallback) {
    this.setState({
      hidden: value
    }, setStateCallback);
  },
  hide: function hide(setStateCallback) {
    if (typeof this.hide_ === "function") {
      this.hide_(setStateCallback);
    } else {
      this.hideDefault(setStateCallback);
    }

    return this;
  },
  hideDefault: function hideDefault(setStateCallback) {
    this.setHiddenValue(true, setStateCallback);
  },
  show: function show(setStateCallback) {
    if (typeof this.show_ === "function") {
      this.show_(setStateCallback);
    } else {
      this.showDefault(setStateCallback);
    }

    return this;
  },
  showDefault: function showDefault(setStateCallback) {
    this.setHiddenValue(false, setStateCallback);
    return this;
  },
  isHidden: function isHidden() {
    return this.state.hidden;
  },
  toggleHidden: function toggleHidden(setStateCallback) {
    if (typeof this.toggleHidden_ === "function") {
      this.toggleHidden_(setStateCallback);
    } else {
      this.toggleHiddenDefault(setStateCallback);
    }

    return this;
  },
  toggleHiddenDefault: function toggleHiddenDefault(setStateCallback) {
    this.setState(function (state) {
      return {
        hidden: !state.hidden
      };
    }, setStateCallback);
  },
  setDisabledValue: function setDisabledValue(value, setStateCallback) {
    if (typeof this.setDisabledValue_ === "function") {
      this.setDisabledValue_(value, setStateCallback);
    } else {
      this.setDisabledValueDefault(value, setStateCallback);
    }

    return this;
  },
  setDisabledValueDefault: function setDisabledValueDefault(value, setStateCallback) {
    this.setState({
      disabled: value
    }, setStateCallback);
  },
  disable: function disable(setStateCallback) {
    if (typeof this.disable_ === "function") {
      this.disable_(setStateCallback);
    } else {
      this.disableDefault(setStateCallback);
    }

    return this;
  },
  disableDefault: function disableDefault(setStateCallback) {
    this.setDisabledValue(true, setStateCallback);
    return this;
  },
  enable: function enable(setStateCallback) {
    if (typeof this.enable_ === "function") {
      this.enable_(setStateCallback);
    } else {
      this.enableDefault(setStateCallback);
    }

    return this;
  },
  enableDefault: function enableDefault(setStateCallback) {
    this.setDisabledValue(false, setStateCallback);
    return this;
  },
  isDisabled: function isDisabled() {
    return this.state.disabled;
  },
  toggleDisabled: function toggleDisabled(setStateCallback) {
    if (typeof this.toggleDisabled_ === "function") {
      this.toggleDisabled_(setStateCallback);
    } else {
      this.toggleDisabledDefault(setStateCallback);
    }

    return this;
  },
  toggleDisabledDefault: function toggleDisabledDefault(setStateCallback) {
    this.setState(function (state) {
      return {
        disabled: !state.disabled
      };
    }, setStateCallback);
    return this;
  },
  setSelectedValue: function setSelectedValue(value, setStateCallback) {
    this.setState({
      selected: value
    }, setStateCallback);
    return this;
  },
  select: function select(setStateCallback) {
    if (typeof this.select_ === "function") {
      this.select_(setStateCallback);
    } else {
      this.selectDefault(setStateCallback);
    }

    return this;
  },
  selectDefault: function selectDefault(setStateCallback) {
    this.setSelectedValue(true, setStateCallback);
    return this;
  },
  deselect: function deselect(setStateCallback) {
    if (typeof this.deselect_ === "function") {
      this.deselect_(setStateCallback);
    } else {
      this.deselectDefault(setStateCallback);
    }

    return this;
  },
  deselectDefault: function deselectDefault(setStateCallback) {
    this.setSelectedValue(false, setStateCallback);
    return this;
  },
  isSelected: function isSelected() {
    return this.state.selected;
  },
  toggleSelected: function toggleSelected(setStateCallback) {
    if (typeof this.toggleSelected_ === "function") {
      this.toggleSelected_(setStateCallback);
    } else {
      this.toggleSelectedDefault(setStateCallback);
    }

    return this;
  },
  toggleSelectedDefault: function toggleSelectedDefault(setStateCallback) {
    this.setState(function (state) {
      return {
        selected: !state.selected
      };
    }, setStateCallback);
    return this;
  },
  buildMainAttrs: function buildMainAttrs(mainAttrs) {
    var newMainAttrs = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].mergeDeep({}, mainAttrs || this.getUU5CommonBaseMixinProps && this.getUU5CommonBaseMixinProps().mainAttrs, {
      title: this.getTooltip(),
      className: this.getFullClassName()
    });
    newMainAttrs.className = this.getHiddenClassName(newMainAttrs.className);
    newMainAttrs.className = this.getDisabledClassName(newMainAttrs.className);
    newMainAttrs.className = this.getSelectedClassName(newMainAttrs.className);
    var style = typeof this.props.style === "string" ? this.__styleStringToObject(this.props.style) : this.props.style;
    newMainAttrs.style = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].mergeDeep({}, newMainAttrs.style, style);
    return newMainAttrs;
  },
  getHiddenClassName: function getHiddenClassName(className) {
    var hiddenClassName = "";

    if (this.isHidden()) {
      hiddenClassName = this.getClassName("hidden") || this.getClassName(null, "UU5.Common.ElementaryMixin").hidden;
    }

    return className ? (className + " " + hiddenClassName).trim() : hiddenClassName;
  },
  getDisabledClassName: function getDisabledClassName(className) {
    var disabledClassName = "";

    if (this.isDisabled()) {
      disabledClassName = this.getClassName("disabled") || this.getClassName(null, "UU5.Common.ElementaryMixin").disabled;
    }

    return className ? (className + " " + disabledClassName).trim() : disabledClassName;
  },
  getSelectedClassName: function getSelectedClassName(className) {
    var selectedClassName = "";

    if (this.isSelected()) {
      selectedClassName = this.getClassName("selected") || this.getClassName(null, "UU5.Common.ElementaryMixin").selected;
    }

    return className ? (className + " " + selectedClassName).trim() : selectedClassName;
  },
  getDisabledCover: function getDisabledCover() {
    var className = this.getClassName("disabledCover") || this.getClassName(null, "UU5.Common.ElementaryMixin").disabledCover;
    return this.isDisabled() ? _element_js__WEBPACK_IMPORTED_MODULE_3__["default"].create("span", {
      className: className,
      key: "disabledCover"
    }) : null;
  },
  getDisabledCoverTransparent: function getDisabledCoverTransparent() {
    var className = this.getClassName("disabledCoverTransparent") || this.getClassName(null, "UU5.Common.ElementaryMixin").disabledCoverTransparent;
    return this.isDisabled() ? _element_js__WEBPACK_IMPORTED_MODULE_3__["default"].create("span", {
      className: className,
      key: "disabledCoverTransparent"
    }) : null;
  } //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (ElementaryMixin);

/***/ }),
/* 61 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContentMixin", function() { return ContentMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11);
/* harmony import */ var _uu5string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(62);
/* harmony import */ var _text_corrector_context_consumer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(63);
/* harmony import */ var _element_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(19);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */








var PseudoUU5Component = function PseudoUU5Component() {
  return null;
};

PseudoUU5Component.isUu5PureComponent = true;
PseudoUU5Component.isStateless = true;

function deepFlattenList(list) {
  var result = [];

  var _iterator = _createForOfIteratorHelper(list),
      _step;

  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var value = _step.value;
      if (Array.isArray(value)) result = result.concat(deepFlattenList(value));else result.push(value);
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }

  return result;
}

var ContentMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.ContentMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      defaults: {
        standardMode: "standard",
        outlineMode: "outline",
        regexpUu5: /^\s*<(uu5json|uu5string|uu5data)\s*\/>/
      },
      errors: {
        unexpectedContentType: 'Type "%s" of content property is unexpected.',
        dynamicOnly: "Method %s can be used just for dynamic content.",
        insertedchildIdNotExists: "Child with ID %s does not exist.",
        childIdNotExists: "Child with ID %s does not exist.",
        indexNotSet: "In this case index has to be specified.",
        addRenderedChildToIdList_IdDuplicity: "There is duplicity ID %s in adding rendered child to the list of children by ID.",
        addRenderedChildToNameList_IdDuplicity: "There is Name duplicity in adding rendered child to the list children by Name."
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    content: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([// content array:[bodyItem, items, node, number, bool, string]
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].array, // content bodyItem:{tag:'',props{}}
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      tag: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func]),
      props: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].arrayOf(uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object)
    }), // content items:{tag:'',propsArray:[{},{},{},...]}
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      tag: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func]),
      propsArray: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].arrayOf(uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object)
    }), // content node
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].node, // number
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].number, // bool
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool]),
    ignoreInnerHTML: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    checkSpaces: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    checkGrammar: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    checkHighlight: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    textCorrector: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    dynamic: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      content: null,
      ignoreInnerHTML: false,
      checkSpaces: undefined,
      checkGrammar: undefined,
      checkHighlight: undefined,
      textCorrector: undefined,
      dynamic: false
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.ContentMixin");
    this.renderedChildren = []; // [renderedChild,renderedChild,...]

    this.renderedChildrenIdList = {}; // {id:renderedChild,id:renderedChild,...}

    this.renderedChildrenNameList = {}; // {name:renderedChild,name:renderedChild,...}
    // state

    var state = {
      mode: this.props.mode || this.getDefault("standardMode")
    };

    if (this.isDynamic()) {
      state.children = this.buildChildren(this.props);
      state.filter = null;
      state.filteredProps = null;
      state.sorter = null;
      state.sortedIds = null;
    }

    return state;
  },
  UNSAFE_componentWillMount: function UNSAFE_componentWillMount() {
    if (this.props.mode) {
      this.showWarning('The property "mode" is deprecated!');
    }
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    if (nextProps.controlled) {
      nextProps.dynamic && this.setChildren(this.buildChildren(nextProps), nextProps);

      if (nextProps.mode !== this.props.mode) {
        this.showWarning('The property "mode" is deprecated!');
        this.setState({
          mode: nextProps.mode
        });
      }
    }
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonContentMixin: function hasUU5CommonContentMixin() {
    return this.hasMixin("UU5.Common.ContentMixin");
  },
  isDynamic: function isDynamic() {
    return this.props.dynamic;
  },
  getContent: function getContent() {
    return this.props.content;
  },
  getUU5CommonContentMixinProps: function getUU5CommonContentMixinProps() {
    return {
      content: this.getContent(),
      dynamic: this.isDynamic(),
      ignoreInnerHTML: this.props.ignoreInnerHTML,
      textCorrector: this.props.textCorrector,
      checkSpaces: this.props.checkSpaces,
      checkGrammar: this.props.checkGrammar,
      checkHighlight: this.props.checkHighlight,
      mode: this.props.mode
    };
  },
  getUU5CommonContentMixinPropsToPass: function getUU5CommonContentMixinPropsToPass() {
    return this.getUU5CommonContentMixinProps();
  },
  expandChildProps: function expandChildProps(prevChild, childIndex) {
    var newChildProps = _objectSpread({}, prevChild.props); // key is id if id is set, or it is childIndex
    // Key can not be generated because of in each render the child has new key and child is unmounted and mounted again


    var key = newChildProps.id || "uu5-content-" + childIndex;
    var isUU5Child = typeof prevChild.type === "function" && prevChild.type.tagName || prevChild.type && prevChild.type.isUu5PureComponent;
    var isStateless = prevChild.type && prevChild.type.isStateless;

    if (isUU5Child) {
      newChildProps.parent = newChildProps.parent || this; //newChildProps.parent = this;

      this.isDynamic() && (newChildProps.id = newChildProps.id || _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].generateUUID());

      if (typeof this.expandChildProps_ === "function") {
        var tempChild = _element_js__WEBPACK_IMPORTED_MODULE_6__["default"].clone(prevChild, newChildProps);
        newChildProps = this.expandChildProps_(tempChild, childIndex);
      }
    }

    if (!prevChild.key) newChildProps.key = newChildProps.key || key;

    if (isUU5Child && !isStateless) {
      newChildProps.ref = function (renderedChild) {
        if (renderedChild) {
          var index = childIndex; // childIndex might be "old" if component is dynamic and multiple new children were added via API

          if (newChildProps.id && this.isDynamic() && this.state.children) {
            if (Array.isArray(this.state.children)) {
              index = this.state.children.map(function (child) {
                return child.props.id;
              }).indexOf(newChildProps.id);
            } else {
              index = 0;
            }
          }

          this.registerRenderedChild(renderedChild, index);
        }
      }.bind(this);
    }

    return newChildProps;
  },
  buildChild: function buildChild(childTag, childProps, children) {
    if (childProps && childProps.href && childProps.href.match(/^javascript:/i)) {
      childProps = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].merge({}, childProps);
      childProps.href = childProps.href.replace(_tools_js__WEBPACK_IMPORTED_MODULE_2__["REGEXP"].jsCode, "");
    }

    return _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].findComponent(childTag, childProps, children);
  },
  cloneChild: function cloneChild(child, props) {
    var clonedChild;

    if (typeof this.expandChild_ === "function") {
      clonedChild = this.expandChild_(_element_js__WEBPACK_IMPORTED_MODULE_6__["default"].clone(child, props), props.key);
    } else {
      clonedChild = this.expandChildDefault(_element_js__WEBPACK_IMPORTED_MODULE_6__["default"].clone(child, props), props.key);
    }

    return clonedChild;
  },
  expandChildDefault: function expandChildDefault(child, key) {
    return child;
  },
  buildNodeChildren: function buildNodeChildren(children, childPropsExpander) {
    var _this = this;

    var newChildren = []; // NOTE Cannot use React.Children.forEach as it skips items of type "function"
    // which can now be present due to uustring parsing (child tags are FAACs).

    var list = Array.isArray(children) ? children : [children];
    var flatList = deepFlattenList(list);
    flatList.forEach(function (child, i) {
      if (child !== undefined && child !== null && typeof child !== "boolean") {
        var propsExpanded = false;

        if (typeof child === "function") {
          var extraProps = childPropsExpander(UU5.Common.Element.create(PseudoUU5Component, null), i);
          child = child(extraProps);
          propsExpanded = true;
        }

        if (_this.shouldChildRender(child)) {
          var newChild;

          if (_typeof(child) === "object") {
            if (!propsExpanded) {
              var newChildProps = childPropsExpander(child, i);
              newChild = _this.cloneChild(child, newChildProps);
            } else {
              newChild = child;
            } // text

          } else {
            // it does not need to cover just spaces by textCorrector
            if (!_this.__isTextCorrector(child)) {
              newChild = child;

              if (_this.expandChild_) {
                newChild = _this.expandChild_(newChild, i);
              }
            } else {
              var props = _objectSpread(_objectSpread({
                text: child
              }, _this.__getTextCorrectorProps()), {}, {
                key: i
              });

              newChild = _this.cloneChild(UU5.Common.Element.create(_text_corrector_context_consumer_js__WEBPACK_IMPORTED_MODULE_5__["TextCorrectorContextConsumer"], props), props);

              if (_this.expandChild_) {
                newChild = _this.expandChild_(newChild, i);
              }
            }
          }

          newChildren.push(newChild);
        }
      }
    });
    return newChildren;
  },
  shouldChildRender: function shouldChildRender(child) {
    var childTag = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].getChildTag(child);
    var result = _environment_environment_js__WEBPACK_IMPORTED_MODULE_3__["default"].nestingLevelStrict ? childTag && !!childTag["UU5.Common.NestingLevelMixin"] : true;

    if (result && typeof this.shouldChildRender_ === "function") {
      result = this.shouldChildRender_(child);
    }

    return result;
  },
  buildChildren: function buildChildren(contentProps, childPropsExpander, childIndex) {
    var children = null;

    if (typeof this.buildChildren_ === "function") {
      children = this.buildChildren_(contentProps, childPropsExpander);
    } else {
      children = this.buildChildrenDefault(contentProps, childPropsExpander, childIndex);
    }

    return children;
  },
  buildChildrenDefault: function buildChildrenDefault(contentProps, childPropsExpander, childIndex) {
    var _this2 = this;

    var children = null;
    contentProps = contentProps || this.props;
    childPropsExpander = childPropsExpander || this.expandChildProps;
    childIndex = childIndex || 0;
    var contentValue = contentProps.content;

    var contentType = this._getContentType(contentValue);

    if (contentType === "uu5json") {
      contentValue = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].parseFromUu5JSON(contentValue);
      contentType = this._getContentType(contentValue);
    } else if (contentType === "uu5data") {
      contentValue = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].parseFromUu5Data(contentValue);
      contentType = this._getContentType(contentValue);
    }

    switch (contentType) {
      case "bodyItem":
        {
          var bodyItemChild = this.buildChild(contentValue.tag, contentValue.props);
          this.shouldChildRender(bodyItemChild) && (children = [this.cloneChild(bodyItemChild, childPropsExpander(bodyItemChild, childIndex))]);
          break;
        }

      case "array":
        children = contentValue.map(function (bodyItem, i) {
          return _this2.buildChildren({
            content: bodyItem
          }, childPropsExpander, i);
        });
        break;

      case "items":
        {
          var tag = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].checkTag(contentValue.tag, true);
          children = [];
          contentValue.propsArray.forEach(function (props, i) {
            var child = tag ? _this2.buildChild(tag, props) : _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].findComponent(contentValue.tag, props);
            child = _this2.cloneChild(child, childPropsExpander(child, i));
            _this2.shouldChildRender(child) && children.push(child);
          });
          break;
        }

      case "string":
        if (!this.__isTextCorrector(contentValue)) {
          this.shouldChildRender(contentValue) && (children = contentValue);
        } else {
          var child = UU5.Common.Element.create(_text_corrector_context_consumer_js__WEBPACK_IMPORTED_MODULE_5__["TextCorrectorContextConsumer"], _extends({
            parent: this,
            text: contentValue
          }, this.__getTextCorrectorProps(), {
            key: childIndex
          }));
          this.shouldChildRender(child) && (children = child);
        }

        break;

      case "number":
        this.shouldChildRender(contentValue) && (children = contentValue);
        break;

      case "element":
        {
          var _child = this.cloneChild(contentValue, childPropsExpander(contentValue, childIndex));

          this.shouldChildRender(_child) && (children = _child);
          break;
        }

      case "bool":
        {
          var _child2 = contentValue ? "true" : "false";

          this.shouldChildRender(_child2) && (children = _child2);
          break;
        }

      case "uu5string":
        {
          var stringChildren;

          try {
            // TODO Switch to using children as a function:
            // stringChildren = UU5String.toChildren(contentValue, undefined, undefined, true);
            stringChildren = _uu5string_js__WEBPACK_IMPORTED_MODULE_4__["default"].toChildren(contentValue, undefined, undefined, false);
          } catch (e) {
            if (e.code === "uu5StringInvalid") {
              stringChildren = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].findComponent("UU5.Common.Error", null, UU5.Common.Element.create("div", null, e.message, UU5.Common.Element.create("br", null), contentValue));
            } else {
              throw e;
            }
          }

          children = this.buildNodeChildren(stringChildren, childPropsExpander);
          break;
        }

      case "function":
        {
          var propsToPass = childPropsExpander(UU5.Common.Element.create(PseudoUU5Component, null), childIndex);
          children = contentValue(propsToPass);
          break;
        }

      case "children":
      default:
        if (contentProps.children) {
          children = this.buildNodeChildren(contentProps.children, childPropsExpander);
        }

    }

    return children;
  },
  getStandardChildren: function getStandardChildren() {
    return this._getUU5CommonContentMixinStandardChildren(this.state);
  },
  getOutlineChildren: function getOutlineChildren() {
    return this._getUU5CommonContentMixinOutlineChildren(this.state);
  },
  getChildren: function getChildren() {
    return this._getUU5CommonContentMixinChildren(this.state);
  },
  getRenderedChildren: function getRenderedChildren() {
    var result;

    if (typeof this.getRenderedChildren_ === "function") {
      result = this.getRenderedChildren_();
    } else {
      result = this.getRenderedChildrenDefault();
    }

    return result;
  },
  getRenderedChildrenDefault: function getRenderedChildrenDefault() {
    return this.renderedChildren;
  },
  setRenderedChildren: function setRenderedChildren(childrenIndexList) {
    this.renderedChildren = childrenIndexList;
    return this;
  },
  addRenderedChild: function addRenderedChild(renderedChild, index) {
    if (index === undefined || index === null) {
      this.showError("indexNotSet", null, {
        mixinName: "UU5.Common.ContentMixin",
        context: {
          index: index,
          renderedChild: {
            tagName: renderedChild.getTagName(),
            id: renderedChild.getId(),
            component: renderedChild
          }
        }
      });
    } else {
      this.getRenderedChildren().splice(index, 0, renderedChild);
    }

    return this;
  },
  removeRenderedChild: function removeRenderedChild(renderedChild) {
    this.getRenderedChildren().splice(renderedChild.getIndex(), 1);
    return this;
  },
  getRenderedChildrenIdList: function getRenderedChildrenIdList() {
    var result;

    if (typeof this.getRenderedChildrenIdList_ === "function") {
      result = this.getRenderedChildrenIdList_();
    } else {
      result = this.getRenderedChildrenIdListDefault();
    }

    return result;
  },
  getRenderedChildrenIdListDefault: function getRenderedChildrenIdListDefault() {
    return this.renderedChildrenIdList;
  },
  setRenderedChildrenIdList: function setRenderedChildrenIdList(childrenIdList) {
    this.renderedChildrenIdList = childrenIdList;
    return this;
  },
  addRenderedChildToIdList: function addRenderedChildToIdList(renderedChild) {
    var id = renderedChild.getId();

    if (!this.getRenderedChildById(id)) {
      this.getRenderedChildrenIdList()[id] = renderedChild;
    } else if (this.getRenderedChildById(id) !== renderedChild) {
      this.showError("addRenderedChildToIdList_IdDuplicity", id, {
        mixinName: "UU5.Common.ContentMixin",
        context: {
          renderedChildrenIdList: this.getRenderedChildrenIdList(),
          renderedChild: {
            tagName: renderedChild.getTagName(),
            id: renderedChild.getId(),
            component: renderedChild
          }
        }
      });
    }

    return this;
  },
  removeRenderedChildFromIdList: function removeRenderedChildFromIdList(renderedChild) {
    delete this.getRenderedChildrenIdList()[renderedChild.getId()];
    return this;
  },
  getRenderedChildrenNameList: function getRenderedChildrenNameList() {
    var result;

    if (typeof this.getRenderedChildrenNameList_ === "function") {
      result = this.getRenderedChildrenNameList_();
    } else {
      result = this.getRenderedChildrenNameListDefault();
    }

    return result;
  },
  getRenderedChildrenNameListDefault: function getRenderedChildrenNameListDefault() {
    return this.renderedChildrenNameList;
  },
  setRenderedChildrenNameList: function setRenderedChildrenNameList(childrenNameList) {
    this.renderedChildrenNameList = childrenNameList;
    return this;
  },
  addRenderedChildToNameList: function addRenderedChildToNameList(renderedChild) {
    var name = renderedChild.getName();

    if (name) {
      var nameList = this.getRenderedChildrenNameList();

      if (!nameList[name] || nameList[name].map(function (rChild) {
        return rChild.getId();
      }).indexOf(renderedChild.getId()) === -1) {
        nameList[name] = nameList[name] || [];
        nameList[name].push(renderedChild);
      }
    }

    return this;
  },
  removeRenderedChildFromNameList: function removeRenderedChildFromNameList(renderedChild) {
    var nameChildren = this.getRenderedChildrenByName(renderedChild.getName());

    if (nameChildren) {
      var childIndex = nameChildren.map(function (rChild) {
        return rChild.getId();
      }).indexOf(renderedChild.getId());
      childIndex > -1 && nameChildren.splice(childIndex, 1);
    }

    return this;
  },
  getChildIndexById: function getChildIndexById(childId) {
    var childIndex;

    if (typeof this.getChildIndexById_ === "function") {
      childIndex = this.getChildIndexById_(childId);
    } else {
      childIndex = this.getChildIndexByIdDefault(childId);
    }

    return childIndex;
  },
  getChildIndexByIdDefault: function getChildIndexByIdDefault(childId) {
    var childIndex;
    var children = this.getRenderedChildren();
    var index = childId && children.map(function (child) {
      return child.getId() === childId;
    }).indexOf(true);
    childIndex = index === -1 ? null : index;
    return childIndex;
  },
  getRenderedChildById: function getRenderedChildById(childId) {
    var renderedChild;

    if (typeof this.getRenderedChildById_ === "function") {
      renderedChild = this.getRenderedChildById_(childId);
    } else {
      renderedChild = this.getRenderedChildByIdDefault(childId);
    }

    return renderedChild;
  },
  getRenderedChildByIdDefault: function getRenderedChildByIdDefault(childId) {
    return this.getRenderedChildrenIdList()[childId] || null;
  },
  getRenderedChildrenByName: function getRenderedChildrenByName(childName) {
    return this.getRenderedChildrenNameList()[childName] || null;
  },
  getRenderedChildByName: function getRenderedChildByName(childName) {
    var renderedChild;

    if (typeof this.getRenderedChildByName_ === "function") {
      renderedChild = this.getRenderedChildByName_(childName);
    } else {
      renderedChild = this.getRenderedChildByNameDefault(childName);
    }

    return renderedChild;
  },
  getRenderedChildByNameDefault: function getRenderedChildByNameDefault(childName) {
    var nameChildren = this.getRenderedChildrenByName(childName);
    var renderedChild = nameChildren ? nameChildren[0] : null;
    return renderedChild;
  },
  getRenderedChildByIndex: function getRenderedChildByIndex(index) {
    var renderedChild;

    if (typeof this.getRenderedChildByIndex_ === "function") {
      renderedChild = this.getRenderedChildByIndex_(index);
    } else {
      renderedChild = this.getRenderedChildByIndexDefault(index);
    }

    return renderedChild;
  },
  getRenderedChildByIndexDefault: function getRenderedChildByIndexDefault(index) {
    return this.getRenderedChildren()[index] || null;
  },
  getRenderedChildByTagName: function getRenderedChildByTagName(tagName) {
    var foundChild = null;

    if (typeof this.getRenderedChildByTagName_ === "function") {
      foundChild = this.getRenderedChildByTagName_(tagName);
    } else {
      foundChild = this.getRenderedChildByTagNameDefault(tagName);
    }

    return foundChild;
  },
  getRenderedChildByTagNameDefault: function getRenderedChildByTagNameDefault(tagName) {
    var foundChild;
    this.eachRenderedChild(function (renderedChild) {
      var condition = renderedChild.getTagName() === tagName;
      condition && (foundChild = renderedChild);
      return !condition; // false <=> end of cycle
    });
    return foundChild;
  },
  getFirstRenderedChild: function getFirstRenderedChild() {
    var renderedChild = null;

    if (typeof this.getFirstRenderedChild_ === "function") {
      renderedChild = this.getFirstRenderedChild_();
    } else {
      renderedChild = this.getFirstRenderedChildDefault();
    }

    return renderedChild;
  },
  getFirstRenderedChildDefault: function getFirstRenderedChildDefault() {
    return this.getRenderedChildByIndex(0);
  },
  getLastRenderedChild: function getLastRenderedChild() {
    var renderedChild = null;

    if (typeof this.getLastRenderedChild_ === "function") {
      renderedChild = this.getLastRenderedChild_();
    } else {
      renderedChild = this.getLastRenderedChildDefault();
    }

    return renderedChild;
  },
  getLastRenderedChildDefault: function getLastRenderedChildDefault() {
    return this.getRenderedChildByIndex(this.getRenderedChildren().length - 1);
  },
  eachRenderedChild: function eachRenderedChild(callback) {
    // function callbackFunction( renderedChild, renderedChildIndex );
    if (typeof this.eachRenderedChild_ === "function") {
      this.eachRenderedChild_(callback);
    } else {
      this.eachRenderedChildDefault(callback);
    }

    return this;
  },
  eachRenderedChildDefault: function eachRenderedChildDefault(callback) {
    var renderedChildren = this.getRenderedChildren(); // same as: for(var i = 0; i < renderedChildren.length; i++) {
    //          var renderedChild = renderedChildren[i];

    for (var i = 0, renderedChild; renderedChild = renderedChildren[i]; ++i) {
      var result = callback(renderedChild, i);

      if (result === false) {
        break;
      }
    }

    return this;
  },
  registerRenderedChild: function registerRenderedChild(renderedChild, index) {
    if (renderedChild.hasUU5CommonBaseMixin && !this.getRenderedChildById(renderedChild.getId())) {
      this.addRenderedChild(renderedChild, index);
      this.addRenderedChildToIdList(renderedChild);
      this.addRenderedChildToNameList(renderedChild);
    }

    return this;
  },
  unregisterRenderedChild: function unregisterRenderedChild(renderedChild) {
    this.removeRenderedChild(renderedChild);
    this.removeRenderedChildFromIdList(renderedChild);
    this.removeRenderedChildFromNameList(renderedChild);
    return this;
  },
  // dynamic functions
  setChildren: function setChildren(newChildren) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    var setStateCallback = typeof args[args.length - 1] === "function" ? args.pop() : undefined; // always last

    var props = args.shift() || this.props;

    if (props.dynamic) {
      if (typeof this.setChildren_ === "function") {
        this.setChildren_(newChildren, setStateCallback);
      } else {
        this.setChildrenDefault(newChildren, setStateCallback);
      }
    } else {
      this.showError("dynamicOnly", "setChildren", {
        mixinName: "UU5.Common.ContentMixin"
      });
    }

    return this;
  },
  setChildrenDefault: function setChildrenDefault(newChildren, setStateCallback) {
    this.setState({
      children: newChildren
    }, setStateCallback);
    return this;
  },

  /**
   * Inserts child into container. If position is set, child will be added to that position.
   * Only for dynamic container.
   * Can be overridden by insertChild_ function.
   *
   * @param {object|element} child - Object with tag of the element and props. E.g. {tag: '...', props: {...}} or Element e.g. < ... />
   * @param {object} opt - Additional parameters.
   * @param {number} opt.position - Position where the child should be placed to. If not set, child is added
   *                                at the end of children list.
   * @param {boolean} opt.shouldUpdate - If false, setState is not called.
   * @param {function} opt.setStateCallback - Callback is called after setState.
   * @returns {object} this
   */
  insertChild: function insertChild(child, opt) {
    /*
     opt:{
     position: number // Position where the child should be placed to.
     // If not set, child is added at the end of children list.
     shouldUpdate: bool // call setState -> render, default value is true
     callbackFunction: function // function callbackFunction(newRenderedChild)
     }
     */
    if (this.isDynamic()) {
      if (typeof this.insertChild_ === "function") {
        this.insertChild_(child, opt);
      } else {
        this.insertChildDefault(child, opt);
      }
    } else {
      this.showError("dynamicOnly", "insertChild", {
        mixinName: "UU5.Common.ContentMixin"
      });
    }

    return this;
  },
  insertChildDefault: function insertChildDefault(child, opt) {
    var _this3 = this;

    opt = opt || {};

    if (opt.shouldUpdate === undefined || opt.shouldUpdate) {
      var newChild = child.tag ? this.buildChild(child.tag, child.props) : child;

      if (this.shouldChildRender(newChild)) {
        this._setChildrenInTransaction(function (state) {
          // NOTE This is called during this.setState(thisFn), i.e. the "state" argument contains
          // actual children. This solves issue with multiple successive calls to insertChild which
          // was previously operating on stale "state" and therefore ending up with adding only 1 child.
          var children = _this3._getUU5CommonContentMixinChildren(state) || [];

          if (Array.isArray(children)) {
            children = children.slice();
          } else {
            var elem = _this3.cloneChild(children, _this3.expandChildProps(children, 0));

            children = [elem];
          }

          var doNothing = false;
          var usedPosition;
          var relativeChildId = opt.childBeforeId || opt.childAfterId;

          if (relativeChildId) {
            // NOTE We cannot use rendered children because their "index" might be already bad
            // (e.g. if user called insertChild successively multiple times without re-rendering
            // in-between).
            var relativeChildIndex = children.map(function (child) {
              return child && child.props && child.props.id;
            }).indexOf(relativeChildId);

            if (relativeChildIndex === -1) {
              _this3.showError("insertedchildIdNotExists", relativeChildId, {
                mixinName: "UU5.Common.ContentMixin"
              });

              doNothing = true;
            } else {
              usedPosition = opt.childBeforeId ? relativeChildIndex + 1 : relativeChildIndex;
            }
          }

          var result = null;

          if (!doNothing) {
            if (usedPosition == null) usedPosition = opt.position;
            if (typeof usedPosition !== "number") usedPosition = children.length;else usedPosition = Math.max(0, Math.min(usedPosition, children.length));
            newChild = _this3.cloneChild(newChild, _this3.expandChildProps(newChild, usedPosition));
            children.splice(usedPosition, 0, newChild);
            result = {
              children: children
            };
          }

          return result;
        }, typeof opt.setStateCallback === "function" ? function () {
          opt.setStateCallback(_this3.getRenderedChildById(newChild.props.id));
        } : null);
      }
    }

    return this;
  },

  /**
   * Inserts child into container at position before another child by ID.
   * Only for dynamic container.
   * Can be overridden by insertChildBefore_ function.
   *
   * @param {object} child - Object with tag of the element and props. E.g. {tag: '...', props: {...}} or Element e.g. < ... />
   * @param {object} opt - Additional parameters.
   * @param {string} opt.childAfterId - ID of the child before which the new child will be placed. If not set, the new
   *                                    child will be placed at the beginning.
   * @param {boolean} opt.shouldUpdate - If false, setState is not called.
   * @param {function} opt.setStateCallback - Callback is called after setState.
   * @returns {object} this
   */
  insertChildBefore: function insertChildBefore(child, opt) {
    if (this.isDynamic()) {
      if (typeof this.insertChildBefore_ === "function") {
        this.insertChildBefore_(child, opt);
      } else {
        this.insertChildBeforeDefault(child, opt);
      }
    } else {
      this.showError("dynamicOnly", "insertChildBefore", {
        mixinName: "UU5.Common.ContentMixin"
      });
    }

    return this;
  },
  insertChildBeforeDefault: function insertChildBeforeDefault(child, opt) {
    if (typeof this.insertChild_ === "function") {
      // TODO This whole if-branch is for backward compatibility for components having
      // "insertChild_", i.e. we compute position of new child right away (from possibly
      // stale children). Do differently in next major version.
      opt = opt || {};
      var childIndex;

      if (opt.childAfterId) {
        var renderedChild = this.getRenderedChildById(opt.childAfterId);
        childIndex = renderedChild ? renderedChild.getIndex() : null;
      } else {
        childIndex = 0;
      }

      if (childIndex === null) {
        this.showError("insertedchildIdNotExists", opt.childAfterId, {
          mixinName: "UU5.Common.ContentMixin"
        });
      } else {
        this.insertChild(child, _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].merge({}, opt, {
          position: childIndex
        }));
      }
    } else {
      // insert child (let the position be computed from children from resolved state, i.e.
      // pass childAfterId as-is, with fallback position being at index 0)
      opt = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].merge({}, opt, {
        position: 0
      });
      delete opt.childBeforeId;
      this.insertChild(child, opt);
    }

    return this;
  },

  /**
   * Inserts child into container at position after another child by ID.
   * Only for dynamic container.
   * Can be overridden by insertChildAfter_ function.
   *
   * @param {object} child - Object with tag of the element and props. E.g. {tag: '...', props: {...}} or Element e.g. < ... />
   * @param {object} opt - Additional parameters.
   * @param {string} opt.childBeforeId - ID of child after which the new child will be placed. If not set, the new
   *                                     child will be placed at the end.
   * @param {boolean} opt.shouldUpdate - If false, setState is not called.
   * @param {function} opt.setStateCallback - Callback is called after setState.
   * @returns {object} this
   */
  insertChildAfter: function insertChildAfter(child, opt) {
    if (this.isDynamic()) {
      if (typeof this.insertChildAfter_ === "function") {
        this.insertChildAfter_(child, opt);
      } else {
        this.insertChildAfterDefault(child, opt);
      }
    } else {
      this.showError("dynamicOnly", "insertChildAfter", {
        mixinName: "UU5.Common.ContentMixin"
      });
    }

    return this;
  },
  insertChildAfterDefault: function insertChildAfterDefault(child, opt) {
    if (typeof this.insertChild_ === "function") {
      // TODO This whole if-branch is for backward compatibility for components having
      // "insertChild_", i.e. we compute position of new child right away (from possibly
      // stale children). Do differently in next major version.
      // reset position value and copy opt
      opt = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].merge({}, opt, {
        position: undefined
      }) || {};

      if (opt.childBeforeId) {
        var renderedChild = this.getRenderedChildById(opt.childBeforeId);
        var childIndex = renderedChild ? renderedChild.getIndex() : null;
        childIndex !== null && (opt.position = childIndex + 1);
      }

      if (opt.childBeforeId && opt.position === undefined) {
        this.showError("insertedchildIdNotExists", opt.childBeforeId, {
          mixinName: "UU5.Common.ContentMixin"
        });
      } else {
        this.insertChild(child, opt);
      }
    } else {
      // insert child (let the position be computed from children from resolved state, i.e.
      // pass childBeforeId as-is, with fallback position being undefined, i.e. at the end)
      opt = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].merge({}, opt, {
        position: undefined
      });
      delete opt.childAfterId;
      this.insertChild(child, opt);
    }

    return this;
  },

  /**
   * Update child props. New props will be merged with old props, so it is possible to change just one property or all
   * of them.
   * Only for dynamic container.
   * Can be overridden by updateChild_ function.
   *
   * TODO: maybe function updateProps() should be in baseMixin (only if parent is dynamic container)
   *
   * @param {string} childId - ID of child, which props are being updated.
   * @param {object} newProps - Props which are being changed. It is not necessary to set all of the props.
   * @param {object} opt - Additional parameters.
   * @param {boolean} opt.shouldUpdate - If false, setState is not called.
   * @param {function} opt.setStateCallback - Callback is called after setState.
   * @returns {object} this
   */
  updateChild: function updateChild(childId, newProps, opt) {
    if (this.isDynamic()) {
      if (typeof this.updateChild_ === "function") {
        this.updateChild_(childId, newProps, opt);
      } else {
        this.updateChildDefault(childId, newProps, opt);
      }
    } else {
      this.showError("dynamicOnly", "updateChild", {
        mixinName: "UU5.Common.ContentMixin"
      });
    }

    return this;
  },
  updateChildDefault: function updateChildDefault(childId, newProps, opt) {
    var _this4 = this;

    opt = opt || {};

    if (opt.shouldUpdate === undefined || opt.shouldUpdate) {
      this._setChildrenInTransaction(function (state) {
        var children = _this4._getUU5CommonContentMixinChildren(state) || [];
        var childIndex = children.map(function (child) {
          return child && child.props && child.props.id;
        }).indexOf(childId);
        var result = null;

        if (childIndex === -1) {
          _this4.showError("childIdNotExists", "updateChild", {
            mixinName: "UU5.Common.ContentMixin"
          });
        } else {
          children = children.slice();

          var newChild = _this4.cloneChild(children[childIndex], newProps);

          children[childIndex] = _this4.cloneChild(children[childIndex], _this4.expandChildProps(newChild, childIndex));
          result = {
            children: children
          };
        }

        return result;
      }, opt.setStateCallback);
    }

    return this;
  },

  /**
   * Replace child by tag and props on the position.
   * Only for dynamic container.
   * Can be overridden by replaceChild_ function.
   *
   * TODO: maybe function replace() should be in baseMixin (only if parent is dynamic container)
   *
   * @param {string} childId - ID of child, which props are being updated.
   * @param {object} child - Object with tag of the element and props. E.g. {tag: '...', props: {...}} or Element e.g. < ... />
   * @param {object} opt - Additional parameters.
   * @param {boolean} opt.shouldUpdate - If false, setState is not called.
   * @param {function} opt.setStateCallback - Callback is called after setState.
   * @returns {object} this
   */
  replaceChild: function replaceChild(childId, child, opt) {
    if (this.isDynamic()) {
      if (typeof this.replaceChild_ === "function") {
        this.replaceChild_(childId, child, opt);
      } else {
        this.replaceChildDefault(childId, child, opt);
      }
    } else {
      this.showError("dynamicOnly", "replaceChild", {
        mixinName: "UU5.Common.ContentMixin"
      });
    }

    return this;
  },
  replaceChildDefault: function replaceChildDefault(childId, child, opt) {
    var _this5 = this;

    opt = opt || {};

    if (opt.shouldUpdate === undefined || opt.shouldUpdate) {
      var newChild = child.tag ? this.buildChild(child.tag, child.props) : child;

      if (this.shouldChildRender(newChild)) {
        this._setChildrenInTransaction(function (state) {
          var children = _this5._getUU5CommonContentMixinChildren(state) || [];
          var childIndex = children.map(function (child) {
            return child && child.props && child.props.id;
          }).indexOf(childId);
          var result = null;

          if (childIndex === -1) {
            _this5.showError("childIdNotExists", "replaceChild", {
              mixinName: "UU5.Common.ContentMixin"
            });
          } else {
            children = children.slice();
            children[childIndex] = _this5.cloneChild(newChild, _this5.expandChildProps(newChild, childIndex));
            result = {
              children: children
            };
          }

          return result;
        }, opt.setStateCallback);
      }
    }

    return this;
  },

  /**
   * Deletes child from children list.
   * Only for dynamic container.
   * Can be overridden by deleteChild_ function.
   *
   * TODO: maybe function delete() should be in baseMixin (only if parent is dynamic container)
   *
   * @param {string} childId - ID of child, which props are being deleted.
   * @param {object} opt - Additional parameters.
   * @param {boolean} opt.shouldUpdate - If false, setState is not called.
   * @param {function} opt.setStateCallback - Callback is called after setState.
   * @returns {object} this
   */
  deleteChild: function deleteChild(childId, opt) {
    if (this.isDynamic()) {
      if (typeof this.deleteChild_ === "function") {
        this.deleteChild_(childId, opt);
      } else {
        this.deleteChildDefault(childId, opt);
      }
    } else {
      this.showError("dynamicOnly", "deleteChild", {
        mixinName: "UU5.Common.ContentMixin"
      });
    }

    return this;
  },
  deleteChildDefault: function deleteChildDefault(childId, opt) {
    var _this6 = this;

    opt = opt || {};

    if (opt.shouldUpdate === undefined || opt.shouldUpdate) {
      this._setChildrenInTransaction(function (state) {
        var children = _this6._getUU5CommonContentMixinChildren(state) || [];
        var childIndex = children.map(function (child) {
          return child && child.props && child.props.id;
        }).indexOf(childId);
        var result = null;

        if (childIndex === -1) {
          _this6.showError("childIdNotExists", "deleteChild", {
            mixinName: "UU5.Common.ContentMixin"
          });
        } else {
          children = children.slice();
          children.splice(childIndex, 1);
          result = {
            children: children
          };
        }

        return result;
      }, opt.setStateCallback);
    }

    return this;
  },

  /**
   * Deletes all children.
   * Only for dynamic container.
   * Can be overridden by clearChildren_ function.
   *
   * @param {object} opt - Additional parameters.
   * @param {boolean} opt.shouldUpdate - If false, setState is not called.
   * @param {function} opt.setStateCallback - Callback is called after setState.
   * @returns {object} this
   */
  clearChildren: function clearChildren(opt) {
    if (this.isDynamic()) {
      if (typeof this.clearChildren_ === "function") {
        this.clearChildren_(opt);
      } else {
        this.clearChildrenDefault(opt);
      }
    } else {
      this.showError("dynamicOnly", "clearChildren", {
        mixinName: "UU5.Common.ContentMixin"
      });
    }

    return this;
  },
  clearChildrenDefault: function clearChildrenDefault(opt) {
    opt = opt || {};
    (opt.shouldUpdate === undefined || opt.shouldUpdate) && this.setChildren([], opt.setStateCallback);
    return this;
  },
  setFilter: function setFilter(filter, setStateCallback) {
    this.setState({
      filter: filter,
      filteredProps: this._getFilteredChildrenProps(filter)
    }, setStateCallback);
    return this;
  },
  resetFilter: function resetFilter(setStateCallback) {
    this.setState({
      filter: null,
      filteredProps: null
    }, setStateCallback);
    return this;
  },
  setSorter: function setSorter(sorter, setStateCallback) {
    this.setState({
      sorter: sorter,
      sortedIds: this._getSortedChildIds(sorter)
    }, setStateCallback);
    return this;
  },
  resetSorter: function resetSorter(setStateCallback) {
    this.setState({
      sorter: null,
      sortedIds: null
    }, setStateCallback);
    return this;
  },
  setFilterAndSorter: function setFilterAndSorter(filter, sorter, setStateCallback) {
    this.setState({
      filter: filter,
      filteredProps: this._getFilteredChildrenProps(filter),
      sorter: sorter,
      sortedIds: this._getSortedChildIds(sorter)
    }, setStateCallback);
    return this;
  },
  resetFilterAndSorter: function resetFilterAndSorter(setStateCallback) {
    this.setState({
      filter: null,
      filteredProps: null,
      sorter: null,
      sortedIds: null
    }, setStateCallback);
    return this;
  },
  getFilteredSorterChildren: function getFilteredSorterChildren(children) {
    var container = this;
    var newChildren = [];
    children = children || this.getChildren();

    if (children) {
      children = Array.isArray(children) ? children : [children];
      children.forEach(function (child) {
        if (child) {
          var childId = child.props && child.props.id;
          var index = container.state.sortedIds && container.state.sortedIds.indexOf(childId);

          if (!container.state.sortedIds || index > -1) {
            var newProps = container.state.filteredProps && container.state.filteredProps[childId];

            if (!container.state.filteredProps || newProps) {
              newProps && Object.keys(newProps).length !== 0 && (child = _element_js__WEBPACK_IMPORTED_MODULE_6__["default"].clone(child, _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].mergeDeep({}, child.props, newProps)));

              if (typeof index === "number") {
                newChildren[index] = child;
              } else {
                newChildren.push(child);
              }
            }
          }
        }
      });
    }

    return newChildren;
  },
  // Mode
  setStandardMode: function setStandardMode(setStateCallback) {
    this.showWarning('The property "mode" is deprecated!');
    this.setState({
      mode: this.getDefault("standardMode", "UU5.Common.ContentMixin")
    }, setStateCallback);
    return this;
  },
  setOutlineMode: function setOutlineMode(setStateCallback) {
    this.showWarning('The property "mode" is deprecated!');
    this.setState({
      mode: this.getDefault("outlineMode", "UU5.Common.ContentMixin")
    }, setStateCallback);
    return this;
  },
  getMode: function getMode() {
    return this.state.mode || this.getDefault("standardMode", "UU5.Common.ContentMixin");
  },
  isStandardMode: function isStandardMode() {
    return this.getMode() === this.getDefault("standardMode", "UU5.Common.ContentMixin");
  },
  isOutlineMode: function isOutlineMode() {
    return this.getMode() === this.getDefault("outlineMode", "UU5.Common.ContentMixin");
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _getContentType: function _getContentType(content) {
    var type = null; // one of ['children','uu5json','uu5string','uu5data','string','number','array','items','bodyItem','element','bool']

    if (content === undefined || content === null) {
      // children
      type = "children";
    } else if (typeof content === "string") {
      var match = this.getDefault("regexpUu5", "UU5.Common.ContentMixin").exec(content);
      type = match ? match[1] : "string";
    } else if (typeof content === "number") {
      type = "number";
    } else if (typeof content === "boolean") {
      type = "bool";
    } else if (Array.isArray(content)) {
      type = "array";
    } else if (content && _typeof(content) === "object") {
      // fixed content = {} - from now it rendered as null
      if (Object.keys(content).length) {
        // bodyItem, items or node
        type = content.tag ? content.propsArray ? "items" : "bodyItem" : "element";
      }
    } else if (typeof content === "function") {
      type = "function";
    } else {
      this.showError("unexpectedContentType", _typeof(content), {
        mixinName: "UU5.Common.ContentMixin",
        context: {
          content: content
        }
      });
    }

    return type;
  },
  _getFilteredChildrenProps: function _getFilteredChildrenProps(filter) {
    var filteredChildrenProps = {};
    this.eachRenderedChild(function (renderedChild, i) {
      var result = filter(renderedChild, i);

      if (result) {
        result === true && (result = {});
      } else {
        result = {
          hidden: true
        };
      }

      filteredChildrenProps[renderedChild.getId()] = result;
    });
    return filteredChildrenProps;
  },
  _getSortedChildIds: function _getSortedChildIds(sorter) {
    var sortedChildren = this.getRenderedChildren().sort(sorter);
    return sortedChildren.map(function (renderedChild) {
      return renderedChild.getId();
    });
  },
  _setChildrenInTransaction: function _setChildrenInTransaction(getNewChildrenStateFn, setStateCallback) {
    if (typeof this.setChildren_ === "function") {
      var newState = getNewChildrenStateFn(this.state);
      if (newState) this.setChildren_(newState.children, setStateCallback);
    } else {
      this.setState(getNewChildrenStateFn, setStateCallback);
    }
  },
  _getUU5CommonContentMixinChildren: function _getUU5CommonContentMixinChildren(state) {
    var children = null;

    switch (this._getUU5CommonContentMixinMode(state)) {
      case this.getDefault("standardMode", "UU5.Common.ContentMixin"):
        children = this._getUU5CommonContentMixinStandardChildren(state);
        break;

      case this.getDefault("outlineMode", "UU5.Common.ContentMixin"):
        children = this._getUU5CommonContentMixinOutlineChildren(state);
        break;
    }

    return children;
  },
  _getUU5CommonContentMixinMode: function _getUU5CommonContentMixinMode(state) {
    return state.mode || "standard";
  },
  _getUU5CommonContentMixinStandardChildren: function _getUU5CommonContentMixinStandardChildren(state) {
    return this.isDynamic() ? state.children : this.buildChildren();
  },
  _getUU5CommonContentMixinOutlineChildren: function _getUU5CommonContentMixinOutlineChildren(state) {
    return _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].findComponent("UU5.Common.Outline", {
      element: this,
      key: 0
    });
  },
  __isTextCorrector: function __isTextCorrector(value) {
    return typeof value !== "number" && value.trim() !== "";
  },
  __getTextCorrectorPropValue: function __getTextCorrectorPropValue(propName) {
    var propValue = this.props[propName];

    if (propValue === undefined) {
      return this.props.textCorrector;
    } else {
      return propValue;
    }
  },
  __getTextCorrectorProps: function __getTextCorrectorProps() {
    return {
      checkSpaces: this.__getTextCorrectorPropValue("checkSpaces"),
      checkGrammar: this.__getTextCorrectorPropValue("checkGrammar"),
      checkHighlight: this.__getTextCorrectorPropValue("checkHighlight"),
      language: this.props.language
    };
  } //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (ContentMixin);

/***/ }),
/* 62 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UU5String", function() { return UU5String; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UU5Data", function() { return UU5Data; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UU5Json", function() { return UU5Json; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _environment_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _tools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }




var Uu5String = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Uu5String,
    Uu5Data = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Uu5Data,
    Uu5Json = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Uu5Json;

var UU5Json = /*#__PURE__*/function (_Uu5Json) {
  _inherits(UU5Json, _Uu5Json);

  var _super = _createSuper(UU5Json);

  function UU5Json() {
    _classCallCheck(this, UU5Json);

    return _super.apply(this, arguments);
  }

  _createClass(UU5Json, [{
    key: "toUU5Json",
    value: function toUU5Json() {
      return this.toJson();
    }
  }]);

  return UU5Json;
}(Uu5Json);

var UU5Data = {
  parse: function parse(uu5Data) {
    return Uu5Data.parse(uu5Data, _environment_environment__WEBPACK_IMPORTED_MODULE_1__["default"].uu5DataMap);
  }
};
var EXTRA_TEMPLATE_DATA = {
  now: function now() {
    var date = new Date(Date.now());
    return _tools__WEBPACK_IMPORTED_MODULE_2__["default"].toLocaleString(date, _tools__WEBPACK_IMPORTED_MODULE_2__["default"].getLanguage());
  },
  userName: function userName() {
    var _ref, _session$isAuthentica, _session$getIdentity;

    var session = _environment_environment__WEBPACK_IMPORTED_MODULE_1__["default"].getSession();
    return (_ref = (session === null || session === void 0 ? void 0 : (_session$isAuthentica = session.isAuthenticated) === null || _session$isAuthentica === void 0 ? void 0 : _session$isAuthentica.call(session)) !== false ? session === null || session === void 0 ? void 0 : (_session$getIdentity = session.getIdentity()) === null || _session$getIdentity === void 0 ? void 0 : _session$getIdentity.name : null) !== null && _ref !== void 0 ? _ref : "";
  },
  userEmail: function userEmail() {
    var _ref2, _session$isAuthentica2, _session$getIdentity2;

    var session = _environment_environment__WEBPACK_IMPORTED_MODULE_1__["default"].getSession();
    return (_ref2 = (session === null || session === void 0 ? void 0 : (_session$isAuthentica2 = session.isAuthenticated) === null || _session$isAuthentica2 === void 0 ? void 0 : _session$isAuthentica2.call(session)) !== false ? session === null || session === void 0 ? void 0 : (_session$getIdentity2 = session.getIdentity()) === null || _session$getIdentity2 === void 0 ? void 0 : _session$getIdentity2.email : null) !== null && _ref2 !== void 0 ? _ref2 : "";
  }
};
var G04_FACTORY = {
  createString: function createString(uu5string) {
    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    return new UU5String(uu5string, opts.templateDataMap, opts.initFn);
  },
  createObject: function createObject(tag, propsString) {
    var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},
        _ref3$children = _ref3.children,
        children = _ref3$children === void 0 ? [] : _ref3$children,
        _ref3$isPairedTag = _ref3.isPairedTag,
        isPairedTag = _ref3$isPairedTag === void 0 ? true : _ref3$isPairedTag,
        _ref3$initFn = _ref3.initFn,
        initFn = _ref3$initFn === void 0 ? null : _ref3$initFn,
        _ref3$parent = _ref3.parent,
        parent = _ref3$parent === void 0 ? null : _ref3$parent,
        uu5DataMap = _ref3.uu5DataMap,
        allowedTagsRegExp = _ref3.allowedTagsRegExp;

    return new UU5StringObject(tag, propsString, children, isPairedTag, initFn, parent);
  },
  createProps: function createProps(propsString) {
    var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        buildItemFn = _ref4.buildItemFn,
        uu5DataMap = _ref4.uu5DataMap,
        allowedTagsRegExp = _ref4.allowedTagsRegExp;

    return new UU5StringProps(propsString, // buildItemFn uses g05 API; UU5StringProps expects g04 API => convert
    buildItemFn ? function (tag, propsString, children, isPairedTag, initFn, parent) {
      return buildItemFn(tag, propsString, {
        children: children,
        isPairedTag: isPairedTag,
        initFn: initFn,
        parent: parent
      });
    } : undefined);
  }
};

function wrap(obj, methodName, wrapFn) {
  var origFn = obj[methodName];

  obj[methodName] = function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return wrapFn.call.apply(wrapFn, [obj, origFn].concat(args));
  };
}

function isG05Opts(obj) {
  return obj && _typeof(obj) === "object" && Object.keys(obj).length > 0 && ("uu5DataMap" in obj || "templateDataMap" in obj || "initFn" in obj);
}

function omitUndefineds(obj) {
  for (var k in obj) {
    if (obj[k] === undefined) delete obj[k];
  }

  return obj;
}

function getG05BuildItemFn(buildItemG04, defaultFn) {
  // "buildItemG04" accepts g04 parameters (tag, propsString, children, isParedTag, ...); map it
  // to g05 parameters (tag, propsString, opts)
  var result;

  if (buildItemG04 && buildItemG04._g05) {
    result = buildItemG04;
  } else if (buildItemG04 || defaultFn) {
    result = function result(tag, propsString, opts) {
      var fn = buildItemG04 || defaultFn;
      var result = fn(tag, propsString, opts === null || opts === void 0 ? void 0 : opts.children, opts === null || opts === void 0 ? void 0 : opts.isPairedTag, opts === null || opts === void 0 ? void 0 : opts.initFn, opts === null || opts === void 0 ? void 0 : opts.parent);
      return result;
    };

    result._g05 = true;
  } else {
    result = buildItemG04;
  }

  return result;
}

var UU5StringObject = /*#__PURE__*/function (_Uu5String$Object) {
  _inherits(UU5StringObject, _Uu5String$Object);

  var _super2 = _createSuper(UU5StringObject);

  function UU5StringObject(tag, propsString) {
    var _this;

    var children = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
    var isPairedTag = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
    var initFn = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
    var parent = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;

    _classCallCheck(this, UU5StringObject);

    _this = _super2.call(this, tag, propsString, omitUndefineds({
      children: children,
      isPairedTag: isPairedTag,
      parent: parent,
      uu5DataMap: _environment_environment__WEBPACK_IMPORTED_MODULE_1__["default"].uu5DataMap,
      _factory: G04_FACTORY,
      initFn: initFn
    }));
    wrap(_assertThisInitialized(_this), "toString", function (origFn, data, filterFn) {
      if (arguments.length <= 2 && isG05Opts(arguments[1])) return origFn.call(this, arguments[1]); // was called with g05 API

      return origFn.call(this, omitUndefineds({
        templateDataMap: data,
        filterFn: filterFn
      }));
    });
    wrap(_assertThisInitialized(_this), "toPlainText", function (origFn, data, filterFn) {
      if (arguments.length <= 2 && isG05Opts(arguments[1])) return origFn.call(this, arguments[1]); // was called with g05 API

      return origFn.call(this, omitUndefineds({
        templateDataMap: data,
        filterFn: filterFn
      }));
    });
    wrap(_assertThisInitialized(_this), "toChildren", function (origFn, data, filterFn, buildChildFn) {
      if (arguments.length <= 2 && isG05Opts(arguments[1])) return origFn.call(this, arguments[1]); // was called with g05 API

      return origFn.call(this, omitUndefineds({
        templateDataMap: data,
        filterFn: filterFn,
        buildChildFn: typeof buildChildFn === "function" ? buildChildFn : undefined
      }));
    });
    wrap(_assertThisInitialized(_this), "clone", function (origFn) {
      var initFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.initFn;
      if (arguments.length <= 1 || isG05Opts(arguments[1])) return origFn.call(this, arguments[1]); // was called with g05 API

      return origFn.call(this, omitUndefineds({
        initFn: initFn
      }));
    });
    return _this;
  }

  _createClass(UU5StringObject, null, [{
    key: "create",
    value: function create(tag, propsString, children, isPairedTag, initFn, parent) {
      if (arguments.length <= 3 && isG05Opts(arguments[2])) {
        return Uu5String.Object.create(tag, propsString, _objectSpread(_objectSpread({}, arguments[2]), {}, {
          _factory: G04_FACTORY
        }));
      }

      return Uu5String.Object.create(tag, propsString, omitUndefineds({
        children: children,
        isPairedTag: isPairedTag,
        initFn: initFn,
        parent: parent,
        uu5DataMap: _environment_environment__WEBPACK_IMPORTED_MODULE_1__["default"].uu5DataMap,
        _factory: G04_FACTORY
      }));
    }
  }]);

  return UU5StringObject;
}(Uu5String.Object);

var UU5StringProps = /*#__PURE__*/function (_Uu5String$Props) {
  _inherits(UU5StringProps, _Uu5String$Props);

  var _super3 = _createSuper(UU5StringProps);

  function UU5StringProps(propsString, buildItem) {
    var _this2;

    _classCallCheck(this, UU5StringProps);

    _this2 = _super3.call(this, propsString, omitUndefineds({
      buildItemFn: getG05BuildItemFn(buildItem),
      _factory: G04_FACTORY
    }));
    wrap(_assertThisInitialized(_this2), "toString", function (origFn, data, filterFn) {
      if (arguments.length <= 2 && isG05Opts(arguments[1])) return origFn.call(this, arguments[1]); // was called with g05 API

      return origFn.call(this, omitUndefineds({
        templateDataMap: data,
        filterFn: filterFn
      }));
    });
    wrap(_assertThisInitialized(_this2), "toPlainText", function (origFn, data, filterFn) {
      if (arguments.length <= 2 && isG05Opts(arguments[1])) return origFn.call(this, arguments[1]); // was called with g05 API

      return origFn.call(this, omitUndefineds({
        templateDataMap: data,
        filterFn: filterFn
      }));
    });
    wrap(_assertThisInitialized(_this2), "toChildren", function (origFn, data, filterFn, buildChildFn) {
      if (arguments.length <= 2 && isG05Opts(arguments[1])) return origFn.call(this, arguments[1]); // was called with g05 API

      return origFn.call(this, omitUndefineds({
        templateDataMap: data,
        filterFn: filterFn,
        buildChildFn: typeof buildChildFn === "function" ? buildChildFn : undefined
      }));
    });
    wrap(_assertThisInitialized(_this2), "clone", function (origFn, initFn) {
      if (arguments.length <= 1 || isG05Opts(arguments[1])) return origFn.call(this, arguments[1]); // was called with g05 API

      return origFn.call(this, omitUndefineds({
        initFn: initFn
      }));
    });
    return _this2;
  }

  _createClass(UU5StringProps, null, [{
    key: "parse",
    value: function parse(attrsString, buildItem) {
      return Uu5String.Props.parse(attrsString, omitUndefineds({
        buildItemFn: getG05BuildItemFn(buildItem),
        uu5DataMap: _environment_environment__WEBPACK_IMPORTED_MODULE_1__["default"].uu5DataMap
      }));
    }
  }]);

  return UU5StringProps;
}(Uu5String.Props);

var UU5String = /*#__PURE__*/function (_Uu5String) {
  _inherits(UU5String, _Uu5String);

  var _super4 = _createSuper(UU5String);

  function UU5String(uu5string) {
    var _this3;

    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;
    var initFn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

    _classCallCheck(this, UU5String);

    _this3 = _super4.call(this, uu5string, omitUndefineds({
      // intentionally ==, not ===
      templateDataMap: data == null ? data : _objectSpread(_objectSpread({}, EXTRA_TEMPLATE_DATA), data),
      uu5DataMap: _environment_environment__WEBPACK_IMPORTED_MODULE_1__["default"].uu5DataMap,
      _factory: G04_FACTORY,
      initFn: initFn
    }));
    _this3.data = _this3.templateDataMap;
    wrap(_assertThisInitialized(_this3), "toChildren", function (origFn) {
      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.templateDataMap || {};
      var filterFn = arguments.length > 2 ? arguments[2] : undefined;
      var buildChildFn = arguments.length > 3 ? arguments[3] : undefined;
      if (arguments.length <= 2 && isG05Opts(arguments[1])) return origFn.call(this, arguments[1]);
      return origFn.call(this, omitUndefineds({
        templateDataMap: data === null ? data : _objectSpread(_objectSpread({}, EXTRA_TEMPLATE_DATA), data),
        filterFn: filterFn,
        buildChildFn: typeof buildChildFn === "function" ? buildChildFn : undefined
      }));
    });
    wrap(_assertThisInitialized(_this3), "toString", function (origFn) {
      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.templateDataMap || null;
      var filterFn = arguments.length > 2 ? arguments[2] : undefined;
      if (arguments.length <= 2 && isG05Opts(arguments[1])) return origFn.call(this, arguments[1]);
      return origFn.call(this, omitUndefineds({
        templateDataMap: data === null ? data : _objectSpread(_objectSpread({}, EXTRA_TEMPLATE_DATA), data),
        filterFn: filterFn
      }));
    });
    wrap(_assertThisInitialized(_this3), "toPlainText", function (origFn) {
      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.templateDataMap || {};
      var filterFn = arguments.length > 2 ? arguments[2] : undefined;
      if (arguments.length <= 2 && isG05Opts(arguments[1])) return origFn.call(this, arguments[1]);
      return origFn.call(this, omitUndefineds({
        templateDataMap: data === null ? data : _objectSpread(_objectSpread({}, EXTRA_TEMPLATE_DATA), data),
        filterFn: filterFn
      }));
    });
    wrap(_assertThisInitialized(_this3), "clone", function (origFn) {
      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.templateDataMap;
      var initFn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.initFn;
      if (arguments.length <= 2 && isG05Opts(arguments[1])) return origFn.call(this, arguments[1]);
      return origFn.call(this, // intentionally ==, not ===
      omitUndefineds({
        templateDataMap: data == null ? data : _objectSpread(_objectSpread({}, EXTRA_TEMPLATE_DATA), data),
        initFn: initFn
      }));
    });
    return _this3;
  }

  _createClass(UU5String, null, [{
    key: "parse",
    value: function parse(uu5string, buildItem) {
      return Uu5String.parse(uu5string, omitUndefineds({
        uu5DataMap: _environment_environment__WEBPACK_IMPORTED_MODULE_1__["default"].uu5DataMap,
        buildItemFn: getG05BuildItemFn(buildItem, UU5StringObject.create),
        _factory: G04_FACTORY
      }));
    }
  }, {
    key: "toChildren",
    value: function toChildren(uu5string, data, filterFn, buildChildFn) {
      return Uu5String.toChildren(uu5string, omitUndefineds({
        templateDataMap: data === null ? null : _objectSpread(_objectSpread({}, EXTRA_TEMPLATE_DATA), data),
        uu5DataMap: _environment_environment__WEBPACK_IMPORTED_MODULE_1__["default"].uu5DataMap,
        filterFn: filterFn,
        buildChildFn: typeof buildChildFn === "function" ? buildChildFn : undefined
      }));
    }
  }, {
    key: "toString",
    value: function toString(uu5string, data, filterFn) {
      return Uu5String.toString(uu5string, omitUndefineds({
        // intentionally only ==, not ===
        templateDataMap: data == null ? null : _objectSpread(_objectSpread({}, EXTRA_TEMPLATE_DATA), data),
        filterFn: filterFn
      }));
    }
  }, {
    key: "toPlainText",
    value: function toPlainText(uu5string, data, filterFn) {
      return Uu5String.toPlainText(uu5string, omitUndefineds({
        templateDataMap: data === null ? null : _objectSpread(_objectSpread({}, EXTRA_TEMPLATE_DATA), data),
        uu5DataMap: _environment_environment__WEBPACK_IMPORTED_MODULE_1__["default"].uu5DataMap,
        filterFn: filterFn
      }));
    }
  }, {
    key: "contentToChildren",
    value: function contentToChildren(content, data, filterFn, buildChildFn) {
      return Uu5String.contentToChildren(content, omitUndefineds({
        templateDataMap: data === null ? null : _objectSpread(_objectSpread({}, EXTRA_TEMPLATE_DATA), data),
        uu5DataMap: _environment_environment__WEBPACK_IMPORTED_MODULE_1__["default"].uu5DataMap,
        filterFn: filterFn,
        buildChildFn: typeof buildChildFn === "function" ? buildChildFn : undefined
      }));
    }
  }, {
    key: "contentToString",
    value: function contentToString(content, data, filterFn) {
      return Uu5String.contentToString(content, omitUndefineds({
        // intentionally only ==, not ===
        templateDataMap: data == null ? data : _objectSpread(_objectSpread({}, EXTRA_TEMPLATE_DATA), data),
        filterFn: filterFn
      }));
    }
  }, {
    key: "contentToPlainText",
    value: function contentToPlainText(content, data, filterFn) {
      return Uu5String.contentToPlainText(content, omitUndefineds({
        templateDataMap: data === null ? null : _objectSpread(_objectSpread({}, EXTRA_TEMPLATE_DATA), data),
        uu5DataMap: _environment_environment__WEBPACK_IMPORTED_MODULE_1__["default"].uu5DataMap,
        filterFn: filterFn
      }));
    }
  }]);

  return UU5String;
}(Uu5String);

UU5String.Props = UU5StringProps;
UU5String.Object = UU5StringObject;

/* harmony default export */ __webpack_exports__["default"] = (UU5String);

/***/ }),
/* 63 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextCorrectorContextConsumer", function() { return TextCorrectorContextConsumer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextCorrectorComponent", function() { return TextCorrectorComponent; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common_ns_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55);
/* harmony import */ var _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(60);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(16);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(11);
/* harmony import */ var _pure_render_mixin_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(64);
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(18);
/* harmony import */ var _visual_component_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(65);
/* harmony import */ var _text_corrector_less__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(70);
/* harmony import */ var _text_corrector_less__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_text_corrector_less__WEBPACK_IMPORTED_MODULE_10__);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports










 //@@viewOff:imports

var TextCorrectorContextConsumer = Object(_context_js__WEBPACK_IMPORTED_MODULE_8__["withTextCorrectorContext"])(function (props) {
  if (props.checkGrammar || props.checkHighlight || props.checkSpaces || _environment_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"].textCorrector) {
    var extendedProps = _tools_js__WEBPACK_IMPORTED_MODULE_5__["default"].merge(props);

    if (_environment_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"].textCorrector) {
      extendedProps.checkGrammar = extendedProps.checkGrammar !== undefined ? extendedProps.checkGrammar : true;
      extendedProps.checkHighlight = extendedProps.checkHighlight !== undefined ? extendedProps.checkHighlight : true;
      extendedProps.checkSpaces = extendedProps.checkSpaces !== undefined ? extendedProps.checkSpaces : true;
    }

    return UU5.Common.Element.create(TextCorrectorComponent, extendedProps);
  }

  return props.text;
});
TextCorrectorContextConsumer.isUu5PureComponent = true;
TextCorrectorContextConsumer.displayName = _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].name("TextCorrectorContextConsumer");
TextCorrectorContextConsumer.isStateless = true;
var TextCorrectorComponent = _visual_component_js__WEBPACK_IMPORTED_MODULE_9__["default"].create({
  displayName: "TextCorrectorComponent",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"], _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_4__["default"], _pure_render_mixin_js__WEBPACK_IMPORTED_MODULE_7__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].name("TextCorrectorComponent"),
    classNames: {
      main: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].css("text-corrector"),
      error: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].css("text-corrector-error"),
      highlight: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].css("text-corrector-highlight")
    },
    defaults: {
      highlightEvent: _tools_js__WEBPACK_IMPORTED_MODULE_5__["default"].events.highlight
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    text: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string,
    language: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string,
    checkSpaces: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    checkGrammar: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    checkHighlight: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      text: "",
      language: null,
      checkSpaces: false,
      checkGrammar: false,
      checkHighlight: false
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    return {
      text: this._correctSpaces(this.props, this.props.text)
    };
  },
  componentDidMount: function componentDidMount() {
    this._switchHighlight(true);

    this._correctText(this.props, this.state.text, null, true);
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    this._correctText(nextProps, nextProps.text);
  },
  componentWillUnmount: function componentWillUnmount() {
    this._switchHighlight(false);
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _correctSpaces: function _correctSpaces(props, text) {
    var newText = text;

    if (props.checkSpaces) {
      newText = this.replaceByHardSpace(text, props.language);
    }

    return newText;
  },
  _isValidWord: function _isValidWord(word) {
    var result = true;
    var text = /[A-Za-z]+/i.exec(word);

    if (text) {
      result = text[0].toLowerCase() !== "vidra";
    }

    return result;
  },
  _isHighlightWord: function _isHighlightWord(word, searchedText) {
    return word.toLowerCase().indexOf(searchedText) > -1;
  },
  _checkWords: function _checkWords(props, text, searchedTexts) {
    var _this = this;

    var newTextChildren = [];
    var spaceTmp = [];
    var spaceSplitter = text.split(" ");
    spaceSplitter.forEach(function (word) {
      if (word.indexOf(_environment_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"].hardSpace.nbSpace) > -1) {
        var nbspSplitter = word.split(_environment_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"].hardSpace.nbSpace);
        var nbspTmp = [];
        nbspSplitter.forEach(function (word) {
          var newWord = _this._checkWord(props, word, searchedTexts);

          if (typeof newWord === "string") {
            nbspTmp.push(newWord);
          } else {
            if (nbspTmp.length) {
              spaceTmp.push(nbspTmp.join(_environment_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"].hardSpace.nbSpace));
              nbspTmp = [];
            }

            if (spaceTmp.length) {
              newTextChildren.push((newTextChildren.length ? " " : "") + spaceTmp.join(" ") + _environment_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"].hardSpace.nbSpace);
              spaceTmp = [];
            }

            typeof newTextChildren[newTextChildren.length - 1] !== "string" && newTextChildren.push(_environment_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"].hardSpace.nbSpace);
            newTextChildren.push(newWord);
          }
        });

        if (nbspTmp.length) {
          spaceTmp.push(nbspTmp.join(_environment_environment_js__WEBPACK_IMPORTED_MODULE_6__["default"].hardSpace.nbSpace));
          nbspTmp = [];
        }
      } else {
        var newWord = _this._checkWord(props, word, searchedTexts);

        if (typeof newWord === "string") {
          spaceTmp.push(newWord);
        } else {
          if (spaceTmp.length) {
            newTextChildren.push((newTextChildren.length ? " " : "") + spaceTmp.join(" ") + " ");
            spaceTmp = [];
          }

          _typeof(newTextChildren[newTextChildren.length - 1]) === "object" && newTextChildren.push(" ");
          newTextChildren.push(newWord);
        }
      }
    });

    if (spaceTmp.length) {
      newTextChildren.push((newTextChildren.length ? " " : "") + spaceTmp.join(" "));
      spaceTmp = [];
    }

    return uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].Content.toArray(newTextChildren);
  },
  _checkWord: function _checkWord(props, word, searchedTexts) {
    var result = word;

    if (props.checkHighlight && searchedTexts) {
      var searchedText = this._getSearchedText(word, searchedTexts);

      if (searchedText) {
        // full word
        // result = <span className={this.getClassName().highlight}>{word}</span>;
        var startIndex = word.toLowerCase().indexOf(searchedText.toLowerCase());
        var endIndex = startIndex + searchedText.length - 1;
        var searchedPart = word.substr(startIndex, searchedText.length);
        result = [];
        var highlighter = UU5.Common.Element.create("span", {
          className: this.getClassName().highlight
        }, searchedPart);

        if (startIndex > 0) {
          result.push(word.substr(0, endIndex + 1 - searchedPart.length));
        }

        result.push(highlighter);

        if (endIndex < word.length - 1) {
          result.push(word.substr(endIndex + 1, word.length - endIndex - 1));
        }
      }
    }

    if (props.checkGrammar && !this._isValidWord(word)) {
      result = UU5.Common.Element.create("span", {
        className: this.getClassName().error
      }, Array.isArray(result) ? uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].Content.toArray(result) : result);
    }

    return result;
  },
  _correctText: function _correctText(props, text, searchedTexts, isDidMount) {
    var newText = text;

    if (!isDidMount && props.checkSpaces) {
      newText = this._correctSpaces(props, text);
    }

    if (props.checkGrammar || props.checkHighlight && searchedTexts) {
      newText = this._checkWords(props, newText || text, searchedTexts);
    }

    if (!isDidMount || text !== newText) {
      this.setState({
        text: newText,
        searchedTexts: searchedTexts
      });
    }

    return this;
  },
  _switchHighlight: function _switchHighlight(start) {
    if (this.props.checkHighlight) {
      if (start) {
        window.UU5.Environment.EventListener.registerHighlight(this.getId(), this._checkHighlight);
      } else {
        window.UU5.Environment.EventListener.unregisterHighlight(this.getId(), this._checkHighlight);
      }
    }

    return this;
  },
  _getSearchedText: function _getSearchedText(text, searchedTexts) {
    var result = null;
    text = text.toLowerCase();

    for (var i = 0; i < searchedTexts.length; i++) {
      if (text.indexOf(searchedTexts[i].toLowerCase()) > -1) {
        result = searchedTexts[i];
        break;
      }
    }

    return result;
  },
  _checkHighlight: function _checkHighlight(searchedTexts) {
    if (searchedTexts && searchedTexts.length > 0) {
      searchedTexts = Array.isArray(searchedTexts) ? searchedTexts : [searchedTexts];
    } else {
      searchedTexts = null;
    }

    if (!searchedTexts || this.state.searchedTexts || this._getSearchedText(this.props.text, searchedTexts)) {
      this._correctText(this.props, this.props.text, searchedTexts);
    }

    return this;
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    return this.state.text;
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (TextCorrectorContextConsumer);

/***/ }),
/* 64 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PureRenderMixin", function() { return PureRenderMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */


var PureRenderMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.PureRenderMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"]
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    pureRender: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      pureRender: false
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.PureRenderMixin"); // state

    return {};
  },
  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {
    var shouldUpdate;

    if (!this.props.pureRender && !this.getOpt("pureRender")) {
      shouldUpdate = true;
    } else if (typeof this.shouldComponentUpdate_ === "function") {
      shouldUpdate = this.shouldComponentUpdate_(nextProps, nextState);
    } else {
      shouldUpdate = this.shouldComponentUpdateDefault(nextProps, nextState);
    }

    return shouldUpdate;
  },
  shouldComponentUpdateDefault: function shouldComponentUpdateDefault(nextProps, nextState) {
    return this.shouldRender(nextProps, nextState);
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonPureRenderMixin: function hasUU5CommonPureRenderMixin() {
    return this.hasMixin("UU5.Common.PureRenderMixin");
  },
  getUU5CommonPureRenderMixinProps: function getUU5CommonPureRenderMixinProps() {
    return {
      pureRender: this.props.pureRender
    };
  },
  getUU5CommonPureRenderMixinPropsToPass: function getUU5CommonPureRenderMixinPropsToPass() {
    return this.getUU5CommonPureRenderMixinProps();
  } //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (PureRenderMixin);

/***/ }),
/* 65 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VisualComponent", function() { return VisualComponent; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _component_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(66);
/* harmony import */ var _component_processors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(69);
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports



 // import { SYMBOL_COMPONENT, SYMBOL_INIT, SYMBOL_GUARD } from "./component-symbols";
//@@viewOff:imports

_component_processors_js__WEBPACK_IMPORTED_MODULE_3__["preprocessors"].push(addBasicVisualPropsPreprocessor);
var VisualComponent = /*#__PURE__*/function () {
  function VisualComponent() {
    _classCallCheck(this, VisualComponent);
  }

  _createClass(VisualComponent, null, [{
    key: "create",
    value: function create(componentDescriptor) {
      return Object(_component_js__WEBPACK_IMPORTED_MODULE_2__["createComponent"])(componentDescriptor, true);
    }
  }, {
    key: "getAttrs",
    value: function getAttrs(props, nextClassName) {
      var attrs = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].VisualComponent.getAttrs(_objectSpread(_objectSpread({}, props), {}, {
        elementAttrs: props.mainAttrs
      }), nextClassName);
      delete attrs.ref;
      return attrs;
    }
  }]);

  return VisualComponent;
}();

_defineProperty(VisualComponent, "propTypes", Object.freeze({
  id: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  className: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
  style: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object]),
  disabled: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
  hidden: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
  mainAttrs: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
  noIndex: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
  nestingLevel: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(_environment_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].nestingLevelList)
}));

_defineProperty(VisualComponent, "defaultProps", Object.freeze({
  id: undefined,
  className: undefined,
  style: undefined,
  disabled: undefined,
  hidden: undefined,
  mainAttrs: undefined,
  noIndex: undefined,
  nestingLevel: undefined
}));

function addBasicVisualPropsPreprocessor(componentDescriptor) {
  var mixins = componentDescriptor.mixins,
      propTypes = componentDescriptor.propTypes; // add standard visual props if no mixin is used

  if (!mixins || mixins.length === 0) {
    if (typeof propTypes !== "function") {
      componentDescriptor.propTypes = _objectSpread(_objectSpread({}, VisualComponent.propTypes), propTypes);

      if (componentDescriptor.defaultProps) {
        componentDescriptor.defaultProps = _objectSpread(_objectSpread({}, VisualComponent.defaultProps), componentDescriptor.defaultProps);
      } else if (typeof componentDescriptor.getDefaultProps === "function") {
        var origGDP = componentDescriptor.getDefaultProps;

        componentDescriptor.getDefaultProps = function () {
          var result = origGDP.apply(this);
          return _objectSpread(_objectSpread({}, VisualComponent.defaultProps), result);
        };
      } else {
        componentDescriptor.defaultProps = VisualComponent.defaultProps;
      }
    }
  }

  return componentDescriptor;
}

addBasicVisualPropsPreprocessor.isVisual = true;
/* harmony default export */ __webpack_exports__["default"] = (VisualComponent);

/***/ }),
/* 66 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createComponent", function() { return createComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Component", function() { return Component; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67);
/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _suspense_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(68);
/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(19);
/* harmony import */ var _component_processors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(69);
/* harmony import */ var _utils_logger_factory_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(24);
/* harmony import */ var _utils_logger_factory_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_utils_logger_factory_js__WEBPACK_IMPORTED_MODULE_5__);
var _excluded = ["getProps", "component"];

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports





 //@@viewOff:imports

function createComponent(componentDescriptor) {
  var isVisual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var ctx = {};

  var _iterator = _createForOfIteratorHelper(_component_processors_js__WEBPACK_IMPORTED_MODULE_4__["preprocessors"]),
      _step;

  try {
    for (_iterator.s(); !(_step = _iterator.n()).done;) {
      var processor = _step.value;
      if (isVisual || !processor.isVisual) processor(componentDescriptor, ctx); // non-visual processors are run always; visual processors only when creating visualComponent
    }
  } catch (err) {
    _iterator.e(err);
  } finally {
    _iterator.f();
  }

  var result = _doCreate(componentDescriptor);

  var _iterator2 = _createForOfIteratorHelper(_component_processors_js__WEBPACK_IMPORTED_MODULE_4__["postprocessors"]),
      _step2;

  try {
    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
      var _processor = _step2.value;
      if (isVisual || !_processor.isVisual) result = _processor(result, componentDescriptor, ctx);
    }
  } catch (err) {
    _iterator2.e(err);
  } finally {
    _iterator2.f();
  }

  var logger;
  Object.defineProperty(result, "logger", {
    get: function get() {
      if (!logger) logger = _utils_logger_factory_js__WEBPACK_IMPORTED_MODULE_5__["LoggerFactory"].get(result.tagName || result.displayName || "UnnamedComponent");
      return logger;
    },
    set: function set(value) {
      logger = value;
    }
  });
  return result;
}

function _doCreate(componentDescriptor) {
  var defaultProps = componentDescriptor.defaultProps,
      displayName = componentDescriptor.displayName; // replace defaultProps with getDefaultProps() method as required by createReactClass

  if (defaultProps) {
    if ( true && componentDescriptor.getDefaultProps) {
      var name = (componentDescriptor.statics || {}).tagName || displayName;
      console.warn("Component ".concat(name, " is specified with 'defaultProps' as well as with 'getDefaultProps'. Only 'defaultProps' will be used, you should remove 'getDefaultProps'."), componentDescriptor);
    }

    delete componentDescriptor.defaultProps;

    componentDescriptor.getDefaultProps = function () {
      return defaultProps;
    };
  } // add tagName so that ContentMixin still considers this a uu5 component


  if (displayName && (!componentDescriptor.statics || !componentDescriptor.statics.tagName)) {
    componentDescriptor.statics || (componentDescriptor.statics = {});
    componentDescriptor.statics.tagName = displayName;
  } // rename relevant functions to UNSAFE_ to prevent deprecation warning in newer React


  var componentWillReceiveProps = componentDescriptor.componentWillReceiveProps,
      componentWillMount = componentDescriptor.componentWillMount,
      componentWillUpdate = componentDescriptor.componentWillUpdate;

  if (componentWillReceiveProps) {
    componentDescriptor.UNSAFE_componentWillReceiveProps = componentWillReceiveProps;
    delete componentDescriptor.componentWillReceiveProps;
  }

  if (componentWillMount) {
    componentDescriptor.UNSAFE_componentWillMount = componentWillMount;
    delete componentDescriptor.componentWillMount;
  }

  if (componentWillUpdate) {
    componentDescriptor.UNSAFE_componentWillUpdate = componentWillUpdate;
    delete componentDescriptor.componentWillUpdate;
  }

  var result = create_react_class__WEBPACK_IMPORTED_MODULE_1___default()(componentDescriptor);

  if (result.tagName && !result.displayName) {
    result.displayName = result.tagName;
  }

  return result;
}

var Component = {
  create: function create(componentDescriptor) {
    return createComponent(componentDescriptor, false);
  },
  createHoc: function createHoc(args) {
    var getProps = args.getProps,
        component = args.component,
        comp = _objectWithoutProperties(args, _excluded);

    var Comp = component;

    if (typeof getProps !== "function") {
      var msg = 'Function "getProps" is missing.';
      console.error(msg, args);
      throw msg;
    } else if (!Comp) {
      var _msg = "Component is missing.";
      console.error(_msg, args);
      throw _msg;
    } else if (_element__WEBPACK_IMPORTED_MODULE_3__["default"].isValid(Comp)) {
      var _msg2 = "Component is an element like <Component />. Set component without <>.";
      console.error(_msg2, args);
      throw _msg2;
    }

    comp = _objectSpread(_objectSpread({}, comp), {}, {
      render: function render() {
        return UU5.Common.Element.create(Comp, getProps(this.props));
      }
    });
    return Component.create(comp);
  },
  lazy: function lazy() {
    return _suspense_js__WEBPACK_IMPORTED_MODULE_2__["lazy"].apply(void 0, arguments);
  },
  memo: function memo() {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.memo.apply(react__WEBPACK_IMPORTED_MODULE_0___default.a, arguments);
  }
};
/* harmony default export */ __webpack_exports__["default"] = (Component);

/***/ }),
/* 67 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE__67__;

/***/ }),
/* 68 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Suspense", function() { return Suspense; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lazy", function() { return lazy; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67);
/* harmony import */ var create_react_class__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(create_react_class__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(18);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */




var LazyContext = _context_js__WEBPACK_IMPORTED_MODULE_3__["default"].create({
  loading: ""
});
var Suspense = react__WEBPACK_IMPORTED_MODULE_0___default.a.Suspense || function (props) {
  return (// eslint-disable-next-line react/prop-types
    UU5.Common.Element.create(LazyContext.Provider, {
      value: {
        loading: props.fallback
      }
    }, props.children)
  );
};
var LazyComponent = create_react_class__WEBPACK_IMPORTED_MODULE_1___default()({
  displayName: "LazyComponent",
  mixins: [],
  statics: {
    getDerivedStateFromError: function getDerivedStateFromError(error) {
      return {
        error: error
      };
    },
    opt: {
      hoc: true
    }
  },
  propTypes: {
    importFn: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].func.isRequired,
    loading: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].node,
    fallback: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].node,
    props: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].object
  },
  getDefaultProps: function getDefaultProps() {
    return {
      importFn: null,
      loading: null,
      fallback: null,
      props: null
    };
  },
  getInitialState: function getInitialState() {
    return {
      error: null,
      component: null
    };
  },
  componentDidMount: function componentDidMount() {
    var _this = this;

    this.props.importFn().then(function (_ref) {
      var result = _ref.result,
          error = _ref.error;
      !_this._isUnmounted && _this.setState({
        component: result && result.default,
        error: error
      });
    });
  },
  componentWillUnmount: function componentWillUnmount() {
    this._isUnmounted = true;
  },
  render: function render() {
    return this.state.component ? UU5.Common.Element.create(this.state.component, this.props.props) : this.props.loading || this.props.fallback;
  }
});
var lazy = react__WEBPACK_IMPORTED_MODULE_0___default.a.lazy || function (importFn) {
  var importFnPromise;

  var usedImportFn = function usedImportFn() {
    // call importFn at most once
    if (!importFnPromise) {
      importFnPromise = importFn().then(function (result) {
        return {
          result: result,
          error: null
        };
      }, function (error) {
        console.error(error);
        return {
          result: null,
          error: error
        };
      });
    }

    return importFnPromise;
  };

  return function (props) {
    return UU5.Common.Element.create(LazyContext.Consumer, null, function (_ref2) {
      var loading = _ref2.loading;
      return UU5.Common.Element.create(LazyComponent, {
        loading: loading,
        importFn: usedImportFn,
        props: props
      });
    });
  };
};
/* harmony default export */ __webpack_exports__["default"] = ({
  Suspense: Suspense,
  lazy: lazy
});

/***/ }),
/* 69 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "preprocessors", function() { return preprocessors; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "postprocessors", function() { return postprocessors; });
// this is separated from visual-component.js to prevent cyclic dependencies
var preprocessors = [];
var postprocessors = [];

/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(71);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(35)();
};

var update = __webpack_require__(36)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(34);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".uu5-common-text-corrector-error {\n  text-decoration: none;\n  position: relative;\n}\n.uu5-common-text-corrector-error::after {\n  content: '~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~';\n  position: absolute;\n  width: 100%;\n  left: 0;\n  overflow: hidden;\n  top: 35%;\n  letter-spacing: -0.2em;\n  color: red;\n  pointer-events: none;\n}\n.uu5-common-text-corrector-highlight {\n  background-color: #5bc0de;\n  color: #fff;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(73);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(35)();
};

var update = __webpack_require__(36)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(34);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "/* Following variables are available to uuApps / libraries using uu5g04 library.\n   This file can be imported using:\n    import \"~uu5g04/dist/tools.less\";\n*/\n/***************** FLEX start *****************/\n/* @deprecated */\n/***************** FLEX end *****************/\n/***************** ANIMATIONS start *****************/\n/* @deprecated */\n/***************** ANIMATIONS end *****************/\n/***************** LAYOUT start *****************/\n/* @deprecated */\n/***************** LAYOUT end *****************/\n.uu5-common-div {\n  line-height: 1.5;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 74 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Level", function() { return Level; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _base_mixin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(55);
/* harmony import */ var _elementary_mixin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(60);
/* harmony import */ var _content_mixin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(61);
/* harmony import */ var _visual_component_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(65);
/* harmony import */ var _element_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(19);
/* harmony import */ var _uu5g05_integration_use_level_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(50);
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

//@@viewOn:imports







 //@@viewOff:imports

var Level = _visual_component_js__WEBPACK_IMPORTED_MODULE_5__["default"].create({
  displayName: "Level",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin__WEBPACK_IMPORTED_MODULE_2__["default"], _elementary_mixin__WEBPACK_IMPORTED_MODULE_3__["default"], _content_mixin__WEBPACK_IMPORTED_MODULE_4__["default"]],
  // eslint-disable-line uu5/base-mixin
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: "UU5.Common.Level"
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    level: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOf(["0", "1", "2", "3", "4", "5", "6", 0, 1, 2, 3, 4, 5, 6])
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      level: undefined
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _getChildren: function _getChildren(ctxValue) {
    var children;

    if (typeof this.props.children === "function") {
      children = this.props.children(ctxValue);
    } else {
      children = this.getChildren().map(function (child) {
        var newChild = child;

        if (_element_js__WEBPACK_IMPORTED_MODULE_6__["default"].isValid(child)) {
          newChild = _element_js__WEBPACK_IMPORTED_MODULE_6__["default"].clone(child, ctxValue);
        }

        return newChild;
      });
    }

    return children;
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var _this = this;

    return UU5.Common.Element.create(_uu5g05_integration_use_level_js__WEBPACK_IMPORTED_MODULE_7__["LevelContext"].Consumer, null, function (context) {
      var level = _this.props.level != null ? +_this.props.level : Object(_uu5g05_integration_use_level_js__WEBPACK_IMPORTED_MODULE_7__["computeComponentLevel"])(context);

      var value = _objectSpread(_objectSpread({}, context), {}, {
        level: level
      });

      delete value.isDummyLevel;
      return UU5.Common.Element.create(_uu5g05_integration_use_level_js__WEBPACK_IMPORTED_MODULE_7__["LevelContext"].Provider, {
        value: value
      }, _this._getChildren(value));
    });
  } //@@viewOff:render

});
Level.Consumer = _uu5g05_integration_use_level_js__WEBPACK_IMPORTED_MODULE_7__["LevelContext"].Consumer;
Level.Provider = _uu5g05_integration_use_level_js__WEBPACK_IMPORTED_MODULE_7__["LevelContext"].Provider;
Level.Context = _uu5g05_integration_use_level_js__WEBPACK_IMPORTED_MODULE_7__["LevelContext"];
Level.computeComponentLevel = _uu5g05_integration_use_level_js__WEBPACK_IMPORTED_MODULE_7__["computeComponentLevel"];
/* harmony default export */ __webpack_exports__["default"] = (Level);

/***/ }),
/* 75 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Error", function() { return Error; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_ns_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(55);
/* harmony import */ var _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(60);
/* harmony import */ var _nesting_level_mixin_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(48);
/* harmony import */ var _content_mixin_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(61);
/* harmony import */ var _div_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(58);
/* harmony import */ var _pure_render_mixin_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(64);
/* harmony import */ var _color_schema_mixin_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(76);
/* harmony import */ var _class_names_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(44);
/* harmony import */ var _visual_component_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(65);
/* harmony import */ var _error_less__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(77);
/* harmony import */ var _error_less__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_error_less__WEBPACK_IMPORTED_MODULE_13__);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports













 //@@viewOff:imports

var Error = _visual_component_js__WEBPACK_IMPORTED_MODULE_12__["default"].create({
  displayName: "Error",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_4__["default"], _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_5__["default"], _nesting_level_mixin_js__WEBPACK_IMPORTED_MODULE_6__["default"], _content_mixin_js__WEBPACK_IMPORTED_MODULE_7__["default"], _pure_render_mixin_js__WEBPACK_IMPORTED_MODULE_9__["default"], _color_schema_mixin_js__WEBPACK_IMPORTED_MODULE_10__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].name("Error"),
    nestingLevelList: _environment_environment_js__WEBPACK_IMPORTED_MODULE_3__["default"].getNestingLevelList("smallBox", "inline"),
    classNames: {
      main: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error"),
      silent: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-silent"),
      nestingLevelSmallBox: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-small-box"),
      nestingLevelInline: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-inline"),
      icon: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-icon"),
      mainWrapper: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-main-wrapper"),
      iconWrapper: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-icon-wrapper"),
      content: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-content"),
      preWrapper: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-pre-wrapper"),
      pre: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-pre"),
      errorDetails: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-details"),
      errorDetailsButton: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-details-button"),
      errorDetailsBody: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-details-body"),
      errorDetailsOpen: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-details-open"),
      errorInfo: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-info"),
      copyButton: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("error-copy-info-button")
    },
    defaults: {
      content: "Error"
    },
    opt: {
      nestingLevelWrapper: true
    },
    lsi: function lsi() {
      return _environment_environment_js__WEBPACK_IMPORTED_MODULE_3__["default"].Lsi.Common.error;
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    errorData: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].object,
    errorDataSpace: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number,
    // TODO: set deprecated
    error: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].shape({
      stack: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string,
      name: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string,
      message: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string
    }),
    silent: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].bool,
    inline: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].bool,
    moreInfo: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].bool,
    errorInfo: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].any,
    // any - contact info link (ex. link to helpdesk)
    bgStyle: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].oneOf(["filled", "outline", "transparent", "underline"]),
    borderRadius: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].number]),
    elevation: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].oneOf(["-1", "0", "1", "2", "3", "4", "5", -1, 0, 1, 2, 3, 4, 5])
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      errorData: null,
      errorDataSpace: null,
      // TODO: set deprecated
      error: null,
      silent: false,
      inline: false,
      moreInfo: false,
      errorInfo: null,
      bgStyle: "filled",
      borderRadius: undefined,
      elevation: undefined
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    return {
      errorDetails: false
    };
  },
  componentDidMount: function componentDidMount() {
    if (this._errorElement) {
      this._errorElement.style.maxHeight = this.state.errorDetails ? this._errorElement.scrollHeight + 1 + "px" : "0px";
    }
  },
  componentDidUpdate: function componentDidUpdate() {
    if (this._errorElement) {
      this._errorElement.style.maxHeight = this.state.errorDetails ? this._errorElement.scrollHeight + 1 + "px" : "0px";
    }
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _getMainAttrs: function _getMainAttrs() {
    var attrs = this.getMainAttrs();

    switch (this.props.inline ? "inline" : this.getNestingLevel()) {
      case "inline":
        attrs.className += " " + this.getClassName("nestingLevelInline");
        break;

      default:
        attrs.className += " " + this.getClassName("nestingLevelSmallBox");
    }

    if (this.props.silent) {
      attrs.className += " " + this.getClassName("silent");
    }

    if (this.state.errorDetails) {
      attrs.className += " " + this.getClassName("errorDetailsOpen");
    }

    if (this.props.borderRadius) {
      attrs.style = _objectSpread(_objectSpread({}, attrs.style), {
        borderRadius: this.props.borderRadius
      });
    }

    if (this.props.bgStyle) {
      attrs.className += " " + _class_names_js__WEBPACK_IMPORTED_MODULE_11__["default"][this.props.bgStyle];
    }

    if (this.props.elevation) {
      attrs.className += " " + _class_names_js__WEBPACK_IMPORTED_MODULE_11__["default"].elevation + this.props.elevation;
    }

    return attrs;
  },
  _getContent: function _getContent() {
    var message = this.getChildren() || this.getDefault().content;
    var errorData;

    if (this.props.errorData && !this.props.moreInfo) {
      errorData = UU5.Common.Element.create("div", {
        className: this.getClassName("preWrapper"),
        key: "errorData"
      }, UU5.Common.Element.create("pre", {
        className: this.getClassName("pre")
      }, JSON.stringify(this.props.errorData, null, 2)));
    }

    return errorData ? [message, errorData] : message;
  },
  _setErrorRef: function _setErrorRef(ref) {
    this._errorElement = ref;
  },
  _getMessageString: function _getMessageString(message) {
    if (message.props && message.props.lsi) {
      if (_typeof(message.props.lsi) === "object") {
        var language = Object.keys(message.props.lsi).find(function (language) {
          return language.match(/^en/);
        });

        if (!language) {
          language = Object.keys(message.props.lsi)[0];
        }

        message = message.props.lsi[language];
      }

      if (message.props && message.props.children) {
        while (message && message.props && message.props.children) {
          message = message.props.children;
        }
      }
    }

    return message.toString();
  },
  _getMoreInfoContent: function _getMoreInfoContent(message) {
    var content = this._getErrorDetailContent(message);

    var className = this.getClassName("errorDetails");
    this.props.silent && (className += " " + this.getClassName("silent"));
    return UU5.Common.Element.create("div", {
      className: className,
      key: "errorDetails"
    }, UU5.Common.Element.create("a", {
      className: this.getClassName("errorDetailsButton"),
      onClick: this._errorDetailsToggle
    }, this.getLsiComponent(this.state.errorDetails ? "hideErrorDetails" : "showErrorDetails"), this.state.errorDetails ? UU5.Common.Element.create("span", {
      className: "mdi mdi-menu-up " + this.getClassName("icon")
    }) : UU5.Common.Element.create("span", {
      className: "mdi mdi-menu-down " + this.getClassName("icon")
    })), UU5.Common.Element.create("div", {
      id: this.getId() + "-error",
      className: this.getClassName("errorDetailsBody"),
      style: {
        visibility: this.state.errorDetails ? "" : "hidden"
      },
      ref: this._setErrorRef
    }, this.props.errorInfo ? UU5.Common.Element.create(_div_js__WEBPACK_IMPORTED_MODULE_8__["default"], {
      className: this.getClassName("errorInfo"),
      content: this.props.errorInfo
    }) : null, UU5.Common.Element.create("div", {
      className: this.getClassName("preWrapper")
    }, UU5.Common.Element.create(UU5.Bricks.Button, {
      className: this.getClassName("copyButton"),
      content: this.getLsiComponent("copyButton"),
      onClick: function onClick() {
        return UU5.Common.Tools.copyToClipboard(JSON.stringify(content, null, 2));
      }
    }), UU5.Common.Element.create("pre", {
      className: this.getClassName("pre")
    }, JSON.stringify(content, null, 2)))));
  },
  _getErrorDetailContent: function _getErrorDetailContent(message) {
    var session = _environment_environment_js__WEBPACK_IMPORTED_MODULE_3__["default"].getSession();
    var navigator = window.navigator || {};

    var errorMessage = this._getMessageString(message);

    this.props.error && this.props.error.message && (errorMessage = this.props.error.message);
    var stackTrace;

    if (this.props.error) {
      stackTrace = this.props.error.stack;
    }

    return {
      message: errorMessage,
      data: this.props.errorData,
      stackTrace: stackTrace && "development" !== "test" ? stackTrace.split("\n") : [],
      uuIdentity: session ? session.uuIdentity : null,
      url: window.location.href.replace(/([?&](?:access_token|uuAT)=)[^&#]*/g, "$1..."),
      time:  true ? new Date().toISOString() : undefined,
      navigator: {
        appCodeName: navigator.appCodeName,
        appName: navigator.appName,
        appVersion: navigator.appVersion,
        connection: navigator.connection,
        cookieEnabled: navigator.cookieEnabled,
        doNotTrack: navigator.doNotTrack,
        hardwareConcurrency: navigator.hardwareConcurrency,
        language: navigator.language,
        languages: navigator.languages,
        maxTouchPoints: navigator.maxTouchPoints,
        onLine: navigator.onLine,
        platform: navigator.platform,
        product: navigator.product,
        productSub: navigator.productSub,
        userAgent: navigator.userAgent,
        vendor: navigator.vendor,
        vendorSub: navigator.vendorSub
      },
      libs: this._getRuntimeLibraries()
    };
  },
  _getRuntimeLibraries: function _getRuntimeLibraries() {
    var libraries = {};
    libraries[_environment_environment_js__WEBPACK_IMPORTED_MODULE_3__["default"].name] = _environment_environment_js__WEBPACK_IMPORTED_MODULE_3__["default"].version;
    var runtimeLibraries = _environment_environment_js__WEBPACK_IMPORTED_MODULE_3__["default"].getRuntimeLibraries();
    Object.keys(runtimeLibraries).forEach(function (key) {
      libraries[key] = runtimeLibraries[key].version;
    });
    return libraries;
  },
  _errorDetailsToggle: function _errorDetailsToggle() {
    this.setState(function (state) {
      return {
        errorDetails: !state.errorDetails
      };
    });
    return this;
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var component;

    switch (this.props.inline ? "inline" : this.getNestingLevel()) {
      case "smallBox":
        component = UU5.Common.Element.create("div", this._getMainAttrs(), UU5.Common.Element.create("div", {
          className: this.getClassName("mainWrapper")
        }, UU5.Common.Element.create("div", {
          className: this.getClassName("iconWrapper")
        }, UU5.Common.Element.create("span", {
          className: "mdi mdi-alert-circle " + this.getClassName("icon")
        })), UU5.Common.Element.create("div", {
          className: this.getClassName().content
        }, this._getContent())), this.props.moreInfo && this._getMoreInfoContent(this.props.content || this.props.children || this.getDefault().content), this.getDisabledCover());
        break;

      case "inline":
        component = UU5.Common.Element.create("span", this._getMainAttrs(), this._getContent(), this.getDisabledCover());
        break;

      default:
        component = null;
    }

    return component;
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (Error);

/***/ }),
/* 76 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorSchemaMixin", function() { return ColorSchemaMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */


var ColorSchemaMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.ColorSchemaMixin": {
      classNames: {
        main: "getMainClassUU5CommonColorSchemaMixin"
      },
      defaults: {
        mainClassPrefix: "color-schema-"
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    // must be function because of dynamic adding color into colorSchema
    colorSchema: function colorSchema(props, propName, componentName) {
      if (props[propName] && !_environment_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].colorSchemaMap[props[propName]]) {
        return new Error("Invalid prop `" + propName + "` with value `" + props[propName] + "` supplied to" + " `" + componentName + "`. Validation failed.");
      }
    }
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      colorSchema: null
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    this.registerMixin("UU5.Common.ColorSchemaMixin"); // in state, so every component can change color dynamically

    return {};
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonColorSchemaMixin: function hasUU5CommonColorSchemaMixin() {
    return this.hasMixin("UU5.Common.ColorSchemaMixin");
  },
  getColorSchema: function getColorSchema() {
    var colorSchema = this.props.colorSchema || (this.getDefault() ? this.getDefault().colorSchema : null);
    return _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].getColorSchema(colorSchema);
  },
  getUU5CommonColorSchemaMixinProps: function getUU5CommonColorSchemaMixinProps() {
    return {
      colorSchema: this.props.colorSchema
    };
  },
  getUU5CommonColorSchemaMixinPropsToPass: function getUU5CommonColorSchemaMixinPropsToPass() {
    return {};
  },
  getMainClassUU5CommonColorSchemaMixin: function getMainClassUU5CommonColorSchemaMixin() {
    var colorSchema = this.getColorSchema();
    var result = "";

    if (colorSchema) {
      result = this.getDefault("mainClassPrefix", "UU5.Common.ColorSchemaMixin") + colorSchema;

      if (this.props.colorSchema !== this._getOriginalColorSchema() && this.props.colorSchema) {
        result += " " + this.getDefault("mainClassPrefix", "UU5.Common.ColorSchemaMixin") + this.props.colorSchema;
      }
    }

    return result;
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _getOriginalColorSchema: function _getOriginalColorSchema() {
    var color = null;
    var colorSchema = this.props.colorSchema || (this.getDefault() ? this.getDefault().colorSchema : null);
    var colorSchemaObj = _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].colorSchemaMap[colorSchema];

    if (colorSchemaObj) {
      color = colorSchemaObj.originalColor || colorSchemaObj.color || null;
    }

    return color;
  } //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (ColorSchemaMixin);

/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(78);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(35)();
};

var update = __webpack_require__(36)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 78 */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(34);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "/* Following variables are available to uuApps / libraries using uu5g04 library.\n   This file can be imported using:\n    import \"~uu5g04/dist/tools.less\";\n*/\n/***************** FLEX start *****************/\n/* @deprecated */\n/***************** FLEX end *****************/\n/***************** ANIMATIONS start *****************/\n/* @deprecated */\n/***************** ANIMATIONS end *****************/\n/***************** LAYOUT start *****************/\n/* @deprecated */\n/***************** LAYOUT end *****************/\n.uu5-common-error {\n  padding: 8px;\n  line-height: 1.5;\n}\n.uu5-common-error,\n.uu5-common-error.uu5-common-bg-style-filled {\n  color: #D50000;\n  background-color: #FFEBEE;\n}\n.uu5-common-error-main-wrapper {\n  display: flex;\n}\n.uu5-common-error-content {\n  overflow: auto;\n  padding: 6px 0px;\n  width: 100%;\n}\n.uu5-common-error-details {\n  text-align: center;\n  padding-top: 2px;\n  color: rgba(0, 0, 0, 0.87);\n  line-height: 1.5;\n  width: 100%;\n}\n.uu5-common-error-details-body {\n  text-align: initial;\n  overflow: hidden;\n  transition: max-height 1s ease 0s, visibility 1s ease 0s;\n}\n.uu5-common-error-details-body .uu5-common-error-pre-wrapper {\n  padding: 12px 8px 8px 8px;\n}\n.uu5-common-error-info {\n  display: block;\n  text-align: center;\n  padding: 6px 8px;\n  margin: 8px 8px 0px 8px;\n  background-color: #FFFFFF;\n}\n.uu5-common-error-info + .uu5-common-error-pre-wrapper {\n  padding: 4px 8px 8px 8px;\n}\n.uu5-common-error-pre-wrapper {\n  padding: 4px 0 0 0;\n  position: relative;\n}\n.uu5-common-error-pre-wrapper .uu5-common-error-copy-info-button {\n  position: absolute;\n  right: 16px;\n  top: 20px;\n  opacity: 0;\n  transition: opacity 0.25s linear;\n}\n.uu5-common-error-pre-wrapper:hover .uu5-common-error-copy-info-button {\n  opacity: 1;\n}\n.uu5-common-error-pre {\n  background-color: #ffffff;\n  border-radius: 2px;\n  border: none;\n  padding: 16px;\n  display: block;\n  word-break: break-all;\n  word-wrap: break-word;\n  margin: 0;\n  font-family: Courier, monospace;\n  font-size: 12px;\n  line-height: 1.5;\n  overflow-x: auto;\n  text-align: left;\n}\n.uu5-common-error.uu5-common-bg-style-transparent .uu5-common-error-pre {\n  background-color: transparent;\n}\n.uu5-common-error-small-box {\n  min-height: 48px;\n  display: flex;\n  flex-direction: column;\n}\n.uu5-common-error-inline {\n  display: inline;\n  padding: 0;\n}\n.uu5-common-error-details-button {\n  cursor: pointer;\n  font-family: ClearSans-medium;\n  font-size: 12px;\n  display: inline-block;\n  padding: 1px;\n}\n.uu5-common-error-details-button .uu5-common-error-icon {\n  font-size: 16px;\n}\n.uu5-common-error-icon-wrapper {\n  height: 32px;\n  padding-right: 16px;\n  font-size: 32px;\n  display: flex;\n  align-items: center;\n}\n.uu5-common-error-icon {\n  display: inline-flex;\n  font-style: normal;\n  font-weight: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n@media screen and (max-width: 480px) {\n  .uu5-common-error {\n    padding: 8px;\n  }\n  .uu5-common-error-inline {\n    padding: 0px;\n  }\n  .uu5-common-error-icon-wrapper {\n    display: none;\n  }\n  .uu5-common-error-content {\n    padding: 8px;\n  }\n  .uu5-common-error-details {\n    padding: 8px 0 0 0;\n  }\n  .uu5-common-error-details-body {\n    padding: 16px 0 0 0;\n  }\n  .uu5-common-error-details-button {\n    font-size: 14px;\n    padding: 1px 0px;\n    display: inline-block;\n  }\n  .uu5-common-error-details-button .uu5-common-error-icon {\n    font-size: 20px;\n  }\n  .uu5-common-error-pre {\n    padding: 8px;\n  }\n}\n.color-schema-default .uu5-common-error:not([class*=\"color-schema-\"]).uu5-common-bg-style-filled,\n.color-schema-default.uu5-common-error.uu5-common-bg-style-filled {\n  color: #D50000;\n  background-color: #FFEBEE;\n}\n.color-schema-default .uu5-common-error:not([class*=\"color-schema-\"]).uu5-common-bg-style-outline,\n.color-schema-default.uu5-common-error.uu5-common-bg-style-outline,\n.color-schema-default .uu5-common-error:not([class*=\"color-schema-\"]).uu5-common-bg-style-underline,\n.color-schema-default.uu5-common-error.uu5-common-bg-style-underline {\n  border-color: #D50000;\n}\n.color-schema-white .uu5-common-error:not([class*=\"color-schema-\"]) .uu5-common-error-pre.uu5-common-error-pre,\n.color-schema-white.uu5-common-error:not(.uu5-common-bg-style-transparent) .uu5-common-error-pre.uu5-common-error-pre {\n  color: rgba(0, 0, 0, 0.87);\n}\n.uu5-common-error.uu5-common-error.uu5-common-error-silent {\n  color: rgba(0, 0, 0, 0.87);\n}\n.uu5-common-error.uu5-common-error.uu5-common-error-silent.uu5-common-bg-style-filled {\n  background-color: #F5F5F5;\n}\n.uu5-common-error.uu5-common-error.uu5-common-error-silent.uu5-common-bg-style-outline,\n.uu5-common-error.uu5-common-error.uu5-common-error-silent.uu5-common-bg-style-transparent,\n.uu5-common-error.uu5-common-error.uu5-common-error-silent.uu5-common-bg-style-underline {\n  border-color: #BDBDBD;\n}\n.uu5-common-error.uu5-common-error.uu5-common-error-silent.uu5-common-error .uu5-common-error-icon-wrapper,\n.uu5-common-error.uu5-common-error.uu5-common-error-silent.uu5-common-error .uu5-common-error-content {\n  color: rgba(0, 0, 0, 0.87);\n}\n.uu5-common-error.uu5-common-error.uu5-common-error-silent.uu5-common-error-details {\n  background-color: #F5F5F5;\n}\n.uu5-common-error.uu5-common-error.uu5-common-error-silent.uu5-common-error-details .uu5-common-error-details-body {\n  background-color: #F5F5F5;\n}\n.uu5-common-error.uu5-common-error.uu5-common-error-silent.uu5-common-error-details .uu5-common-error-pre-wrapper {\n  background-color: #F5F5F5;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 79 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotFoundTag", function() { return NotFoundTag; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_ns_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55);
/* harmony import */ var _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(60);
/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(75);
/* harmony import */ var _pure_render_mixin__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(64);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(16);
/* harmony import */ var _visual_component_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(65);
/* harmony import */ var _element_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(19);
/* harmony import */ var _not_found_tag_less__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(80);
/* harmony import */ var _not_found_tag_less__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_not_found_tag_less__WEBPACK_IMPORTED_MODULE_10__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports










 //@@viewOff:imports

var NotFoundTag = _visual_component_js__WEBPACK_IMPORTED_MODULE_8__["default"].create({
  displayName: "NotFoundTag",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"], _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_4__["default"], _pure_render_mixin__WEBPACK_IMPORTED_MODULE_6__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].name("NotFoundTag"),
    classNames: {
      main: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("not-found-tag")
    },
    lsi: function lsi() {
      return UU5.Environment.Lsi.Common.notFoundTag;
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    tagName: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string,
    error: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].func, uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].element])
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      tagName: null,
      error: null
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _getCustomError: function _getCustomError() {
    var result;

    if (typeof this.props.error === "string") {
      result = _tools_js__WEBPACK_IMPORTED_MODULE_7__["default"].formatString(this.props.error, {
        tagName: this.props.tagName
      });
    } else if (_element_js__WEBPACK_IMPORTED_MODULE_9__["default"].isValid(this.props.error)) {
      result = _element_js__WEBPACK_IMPORTED_MODULE_9__["default"].clone(this.props.error, {
        tagName: this.props.tagName
      });
    } else if (typeof this.props.error === "function") {
      result = this.props.error({
        tagName: this.props.tagName
      });
    } else {
      result = null;
    }

    return result;
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    // cannot be getLsiComponent, because UU5.Bricks.Lsi is in Bricks and it could not be loaded and without
    // internet it will be loop
    var value = _tools_js__WEBPACK_IMPORTED_MODULE_7__["default"].getLsiValueByLanguage(this.getLsi(window.navigator.onLine ? "notFound" : "offline"), UU5.Common.Tools.getLanguage(), this.props.tagName || "");
    return this.props.error ? this._getCustomError() : UU5.Common.Element.create(_error_js__WEBPACK_IMPORTED_MODULE_5__["default"], _extends({}, this.getMainPropsToPass(), {
      id: this.props.id
    }), value);
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (NotFoundTag);

/***/ }),
/* 80 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(81);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(35)();
};

var update = __webpack_require__(36)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 81 */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(34);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 82 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IdentityMixin", function() { return IdentityMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _session_mixin_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(83);
/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(75);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(16);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */





var AUTH = "authenticated";
var NOT_AUTH = "notAuthenticated";
var PENDING = "pending";
var IdentityMixin = {
  //@@viewOn:mixins
  mixins: [_session_mixin_js__WEBPACK_IMPORTED_MODULE_1__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    "UU5.Common.IdentityMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      lsi: {
        login: {
          cs: "Uživatel je odhlášen...",
          en: "User is logged out..."
        }
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  //@@viewOff:propTypess
  //@@viewOn:getDefaultProps
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    this.registerMixin("UU5.Common.IdentityMixin");
    var identityState = {
      identity: undefined,
      identityFeedback: PENDING
    };
    var session = this.props.session || _environment_environment_js__WEBPACK_IMPORTED_MODULE_3__["default"].getSession();

    if (session && session.initComplete) {
      var _session$isAuthentica;

      identityState.identity = ((_session$isAuthentica = session.isAuthenticated) === null || _session$isAuthentica === void 0 ? void 0 : _session$isAuthentica.call(session)) !== false ? session.getIdentity() : null;
      identityState.identityFeedback = session.isAuthenticated() ? AUTH : NOT_AUTH;
    } else if (!session) {
      identityState = {
        identity: null,
        identityFeedback: NOT_AUTH
      };
    } // state


    return identityState;
  },
  componentDidMount: function componentDidMount() {
    var _this = this;

    var session = this.props.session || _environment_environment_js__WEBPACK_IMPORTED_MODULE_3__["default"].getSession();

    if (session) {
      if (!session.initComplete) {
        session.initPromise.then(function () {
          if (_this.isRendered()) {
            _this._onChangeIdentity();

            window.UU5.Environment.EventListener.addIdentityChangeListener(session, _this.getId(), _this._onChangeIdentity);
          }
        });
      } else {
        window.UU5.Environment.EventListener.addIdentityChangeListener(session, this.getId(), this._onChangeIdentity);
      }
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    var session = this.getSession();
    session && window.UU5.Environment.EventListener.removeIdentityChangeListener(session, this.getId());
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonIdentityMixin: function hasUU5CommonIdentityMixin() {
    return this.hasMixin("UU5.Common.IdentityMixin");
  },
  getUU5CommonIdentityMixinProps: function getUU5CommonIdentityMixinProps() {
    return {};
  },
  getUU5CommonIdentityMixinPropsToPass: function getUU5CommonIdentityMixinPropsToPass() {
    return this.getUU5CommonIdentityMixinProps();
  },
  isAuthenticated: function isAuthenticated() {
    return this.state.identityFeedback === AUTH;
  },
  isNotAuthenticated: function isNotAuthenticated() {
    return this.state.identityFeedback === NOT_AUTH;
  },
  isPending: function isPending() {
    return this.state.identityFeedback === PENDING;
  },
  getIdentityFeedback: function getIdentityFeedback() {
    return this.state.identityFeedback;
  },
  getIdentity: function getIdentity() {
    return this.state.identity;
  },
  setAuthenticated: function setAuthenticated(isAuth, setStateCallback) {
    this.setState({
      identityFeedback: isAuth ? AUTH : NOT_AUTH
    }, setStateCallback);
    return this;
  },
  changeIdentity: function changeIdentity(setStateCallback) {
    var _this2 = this;

    var session = this.getSession();
    session && this.setState(function (state) {
      var _session$isAuthentica2;

      var result;
      var identity = ((_session$isAuthentica2 = session.isAuthenticated) === null || _session$isAuthentica2 === void 0 ? void 0 : _session$isAuthentica2.call(session)) !== false ? session.getIdentity() : null;

      var identityFeedback = _this2._getIdentityFeedback(session);

      if (identityFeedback !== state.identityFeedback || identity !== state.identity && !_tools_js__WEBPACK_IMPORTED_MODULE_4__["default"].deepEqual(identity, state.identity)) {
        result = {
          identity: identity,
          identityFeedback: identityFeedback
        };
      }

      return result;
    }, setStateCallback);
    return this;
  },
  onChangeIdentityDefault: function onChangeIdentityDefault(session) {
    this.changeIdentity();
    return this;
  },
  getAuthenticatedChild: function getAuthenticatedChild(getChild, opt) {
    var result;

    if (!this.isAuthenticated()) {
      result = UU5.Common.Element.create(_error_js__WEBPACK_IMPORTED_MODULE_2__["default"], _extends({}, this.getMainPropsToPass(), {
        silent: opt.silent,
        inline: opt.inline,
        content: opt.message || this.getLsiComponent("login", "UU5.Common.IdentityMixin")
      }));
    } else if (typeof getChild === "function") {
      result = getChild();
    }

    return result;
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _getIdentityFeedback: function _getIdentityFeedback(session) {
    var result = PENDING;

    if (session) {
      result = session.isAuthenticated() ? AUTH : NOT_AUTH;
    }

    return result;
  },
  _onChangeIdentity: function _onChangeIdentity() {
    var session = this.getSession();

    if (session) {
      if (typeof this.onChangeIdentity_ === "function") {
        this.onChangeIdentity_(session);
      } else {
        this.onChangeIdentityDefault(session);
      }
    }

    return this;
  } //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (IdentityMixin);

/***/ }),
/* 83 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SessionMixin", function() { return SessionMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */



var SessionMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.SessionMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      errors: {
        sessionNotFound: "Session has to be set."
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    session: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      initComplete: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
      initPromise: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object,
      addListener: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
      removeListener: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
      getIdentity: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
      isAuthenticated: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func
    })
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      session: null
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.SessionMixin");
    return null;
  },
  componentDidMount: function componentDidMount() {
    var _this = this;

    var session = this.props.session || _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].getSession();

    if (session) {
      if (!session.initComplete) {
        session.initPromise.then(function () {
          if (_this._unmount) return;
          window.UU5.Environment.EventListener.addSessionExpiringListener(session, _this.getId(), _this._onSessionExpiring);
          window.UU5.Environment.EventListener.addSessionExtendedListener(session, _this.getId(), _this._onSessionExtended);
        });
      } else {
        window.UU5.Environment.EventListener.addSessionExpiringListener(session, this.getId(), this._onSessionExpiring);
        window.UU5.Environment.EventListener.addSessionExtendedListener(session, this.getId(), this._onSessionExtended);
      }
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    this._unmount = true;
    var session = this.getSession();

    if (session) {
      window.UU5.Environment.EventListener.removeSessionExpiringListener(session, this.getId());
      window.UU5.Environment.EventListener.removeSessionExtendedListener(session, this.getId());
    }
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonSessionMixin: function hasUU5CommonSessionMixin() {
    return this.hasMixin("UU5.Common.SessionMixin");
  },
  getUU5CommonSessionMixinProps: function getUU5CommonSessionMixinProps() {
    return {
      session: this.props.session
    };
  },
  getUU5CommonSessionMixinPropsToPass: function getUU5CommonSessionMixinPropsToPass() {
    return this.getUU5CommonSessionMixinProps();
  },
  getSession: function getSession() {
    var session = this.props.session || _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].getSession();
    !session && this.showError("sessionNotFound", null, {
      mixinName: "UU5.Common.SessionMixin"
    });
    return session;
  },
  login: function login(opt) {
    var session = this.getSession();
    session && session.login(opt ? _objectSpread({
      acr_values: 1
    }, opt) : undefined); // acr_values is necessary because of a bug in OIDC when any option is provided

    return this;
  },
  logout: function logout() {
    var session = this.getSession();
    session && session.logout().catch(function (e) {// TODO
    });
    return this;
  },
  isSessionExpiring: function isSessionExpiring() {
    var session = this.getSession();
    var result;
    if (session && session.isExpiring) result = session.isExpiring(); // uu_oidcg01 >= 3.5.0
    else result = session && session.isAuthenticated() && this._sessionExpiring;
    return result;
  },
  sessionExpiring: function sessionExpiring(event) {
    window.UU5.Common.Tools.warning("Method '[component].sessionExpiring()' is deprecated! Use '[component].onSessionExpiringDefault()' instead.");
    this.onSessionExpiringDefault(event);
  },
  sessionExtended: function sessionExtended(event) {
    window.UU5.Common.Tools.warning("Method '[component].sessionExtended()' is deprecated! Use '[component].onSessionExtendedDefault()' instead.");
    this.onSessionExtendedDefault(event);
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _onSessionExpiring: function _onSessionExpiring(event) {
    if (typeof this.onSessionExpiring_ === "function") {
      this.onSessionExpiring_(event);
    } else {
      this.onSessionExpiringDefault(event);
    }
  },
  onSessionExpiringDefault: function onSessionExpiringDefault(event) {
    this._sessionExpiring = true;
    return this;
  },
  _onSessionExtended: function _onSessionExtended(event) {
    if (typeof this.onSessionExtended_ === "function") {
      this.onSessionExtended_(event);
    } else {
      this.onSessionExtendedDefault(event);
    }
  },
  onSessionExtendedDefault: function onSessionExtendedDefault(event) {
    this._sessionExpiring = false;
    return this;
  } //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (SessionMixin);

/***/ }),
/* 84 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LevelMixin", function() { return LevelMixin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIXINS_WITH_LEVEL_MIXIN", function() { return MIXINS_WITH_LEVEL_MIXIN; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _level_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(74);
/* harmony import */ var _component_processors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(69);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(11);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */





var LevelMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.LevelMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      defaults: {
        minLevel: 0,
        maxLevel: 6
      },
      warnings: {
        levelMismatch: "Component level %s is lower than parent level %s.",
        levelMax: "Maximum level of component is 6 but is set %d."
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    level: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOf(["0", "1", "2", "3", "4", "5", "6", 0, 1, 2, 3, 4, 5, 6]),
    increaseLevel: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      level: null,
      increaseLevel: false
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.LevelMixin"); // state

    return {
      level: this.checkLevel()
    };
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    this.getLevel() !== nextProps.level && this.setState({
      level: this.checkLevel(nextProps)
    });
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonLevelMixin: function hasUU5CommonLevelMixin() {
    return this.hasMixin("UU5.Common.LevelMixin");
  },
  getLevel: function getLevel() {
    return this.state.level;
  },
  getUU5CommonLevelMixinProps: function getUU5CommonLevelMixinProps() {
    return {
      level: this.props.level
    };
  },
  getUU5CommonLevelMixinPropsToPass: function getUU5CommonLevelMixinPropsToPass() {
    return this.getUU5CommonLevelMixinProps();
  },
  shouldIncreaseLevel: function shouldIncreaseLevel(parentLevelComponent) {
    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;
    return this._shouldIncreaseLevel(parentLevelComponent, props, false);
  },
  checkLevel: function checkLevel() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    var _parentLevelComponent = props._parentLevelComponent,
        _parentLevel = props._parentLevel,
        _isDummyLevel = props._isDummyLevel;
    var level = typeof props.level === "string" ? parseInt(props.level) : props.level;
    var maxLevel = this.getDefault("maxLevel", "UU5.Common.LevelMixin");
    var parentLevelComponent = _parentLevelComponent !== undefined ? _parentLevelComponent : this.getParentByType("hasUU5CommonLevelMixin");
    var isFromConsumer = _parentLevelComponent === null && _parentLevel != null; // for integration with UU5.Common.Level.Consumer & Provider

    var calculatedLevel = _parentLevel != null ? _parentLevel : parentLevelComponent ? parentLevelComponent.getLevel() : this.getDefault("minLevel", "UU5.Common.LevelMixin");

    if (!(isFromConsumer && _isDummyLevel)) {
      if (this._shouldIncreaseLevel(parentLevelComponent, props, isFromConsumer)) calculatedLevel++;
    }

    level = typeof level === "number" ? level : calculatedLevel; //check level hierarchy

    if (level < calculatedLevel) {
      this.showWarning("levelMismatch", [level, calculatedLevel], {
        mixinName: "UU5.Common.LevelMixin",
        context: {
          parent: {
            tagName: parentLevelComponent ? parentLevelComponent.getTagName() : null,
            component: parentLevelComponent
          }
        }
      });
    } //check maxLevel


    if (level > maxLevel) {
      this.showWarning("levelMax", level, {
        mixinName: "UU5.Common.LevelMixin",
        context: {
          parent: {
            tagName: parentLevelComponent && parentLevelComponent.getTagName(),
            component: parentLevelComponent
          }
        }
      });
      level = maxLevel;
    }

    return level;
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _shouldIncreaseLevel: function _shouldIncreaseLevel(parentLevelComponent, props, ignoreParent) {
    return !ignoreParent && (!parentLevelComponent || parentLevelComponent && parentLevelComponent.getOpt("dummyLevel")) ? false : this.getOpt("increaseLevel") || props.increaseLevel || this.getHeader && this.getHeader(props) || this.getFooter && this.getFooter(props);
  },
  _isUsingDummyLevel: function _isUsingDummyLevel() {
    return this.getOpt("dummyLevel");
  } //@@viewOff:private

};
var MIXINS_WITH_LEVEL_MIXIN = new Set([LevelMixin]);
_component_processors_js__WEBPACK_IMPORTED_MODULE_3__["preprocessors"].push(function LevelMixinVCPreprocessor(componentDescriptor, ctx) {
  var mixins = componentDescriptor.mixins;

  if (Array.isArray(mixins)) {
    if (( true) && // disabled for tests because shallow rendering of components with LevelMixin would be useless (only wrapper with Level.Consumer would be visible)
    react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef) {
      for (var i = 0; i < mixins.length; i++) {
        if (MIXINS_WITH_LEVEL_MIXIN.has(mixins[i])) {
          var _ret = function () {
            ctx["UU5.Common.LevelMixin"] = true; // change render() method to render Level Provider with level based on LevelMixin

            var origRender = componentDescriptor.render || function () {};

            componentDescriptor.render = function () {
              return UU5.Common.Element.create(LevelProvider, {
                level: this.state.level,
                isDummyLevel: this._isUsingDummyLevel()
              }, origRender.apply(this));
            };

            return "break";
          }();

          if (_ret === "break") break;
        }
      }
    }
  }

  return componentDescriptor;
});
_component_processors_js__WEBPACK_IMPORTED_MODULE_3__["postprocessors"].push(function LevelMixinVCPostprocessor(Component, componentDescriptor, ctx) {
  if (ctx["UU5.Common.LevelMixin"]) {
    // wrap with level consumer
    var ResultComponent = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {
      return UU5.Common.Element.create(_level_js__WEBPACK_IMPORTED_MODULE_2__["default"].Consumer, null, function (_ref) {
        var level = _ref.level,
            isDummyLevel = _ref.isDummyLevel;
        return UU5.Common.Element.create(Component, _extends({}, props, {
          ref: ref,
          _parentLevel: level,
          _parentLevelComponent: null,
          _isDummyLevel: isDummyLevel
        }));
      });
    });

    var _iterator = _createForOfIteratorHelper(Object.getOwnPropertyNames(Component)),
        _step;

    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var k = _step.value;

        try {
          if (!(k in ResultComponent)) ResultComponent[k] = Component[k];
        } catch (e) {} // needed for IE for special properties like "caller"

      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }

    ResultComponent.isUu5PureComponent = true;
    return ResultComponent;
  }

  return Component;
}); // helper component which does not re-render its subtree if level does not change

var LevelProvider = /*#__PURE__*/function (_React$PureComponent) {
  _inherits(LevelProvider, _React$PureComponent);

  var _super = _createSuper(LevelProvider);

  function LevelProvider(props) {
    var _this;

    _classCallCheck(this, LevelProvider);

    _this = _super.call(this, props);
    _this.state = {
      level: props.level,
      isDummyLevel: props.isDummyLevel
    };
    return _this;
  }

  _createClass(LevelProvider, [{
    key: "render",
    value: function render() {
      return UU5.Common.Element.create(_level_js__WEBPACK_IMPORTED_MODULE_2__["default"].Provider, {
        value: this.state
      }, this.props.children);
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, state) {
      return props.level !== state.level ? {
        level: props.level
      } : null;
    }
  }]);

  return LevelProvider;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);

_defineProperty(LevelProvider, "propTypes", {
  level: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].number]),
  isDummyLevel: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool // needed for interoperability with LevelMixin

});

/* harmony default export */ __webpack_exports__["default"] = (LevelMixin);

/***/ }),
/* 85 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionMixin", function() { return SectionMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _content_mixin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(61);
/* harmony import */ var _level_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(84);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(16);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */





var SectionMixin = {
  //@@viewOn:mixins
  mixins: [_content_mixin_js__WEBPACK_IMPORTED_MODULE_2__["default"], _level_mixin_js__WEBPACK_IMPORTED_MODULE_3__["LevelMixin"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    "UU5.Common.SectionMixin": {
      requiredMixins: ["UU5.Common.BaseMixin", "UU5.Common.ContentMixin", "UU5.Common.LevelMixin"],
      defaults: {
        headerTag: "UU5.Bricks.Header",
        footerTag: "UU5.Bricks.Footer",
        regexpUu5Json: /(^<uu5json\/>)/
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    header: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([// content body:[{tag:'',props:{}},{tag:'',props:{}},...]
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].arrayOf(uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      tag: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].element]),
      props: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object
    })), // content bodyItem:{tag:'',props{}}
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      tag: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].element]),
      props: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].arrayOf(uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object)
    }), // content items:{tag:'',propsArray:[{},{},{},...]}
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      tag: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].element]),
      propsArray: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].arrayOf(uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object)
    }), // content node
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].node, // element
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      element: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].element, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
        tag: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].element]),
        props: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object
      })])
    })]),
    footer: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([// content body:[{tag:'',props:{}},{tag:'',props:{}},...]
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].arrayOf(uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      tag: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].element]),
      props: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object
    })), // content bodyItem:{tag:'',props{}}
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      tag: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].element]),
      props: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].arrayOf(uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object)
    }), // content items:{tag:'',propsArray:[{},{},{},...]}
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      tag: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].element]),
      propsArray: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].arrayOf(uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object)
    }), // content node
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].node, // element
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      element: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].element, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
        tag: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].element]),
        props: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object
      })])
    })]),
    underline: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      header: null,
      footer: null,
      underline: false
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.SectionMixin");
    this.renderedHeaderChild = null; // renderedChild

    this.renderedFooterChild = null; // renderedChild
    // state

    return null;
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonSectionMixin: function hasUU5CommonSectionMixin() {
    return this.hasMixin("UU5.Common.SectionMixin");
  },
  getHeader: function getHeader() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    return typeof this.getHeader_ === "function" ? this.getHeader_(props) : this.getHeaderDefault(props);
  },
  getHeaderDefault: function getHeaderDefault() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    return props.header;
  },
  getFooter: function getFooter() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    return typeof this.getFooter_ === "function" ? this.getFooter_(props) : this.getFooterDefault(props);
  },
  getFooterDefault: function getFooterDefault() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    return props.footer;
  },
  getHeaderType: function getHeaderType(headerContent) {
    var type = null; // one of ['contentOfStandardHeader','headerElement','headerBodyItem']

    if (headerContent || headerContent === "") {
      if (_typeof(headerContent.element) === "object") {
        type = headerContent.element.tag ? "headerBodyItem" : "headerElement";
      } else if (typeof headerContent === "string") {
        var match = this.getDefault("regexpUu5Json", "UU5.Common.SectionMixin").exec(headerContent);
        type = match ? "uu5JSON" : "contentOfStandardHeader";
      } else {
        type = "contentOfStandardHeader";
      }
    }

    return type;
  },
  getFooterType: function getFooterType(footerContent) {
    var type = null; // one of ['contentOfStandardFooter','footerElement','footerBodyItem']

    if (footerContent || footerContent === "") {
      if (_typeof(footerContent.element) === "object") {
        type = footerContent.element.tag ? "footerBodyItem" : "footerElement";
      } else if (typeof footerContent === "string") {
        var match = this.getDefault("regexpUu5Json", "UU5.Common.SectionMixin").exec(footerContent);
        type = match ? "uu5JSON" : "contentOfStandardFooter";
      } else {
        type = "contentOfStandardFooter";
      }
    }

    return type;
  },
  getUU5CommonSectionMixinProps: function getUU5CommonSectionMixinProps() {
    return {
      header: this.getHeader(),
      footer: this.getFooter()
    };
  },
  getUU5CommonSectionMixinPropsToPass: function getUU5CommonSectionMixinPropsToPass() {
    return _tools_js__WEBPACK_IMPORTED_MODULE_4__["default"].mergeDeep({}, this.getUU5CommonSectionMixinProps(), this.getUU5CommonContentMixinPropsToPass(), this.getUU5CommonLevelMixinPropsToPass());
  },
  registerRenderedHeaderChild: function registerRenderedHeaderChild(renderedHeaderChild) {
    if (renderedHeaderChild.hasUU5CommonBaseMixin) {
      this.renderedHeaderChild = renderedHeaderChild;
    }

    return this;
  },
  registerRenderedFooterChild: function registerRenderedFooterChild(renderedFooterChild) {
    if (renderedFooterChild.hasUU5CommonBaseMixin) {
      this.renderedFooterChild = renderedFooterChild;
    }

    return this;
  },
  expandHeaderProps: function expandHeaderProps(prevHeaderChild, level) {
    var newHeaderChildProps = prevHeaderChild.props;
    newHeaderChildProps = _tools_js__WEBPACK_IMPORTED_MODULE_4__["default"].mergeDeep({}, newHeaderChildProps);
    newHeaderChildProps.parent = this;
    newHeaderChildProps.id = newHeaderChildProps.id || this.getId() + "-header";
    newHeaderChildProps.underline = newHeaderChildProps.underline || this.props.underline;
    newHeaderChildProps.level = level;

    if (typeof this.expandHeaderProps_ === "function") {
      var tempHeaderChild = this.cloneChild(prevHeaderChild, newHeaderChildProps);
      newHeaderChildProps = this.expandHeaderProps_(tempHeaderChild);
    }

    newHeaderChildProps.key = newHeaderChildProps.id;

    newHeaderChildProps.ref = function (renderedChild) {
      renderedChild && this.registerRenderedHeaderChild(renderedChild);
    }.bind(this);

    return newHeaderChildProps;
  },
  expandFooterProps: function expandFooterProps(prevFooterChild, level) {
    var newFooterChildProps = prevFooterChild.props;
    newFooterChildProps = _tools_js__WEBPACK_IMPORTED_MODULE_4__["default"].mergeDeep({}, newFooterChildProps);
    newFooterChildProps.parent = this;
    newFooterChildProps.id = newFooterChildProps.id || this.getId() + "-footer";
    newFooterChildProps.level = level;

    if (typeof this.expandFooterProps_ === "function") {
      var tempFooterChild = this.cloneChild(prevFooterChild, newFooterChildProps);
      newFooterChildProps = this.expandFooterProps_(tempFooterChild);
    }

    newFooterChildProps.key = newFooterChildProps.id;

    newFooterChildProps.ref = function (renderedChild) {
      renderedChild && this.registerRenderedFooterChild(renderedChild);
    }.bind(this);

    return newFooterChildProps;
  },
  buildHeaderChild: function buildHeaderChild(header, level) {
    header = header || this.getHeader();
    var headerChild = null;

    if (typeof this.buildHeaderChild_ === "function") {
      headerChild = this.buildHeaderChild_(header, level);
    } else {
      headerChild = this.buildHeaderChildDefault(header, level);
    }

    return headerChild;
  },
  buildHeaderChildDefault: function buildHeaderChildDefault(header, level) {
    header = header || this.getHeader();
    var headerChild = null;
    var headerValue = header;
    var headerType = this.getHeaderType(headerValue);

    if (headerType === "uu5JSON") {
      headerValue = _tools_js__WEBPACK_IMPORTED_MODULE_4__["default"].parseFromUu5JSON(headerValue);
      headerType = this.getHeaderType(headerValue);
    }

    switch (headerType) {
      case "headerBodyItem":
        headerChild = this.buildChild(headerValue.element.tag, headerValue.element.props);
        headerChild = this.cloneChild(headerChild, this.expandHeaderProps(headerChild, level));
        break;

      case "headerElement":
        headerChild = headerValue.element;
        headerChild = this.cloneChild(headerChild, this.expandHeaderProps(headerChild, level));
        break;

      case "contentOfStandardHeader":
        headerChild = this.buildChild(this.getDefault("headerTag", "UU5.Common.SectionMixin"), {
          content: headerValue
        });
        headerChild = this.cloneChild(headerChild, this.expandHeaderProps(headerChild, level));
        break;

      default: // there is no header

    }

    return headerChild;
  },
  buildFooterChild: function buildFooterChild(footer, level) {
    footer = footer || this.getFooter();
    var footerChild = null;

    if (typeof this.buildFooterChild_ === "function") {
      footerChild = this.buildFooterChild_(footer, level);
    } else {
      footerChild = this.buildFooterChildDefault(footer, level);
    }

    return footerChild;
  },
  buildFooterChildDefault: function buildFooterChildDefault(footer, level) {
    footer = footer || this.getFooter();
    var footerChild = null;
    var footerValue = footer;
    var footerType = this.getFooterType(footerValue);

    if (footerType === "uu5JSON") {
      footerValue = _tools_js__WEBPACK_IMPORTED_MODULE_4__["default"].parseFromUu5JSON(footerValue);
      footerType = this.getFooterType(footerValue);
    }

    switch (footerType) {
      case "footerBodyItem":
        footerChild = this.buildChild(footerValue.element.tag, footerValue.element.props);
        footerChild = this.cloneChild(footerChild, this.expandFooterProps(footerChild, level));
        break;

      case "footerElement":
        footerChild = footerValue.element;
        footerChild = this.cloneChild(footerChild, this.expandFooterProps(footerChild, level));
        break;

      case "contentOfStandardFooter":
        footerChild = this.buildChild(this.getDefault("footerTag", "UU5.Common.SectionMixin"), {
          content: footerValue
        });
        footerChild = this.cloneChild(footerChild, this.expandFooterProps(footerChild, level));
        break;

      default: // there is no footer

    }

    return footerChild;
  },
  getHeaderChild: function getHeaderChild(level) {
    return this.buildHeaderChild(undefined, level);
  },
  getFooterChild: function getFooterChild(level) {
    return this.buildFooterChild(undefined, level);
  },
  getRenderedHeaderChild: function getRenderedHeaderChild() {
    return this.renderedHeaderChild;
  },
  getRenderedFooterChild: function getRenderedFooterChild() {
    return this.renderedFooterChild;
  } //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  //@@viewOff:private

};
_level_mixin_js__WEBPACK_IMPORTED_MODULE_3__["MIXINS_WITH_LEVEL_MIXIN"].add(SectionMixin);
/* harmony default export */ __webpack_exports__["default"] = (SectionMixin);

/***/ }),
/* 86 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CcrReaderMixin", function() { return CcrReaderMixin; });
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(11);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var CcrReaderMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.CcrReaderMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      errors: {
        keyNotRegistered: "Component with key %s is not registered."
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.CcrReaderMixin"); // state

    return null;
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonCcrReaderMixin: function hasUU5CommonCcrReaderMixin() {
    return this.hasMixin("UU5.Common.CcrReaderMixin");
  },
  getUU5CommonCcrReaderMixinProps: function getUU5CommonCcrReaderMixinProps() {
    return {};
  },
  getUU5CommonCcrReaderMixinPropsToPass: function getUU5CommonCcrReaderMixinPropsToPass() {
    return this.getUU5CommonCcrReaderMixinProps();
  },
  getCcrComponentByKey: function getCcrComponentByKey(key) {
    return this.getCcrByKeyRegister()[key] || null;
  },
  isCcrRegisteredByKey: function isCcrRegisteredByKey(key) {
    return !!this.getCcrByKeyRegister()[key];
  },
  getCcrByKeyRegister: function getCcrByKeyRegister() {
    return _environment_environment_js__WEBPACK_IMPORTED_MODULE_0__["default"].ccr.byKey;
  } //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (CcrReaderMixin);

/***/ }),
/* 87 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CcrWriterMixin", function() { return CcrWriterMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
/* harmony import */ var _ccr_reader_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(86);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */




var CcrWriterMixin = {
  //@@viewOn:mixins
  mixins: [_ccr_reader_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    "UU5.Common.CcrWriterMixin": {
      requiredMixins: ["UU5.Common.CcrReaderMixin"],
      warnings: {
        keyNotRegistered: "Component with key %s was not registered."
      },
      errors: {
        alreadyRegistered: "Component with ccr key %s is already registered.",
        unregisterNotThis: "Component with ccr key %s is not this component, cannot be unregistered."
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    ccrKey: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      ccrKey: null
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.CcrWriterMixin"); // state

    return null;
  },
  UNSAFE_componentWillMount: function UNSAFE_componentWillMount() {
    this.getCcrKey() && this._registerToCcrByKey(this.getCcrKey());
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    if (this.getCcrKey(nextProps) && this.getCcrKey(nextProps) !== this.getCcrKey()) {
      this.getCcrKey() && this.isCcrRegisteredByKey(this.getCcrKey()) && this._unregisterFromCcrByKey(this.getCcrKey());

      this._registerToCcrByKey(this.getCcrKey(nextProps));
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    this.getCcrKey() && this.isCcrRegisteredByKey(this.getCcrKey()) && this._unregisterFromCcrByKey(this.getCcrKey());
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonCcrWriterMixin: function hasUU5CommonCcrWriterMixin() {
    return this.hasMixin("UU5.Common.CcrWriterMixin");
  },
  getUU5CommonCcrWriterMixinProps: function getUU5CommonCcrWriterMixinProps() {
    return {
      ccrKey: this.getCcrKey()
    };
  },
  getUU5CommonCcrWriterMixinPropsToPass: function getUU5CommonCcrWriterMixinPropsToPass() {
    return {};
  },
  getCcrKey: function getCcrKey(props) {
    props = props || this.props;
    return props.ccrKey || this.getOpt("ccrKey") || null;
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _registerToCcrByKey: function _registerToCcrByKey(key) {
    var component = this.getCcrByKeyRegister()[key];

    if (_environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].ccrStrict && component && component !== this) {
      this.showError("alreadyRegistered", key, {
        mixinName: "UU5.Common.CcrWriterMixin",
        context: {
          registeredComponent: {
            tagName: component.getTagName(),
            id: component.getId(),
            component: component
          }
        }
      });
    }

    this.getCcrByKeyRegister()[key] = this;
    return this;
  },
  _unregisterFromCcrByKey: function _unregisterFromCcrByKey(key) {
    var component = this.getCcrByKeyRegister()[key];

    if (!component) {
      this.showWarning("keyNotRegistered", key, {
        mixinName: "UU5.Common.CcrWriterMixin"
      });
    } else if (component !== this) {
      _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].ccrStrict && this.showError("unregisterNotThis", key, {
        mixinName: "UU5.Common.CcrWriterMixin",
        context: {
          registeredComponent: {
            tagName: component.getTagName(),
            id: component.getId(),
            component: component
          }
        }
      });
    } else {
      delete this.getCcrByKeyRegister()[key];
    }

    return this;
  } //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (CcrWriterMixin);

/***/ }),
/* 88 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScreenSizeMixin", function() { return ScreenSizeMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _utils_screen_size__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(20);
/* harmony import */ var _environment_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(11);
/* harmony import */ var _component_processors_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(69);
/* harmony import */ var _uu5g05_integration_use_screen_size__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(89);
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */







var ScreenSizeMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.ScreenSizeMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      defaults: {
        screenSizeEvent: "UU5_Common_screenSize"
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    _contextScreenSize: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOf(Object.keys(_utils_screen_size__WEBPACK_IMPORTED_MODULE_3__["default"].SIZE_MAP)) // internally provided by postprocessor (interoperability with ScreenSizeProvider in uu5g04-hooks)

  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      _contextScreenSize: undefined
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.ScreenSizeMixin"); // state

    return {
      screenSize: this.getScreenSize()
    };
  },
  componentDidMount: function componentDidMount() {
    if (this.props._contextScreenSize === undefined) {
      window.UU5.Environment.EventListener.registerScreenSize(this.getId(), this._onChangeScreenSize);
    }
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    var _this = this;

    if (nextProps._contextScreenSize === undefined) {
      window.UU5.Environment.EventListener.registerScreenSize(this.getId(), this._onChangeScreenSize);
    } else {
      window.UU5.Environment.EventListener.unregisterScreenSize(this.getId());
      var runOnChange = false;
      var newScreenSize = nextProps._contextScreenSize;
      this.setState(function (state) {
        var isSame = state.screenSize === newScreenSize;
        runOnChange = !isSame;
        return isSame ? undefined : {
          screenSize: newScreenSize
        };
      }, function () {
        if (runOnChange) _this._onChangeScreenSize(null, newScreenSize);
      });
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    window.UU5.Environment.EventListener.unregisterScreenSize(this.getId());
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonScreenSizeMixinProps: function hasUU5CommonScreenSizeMixinProps() {
    return this.hasMixin("UU5.Common.ScreenSizeMixin");
  },
  getUU5CommonScreenSizeMixinProps: function getUU5CommonScreenSizeMixinProps() {
    return {
      screenSize: this.getScreenSize()
    };
  },
  getUU5CommonScreenSizeMixinPropsToPass: function getUU5CommonScreenSizeMixinPropsToPass() {
    return this.getUU5CommonScreenSizeMixinProps();
  },
  getScreenSize: function getScreenSize() {
    return this.state ? this.state.screenSize : (this.props || {})._contextScreenSize === undefined // this.props should be always defined but uuCourseKit calls this method statically :-/ so let's not crash their app...
    ? _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].getScreenSize() : this.props._contextScreenSize;
  },
  isXs: function isXs() {
    return this.getScreenSize() === "xs";
  },
  isS: function isS() {
    return this.getScreenSize() === "s";
  },
  isM: function isM() {
    return this.getScreenSize() === "m";
  },
  isL: function isL() {
    return this.getScreenSize() === "l";
  },
  isXl: function isXl() {
    return this.getScreenSize() === "xl";
  },
  onChangeScreenSizeDefault: function onChangeScreenSizeDefault(e, actualScreenSize) {
    this.setState(function (state) {
      return state.screenSize !== actualScreenSize ? {
        screenSize: actualScreenSize
      } : undefined;
    });
    return this;
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _onChangeScreenSize: function _onChangeScreenSize(e, actualScreenSize) {
    if (typeof this.onChangeScreenSize_ === "function") {
      this.onChangeScreenSize_(actualScreenSize, e);
    } else {
      this.onChangeScreenSizeDefault(e, actualScreenSize);
    }

    return this;
  } //@@viewOff:private

};

if (( true) && // disabled for tests because shallow rendering of components with this mixin would be useless (only wrapper with Consumer would be visible)
react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef) {
  _component_processors_js__WEBPACK_IMPORTED_MODULE_5__["postprocessors"].push(function ScreenSizeMixinVCPostprocessor(Component, componentDescriptor, ctx) {
    var mixins = componentDescriptor && Array.isArray(componentDescriptor.mixins) ? componentDescriptor.mixins : null;

    if (mixins && mixins.includes(ScreenSizeMixin)) {
      // wrap with screen size consumer
      var ResultComponent = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {
        return UU5.Common.Element.create(_uu5g05_integration_use_screen_size__WEBPACK_IMPORTED_MODULE_6__["ScreenSizeContext"].Consumer, null, function (value) {
          var screenSize = value ? value.screenSize || null : undefined;
          return UU5.Common.Element.create(Component, _extends({}, props, {
            ref: ref,
            _contextScreenSize: screenSize
          }));
        });
      });

      var _iterator = _createForOfIteratorHelper(Object.getOwnPropertyNames(Component)),
          _step;

      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var k = _step.value;

          try {
            if (!(k in ResultComponent)) ResultComponent[k] = Component[k];
          } catch (e) {} // needed for IE for special properties like "caller"

        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }

      ResultComponent.displayName = "withScreenSize(" + ResultComponent.displayName + ")";
      ResultComponent.isUu5PureComponent = true;
      return ResultComponent;
    }

    return Component;
  });
}

/* harmony default export */ __webpack_exports__["default"] = (ScreenSizeMixin);

/***/ }),
/* 89 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScreenSizeContext", function() { return ScreenSizeContext; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useScreenSize", function() { return uu5g05__WEBPACK_IMPORTED_MODULE_0__["useScreenSize"]; });

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var ScreenSizeContext = uu5g05__WEBPACK_IMPORTED_MODULE_0__["useScreenSize"]._context;


/***/ }),
/* 90 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CallsMixin", function() { return CallsMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */



var CallsMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.CallsMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      errors: {
        callsNotFound: "Property calls was not set.",
        staticsCallsNotFound: "Variable calls was not found in statics.",
        callNameNotFound: "Call key %s was not found in calls.",
        callNotFound: "Call %s was not found in calls."
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    calls: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object])
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      calls: null
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.CallsMixin"); // state

    return {
      calls: null
    };
  },
  UNSAFE_componentWillMount: function UNSAFE_componentWillMount() {
    this._setCalls(this.props.calls);
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    this._setCalls(nextProps.calls);
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonCallsMixin: function hasUU5CommonCallsMixin() {
    return this.hasMixin("UU5.Common.CallsMixin");
  },
  getUU5CommonCallsMixinProps: function getUU5CommonCallsMixinProps() {
    return {
      calls: this.getCalls()
    };
  },
  getUU5CommonCallsMixinPropsToPass: function getUU5CommonCallsMixinPropsToPass() {
    return this.getUU5CommonCallsMixinProps();
  },
  getCalls: function getCalls() {
    if (!this.state.calls) {
      this.showError("callsNotFound", null, {
        mixinName: "UU5.Common.CallsMixin"
      });
    }

    return this.state.calls;
  },
  setCalls: function setCalls(calls) {
    this._setCalls(calls);

    return this;
  },
  getCall: function getCall(item, mixinName) {
    var callNames = mixinName ? this.constructor[mixinName] ? this.constructor[mixinName].calls : null : this.constructor.calls;
    var callName = callNames && callNames[item];
    var calls = this.getCalls();
    var call = null;

    if (!callNames) {
      this.showError("staticsCallsNotFound", null, {
        mixinName: "UU5.Common.CallsMixin",
        context: {
          constructor: this.constructor
        }
      });
    } else if (!callName) {
      this.showError("callNameNotFound", item, {
        mixinName: "UU5.Common.CallsMixin",
        context: {
          calls: calls
        }
      });
    } else {
      call = calls[callName];

      if (!call) {
        this.showError("callNotFound", callName, {
          mixinName: "UU5.Common.CallsMixin",
          context: {
            calls: calls
          }
        });
      }
    }

    return call;
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _setCalls: function _setCalls(calls) {
    if (calls) {
      typeof calls === "string" && (calls = this.stringToObjectType(calls, "object", _environment_environment_js__WEBPACK_IMPORTED_MODULE_2__["default"].calls));
      this.setState({
        calls: calls
      });
    }

    return this;
  } //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (CallsMixin);

/***/ }),
/* 91 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadMixin", function() { return LoadMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _calls_mixin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(90);
/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(75);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(16);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(11);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */






var LoadMixin = {
  //@@viewOn:mixins
  mixins: [_calls_mixin_js__WEBPACK_IMPORTED_MODULE_2__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    "UU5.Common.LoadMixin": {
      defaults: {
        minReloadInterval: 10 * 1000,
        // 10s
        onLoadCall: "onLoad",
        onReloadCall: "onReload"
      },
      errors: {
        onLoad: "Error during loading data from server by call %s.",
        onReload: "Error during reloading data from server by call %s."
      },
      lsi: function lsi() {
        return _environment_environment_js__WEBPACK_IMPORTED_MODULE_5__["default"].Lsi.Common.loadMixin;
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    uri: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string,
    dtoOut: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object,
    reloadInterval: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].number,
    refireLoad: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    overrideMinReloadInterval: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      uri: null,
      dtoOut: null,
      reloadInterval: 0,
      refireLoad: true,
      overrideMinReloadInterval: false
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.LoadMixin");
    this._lastLoadOrReloadTime = null;
    this._pageVisible = _environment_environment_js__WEBPACK_IMPORTED_MODULE_5__["default"].isPageVisible(); // state

    return {
      loadFeedback: "loading",
      dtoOut: null,
      errorDtoOut: null
    };
  },
  UNSAFE_componentWillMount: function UNSAFE_componentWillMount() {
    if (this.props.dtoOut) {
      if (typeof this.onLoadSuccess_ === "function") {
        this.onLoadSuccess_(this.props.dtoOut);
      } else {
        this.onLoadSuccessDefault(this.props.dtoOut);
      }
    }
  },
  componentDidMount: function componentDidMount() {
    var _this = this;

    _environment_environment_js__WEBPACK_IMPORTED_MODULE_5__["default"].EventListener.registerPageVisibility(this.getId(), this._onPageVisibilityChange);

    if (!this.props.dtoOut) {
      this.setState({
        loadFeedback: "loading",
        dtoOut: null,
        errorDtoOut: null
      }, function () {
        return _this._onLoad(_this.props);
      });
    }
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    if (nextProps.controlled && nextProps.refireLoad) {
      this._onLoad(nextProps);
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    this._unregisterReloading();

    _environment_environment_js__WEBPACK_IMPORTED_MODULE_5__["default"].EventListener.unregisterPageVisibility(this.getId());
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  getUri: function getUri() {
    return this.props.uri;
  },
  getDtoOut: function getDtoOut() {
    return this.state.dtoOut;
  },
  getErrorData: function getErrorData() {
    return this.state.errorDtoOut;
  },
  getLoadFeedback: function getLoadFeedback() {
    return this.state.loadFeedback;
  },
  isLoading: function isLoading() {
    return this.getLoadFeedback() === "loading";
  },
  isReady: function isReady() {
    return this.getLoadFeedback() === "ready";
  },
  isError: function isError() {
    return this.getLoadFeedback() === "error";
  },
  onLoadSuccess: function onLoadSuccess(dtoOut, setStateCallback) {
    var _arguments = arguments,
        _this2 = this;

    this._lastLoadOrReloadTime = Date.now();
    this.setAsyncState({
      loadFeedback: "ready",
      dtoOut: dtoOut,
      errorDtoOut: null
    }, function () {
      if (setStateCallback) return setStateCallback.apply(_this2, _arguments);
    });
    return this;
  },
  onReloadSuccess: function onReloadSuccess(dtoOut, setStateCallback) {
    this._lastLoadOrReloadTime = Date.now();
    this.setAsyncState({
      loadFeedback: "ready",
      dtoOut: dtoOut,
      errorDtoOut: null
    }, setStateCallback);
    return this;
  },
  onLoadError: function onLoadError(dtoOut, setStateCallback) {
    this._lastLoadOrReloadTime = Date.now();
    this.setAsyncState({
      loadFeedback: "error",
      errorDtoOut: dtoOut
    }, setStateCallback);
    return this;
  },
  onReloadError: function onReloadError(dtoOut, setStateCallback) {
    this._lastLoadOrReloadTime = Date.now();
    this.onLoadError(dtoOut, setStateCallback);
    return this;
  },
  getLoadFeedbackChildren: function getLoadFeedbackChildren(getChildren) {
    var children;

    switch (this.getLoadFeedback()) {
      case "loading":
        children = _tools_js__WEBPACK_IMPORTED_MODULE_4__["default"].findComponent("UU5.Bricks.Loading");
        break;

      case "ready":
        children = getChildren(this.getDtoOut());
        break;

      case "error":
        children = UU5.Common.Element.create(_error_js__WEBPACK_IMPORTED_MODULE_3__["default"], null, this.getLsiComponent("error", "UU5.Common.LoadMixin"));
        break;
    }

    return children;
  },
  reload: function reload(callName, dtoIn) {
    var _this3 = this;

    this.setState({
      loadFeedback: "loading"
    }, function () {
      _this3.forceReload(callName, dtoIn);
    });
    return this;
  },
  forceReload: function forceReload(callName, dtoIn) {
    var reloadCall = callName && this.getCall(callName) || this._getOnReloadCall();

    if (reloadCall) {
      var reloadDtoIn = dtoIn || this._getReloadDtoIn(this.props);

      reloadCall(reloadDtoIn);
    }
  },
  //@@viewOff:interface
  //@@viewOn:private
  _getOnLoadCall: function _getOnLoadCall() {
    return this.getCall(this.getDefault("onLoadCall", "UU5.Common.LoadMixin"));
  },
  _getOnReloadCall: function _getOnReloadCall() {
    var result;
    var callNames = this.constructor.calls;

    if (callNames) {
      var callName = callNames[this.getDefault("onReloadCall", "UU5.Common.LoadMixin")];

      if (callName) {
        result = this.getCalls()[callName];
      } else {
        result = this._getOnLoadCall();
      }
    } else {
      result = this._getOnLoadCall();
    }

    return result;
  },
  _getLoadDtoIn: function _getLoadDtoIn(props) {
    var _this4 = this;

    props = props || this.props;
    var dtoIn = {};

    if (props.uri) {
      dtoIn.uri = props.uri;
    }

    if (typeof this.getOnLoadData_ === "function") {
      dtoIn.data = this.getOnLoadData_(props);
    }

    dtoIn.done = function (dtoOut) {
      if (typeof _this4.onLoadSuccess_ === "function") {
        _this4.onLoadSuccess_(dtoOut);
      } else {
        _this4.onLoadSuccessDefault(dtoOut);
      }

      _this4._scrollToFragment();
    };

    var callKey = this.getDefault("onLoadCall", "UU5.Common.LoadMixin");

    dtoIn.fail = function (dtoOut) {
      _this4.showError("onLoad", _this4.getCallName(callKey), {
        mixinName: "UU5.Common.LoadMixin",
        context: {
          calls: _this4.getCalls(),
          dtoOut: dtoOut,
          callKey: callKey,
          uri: dtoIn.uri,
          data: dtoIn.data
        }
      });

      if (typeof _this4.onLoadError_ === "function") {
        _this4.onLoadError_(dtoOut);
      } else {
        _this4.onLoadErrorDefault(dtoOut);
      }
    };

    return dtoIn;
  },
  onLoadSuccessDefault: function onLoadSuccessDefault(dtoOut) {
    this.onLoadSuccess(dtoOut);
    return this;
  },
  onLoadErrorDefault: function onLoadErrorDefault(dtoOut) {
    this.onLoadError(dtoOut);
    return this;
  },
  _getReloadDtoIn: function _getReloadDtoIn(props) {
    var _this5 = this;

    props = props || this.props;
    var dtoIn = {};

    if (props.uri) {
      dtoIn.uri = props.uri;
    }

    var getData = this.getOnReloadData_ || this.getOnLoadData_;

    if (typeof getData === "function") {
      dtoIn.data = getData(props);
    }

    dtoIn.done = function (dtoOut) {
      var loadSuccess = _this5.onReloadSuccess_ || _this5.onLoadSuccess_;

      if (typeof loadSuccess === "function") {
        loadSuccess(dtoOut);
      } else {
        _this5.onReloadSuccess(dtoOut);
      }

      _this5._scrollToFragment();
    };

    var calls = this.constructor.calls;
    var callKey = this.getDefault("onReloadCall", "UU5.Common.LoadMixin");
    calls && !calls[callKey] && (callKey = this.getDefault("onLoadCall", "UU5.Common.LoadMixin"));

    dtoIn.fail = function (dtoOut) {
      _this5.showError("onReload", _this5.getCallName(callKey), {
        mixinName: "UU5.Common.LoadMixin",
        context: {
          calls: _this5.getCalls(),
          dtoOut: dtoOut,
          callKey: callKey,
          uri: dtoIn.uri,
          data: dtoIn.data
        }
      });

      var loadError = _this5.onReloadError_ || _this5.onLoadError_;

      if (typeof loadError === "function") {
        loadError(dtoOut);
      } else {
        _this5.onReloadError(dtoOut);
      }
    };

    return dtoIn;
  },
  _onLoad: function _onLoad(props) {
    var loadCall = this._getOnLoadCall();

    if (loadCall) {
      this._unregisterReloading();

      var dtoIn = this._getLoadDtoIn(props);

      loadCall(dtoIn);

      if (this._pageVisible && this._isReloadable()) {
        this._registerReloading(false, this._getUsedReloadCall(loadCall));
      }
    }

    return this;
  },
  _isReloadable: function _isReloadable() {
    return Boolean(this._getUsedReloadInterval());
  },
  _getUsedReloadInterval: function _getUsedReloadInterval() {
    var value = this.props.reloadInterval || this.getOpt("reloadInterval");
    if (value && !this.props.overrideMinReloadInterval) value = Math.max(value, this.getDefault("minReloadInterval", "UU5.Common.LoadMixin"));
    return value;
  },
  _getUsedReloadCall: function _getUsedReloadCall(loadCall) {
    return this._getOnReloadCall() || loadCall || this._getOnLoadCall();
  },
  _registerReloading: function _registerReloading() {
    var _this6 = this;

    var execReloadFirst = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    var reloadCall = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._getUsedReloadCall();

    if (reloadCall) {
      var execReloadFn = function execReloadFn() {
        var reloadDtoIn = _this6._getReloadDtoIn(_this6.props);

        reloadCall(reloadDtoIn);
      };

      if (execReloadFirst) execReloadFn();
      this._reloadInterval = setInterval(execReloadFn, this._getUsedReloadInterval());
    }
  },
  _unregisterReloading: function _unregisterReloading() {
    this._reloadInterval && clearInterval(this._reloadInterval);
    this._reloadInterval = null;
    this._resumeReloadingTimeout && clearTimeout(this._resumeReloadingTimeout);
    this._resumeReloadingTimeout = null;
  },
  _onPageVisibilityChange: function _onPageVisibilityChange(_ref) {
    var _this7 = this;

    var visible = _ref.visible,
        focus = _ref.focus;

    if (this._pageVisible !== visible) {
      this._pageVisible = visible;

      if (visible) {
        // became visible => plan "reload" with respect to the last (re)load time
        if (this._isReloadable()) {
          var delay = Math.max(0, this._getUsedReloadInterval() - (this._lastLoadOrReloadTime ? Date.now() - this._lastLoadOrReloadTime : 0));
          this._resumeReloadingTimeout = setTimeout(function () {
            return _this7._registerReloading(true);
          }, delay);
        }
      } else {
        // became hidden => cancel "reload" plan
        this._unregisterReloading();
      }
    }
  },
  _scrollToFragment: function _scrollToFragment() {
    Promise.resolve().then(function () {
      var router = _environment_environment_js__WEBPACK_IMPORTED_MODULE_5__["default"].getRouter();
      if (router) router.scrollToFragment();
    });
  } //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (LoadMixin);

/***/ }),
/* 92 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LsiMixin", function() { return LsiMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _component_processors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(69);
/* harmony import */ var _internal_lsi_context_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(93);
function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */





var LsiMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.LsiMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      lsiEvent: _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].events.lsi
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    language: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string,
    registerLsi: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    unregisterLsi: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    setLanguage: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    getLanguage: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      language: null
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.LsiMixin");

    if (typeof this.props.registerLsi !== "function") {
      window.UU5.Environment.EventListener.registerLsi(this.getId(), this._changeLanguage);
    } // state


    return {
      language: this.props.language || typeof this.props.getLanguage === "function" && this.props.getLanguage() || _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLanguages()[0].location || _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLanguages()[0].language
    };
  },
  componentDidMount: function componentDidMount() {
    if (typeof this.props.registerLsi === "function") {
      this.props.registerLsi(this.getId(), this._changeLanguage);
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    if (typeof this.props.unregisterLsi === "function") {
      this.props.unregisterLsi(this.getId(), this._changeLanguage);
    } else {
      window.UU5.Environment.EventListener.unregisterLsi(this.getId(), this._changeLanguage);
    }
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonLsiMixin: function hasUU5CommonLsiMixin() {
    return this.hasMixin("UU5.Common.LsiMixin");
  },
  getUU5CommonLsiMixinProps: function getUU5CommonLsiMixinProps() {
    return {
      language: this.props.language
    };
  },
  getUU5CommonLsiMixinPropsToPass: function getUU5CommonLsiMixinPropsToPass() {
    return this.getUU5CommonLsiMixinProps();
  },
  getLanguages: function getLanguages() {
    return _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLanguages();
  },
  getLanguage: function getLanguage() {
    return this.state.language;
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  // TODO: 'cs-CZ,en;q=0.8...' is set to state and never will be used, necessary is doing setState and render the component
  _setLanguage: function _setLanguage(language, setStateCallback) {
    this.setState({
      language: language
    }, setStateCallback);
    return this;
  },
  _changeLanguage: function _changeLanguage(language) {
    // NOTE If a component has LsiMixin and it calls Tools.setLanguage() in its getInitialState, then
    // the flow will get here and the component has no state yet and it has actually no way to alter
    // its language in the state (it cannot call setState because its getInitialState didn't finish yet).
    // We will do nothing in this case.
    // (This started happening when language change listener registration got moved from componentDidMount
    // to getInitialState. However, end result in that flow had been exactly same - the component didn't
    // end up having intended language in its state, so this solution isn't worse than before.)
    if (this.state) {
      if (this.getLanguage() !== language) {
        if (typeof this.onChangeLanguage_ === "function") {
          this.onChangeLanguage_(language);
        } else {
          this.onChangeLanguageDefault(language);
        }
      }
    }
  },
  onChangeLanguageDefault: function onChangeLanguageDefault(language) {
    this._setLanguage(language);

    return this;
  } //@@viewOff:private

}; // fixes issue with <LsiContext localLsi=true /> component working properly only in case that nested
// LsiMixin components use withLsiContext() HOC

_component_processors_js__WEBPACK_IMPORTED_MODULE_3__["postprocessors"].push(function LsiMixinVCPostprocessor(Component, componentDescriptor, ctx) {
  var mixins = componentDescriptor && Array.isArray(componentDescriptor.mixins) ? componentDescriptor.mixins : null;

  if (mixins && mixins.includes(LsiMixin)) {
    // wrap with withLsiContext
    var ResultComponent = Object(_internal_lsi_context_js__WEBPACK_IMPORTED_MODULE_4__["withLsiContext"])(Component);

    var _iterator = _createForOfIteratorHelper(Object.getOwnPropertyNames(Component)),
        _step;

    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var k = _step.value;
        if (k === "constructor" || k === "name" || k === "length" || k === "caller" || k === "arguments") continue;

        try {
          if (!(k in ResultComponent)) ResultComponent[k] = Component[k];
        } catch (e) {} // needed for IE for special properties like "caller"

      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }

    return ResultComponent;
  }

  return Component;
});
LsiMixin.Context = _internal_lsi_context_js__WEBPACK_IMPORTED_MODULE_4__["LsiContext"];
LsiMixin.withContext = _internal_lsi_context_js__WEBPACK_IMPORTED_MODULE_4__["withLsiContext"];
/* harmony default export */ __webpack_exports__["default"] = (LsiMixin);

/***/ }),
/* 93 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LsiContext", function() { return LsiContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withLsiContext", function() { return withLsiContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(18);
/* harmony import */ var _uu5g05_integration_use_language_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(49);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */




var LsiContext = _uu5g05_integration_use_language_js__WEBPACK_IMPORTED_MODULE_3__["LanguageContext"];

var withLsiContext = function withLsiContext(Component) {
  // disable context for jest tests - enzyme doesn't support React 16.3 Context API
  if (!_context_js__WEBPACK_IMPORTED_MODULE_2__["default"].isSupported() ||  false && false) return Component;
  var forwardRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {
    return UU5.Common.Element.create(LsiContext.Consumer, null, function (_ref) {
      var registerLsi = _ref.registerLsi,
          unregisterLsi = _ref.unregisterLsi,
          setLanguage = _ref.setLanguage,
          getLanguage = _ref.getLanguage,
          source = _ref.source,
          language = _ref.language;
      var result; // NOTE Plus4U5.App.LanguageSelector currently uses Provider where it sets only setLanguage into the context value...

      var isFromHookProvider = typeof setLanguage === "function" && language !== undefined;

      if (!isFromHookProvider) {
        result = UU5.Common.Element.create(Component, _extends({}, props, {
          ref: ref,
          registerLsi: registerLsi,
          unregisterLsi: unregisterLsi,
          setLanguage: setLanguage,
          getLanguage: getLanguage
        }));
      } else {
        // from hooks (only setLanguage() and language is provided)
        // => emulate registerLsi/unregisterLsi & triggerring of events
        result = UU5.Common.Element.create(LsiHookAdapter, {
          componentProps: props,
          componentRef: ref,
          Component: Component,
          setLanguage: setLanguage,
          language: language
        });
      }

      return result;
    });
  });
  forwardRef.isUu5PureComponent = true;
  forwardRef.displayName = "forwardRef(".concat(Component.displayName || Component.name || "Component", ")");
  forwardRef.tagName = Component.tagName;
  return forwardRef;
};

var LsiHookAdapter = /*#__PURE__*/function (_React$Component) {
  _inherits(LsiHookAdapter, _React$Component);

  var _super = _createSuper(LsiHookAdapter);

  function LsiHookAdapter(props) {
    var _this;

    _classCallCheck(this, LsiHookAdapter);

    _this = _super.call(this, props);
    _this._registrationMap = {};
    _this._registerLsi = _this._registerLsi.bind(_assertThisInitialized(_this));
    _this._unregisterLsi = _this._unregisterLsi.bind(_assertThisInitialized(_this));
    _this._getLanguage = _this._getLanguage.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(LsiHookAdapter, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      if (prevProps.language !== this.props.language) {
        for (var k in this._registrationMap) {
          this._registrationMap[k](this.props.language);
        }
      }
    }
  }, {
    key: "_registerLsi",
    value: function _registerLsi(id, fn) {
      this._registrationMap[id] = fn;
    }
  }, {
    key: "_unregisterLsi",
    value: function _unregisterLsi(id) {
      delete this._registrationMap[id];
    }
  }, {
    key: "_getLanguage",
    value: function _getLanguage() {
      return this.props.language;
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          componentProps = _this$props.componentProps,
          componentRef = _this$props.componentRef,
          Component = _this$props.Component,
          setLanguage = _this$props.setLanguage;
      return UU5.Common.Element.create(Component, _extends({}, componentProps, {
        ref: componentRef,
        setLanguage: setLanguage,
        getLanguage: this._getLanguage,
        registerLsi: this._registerLsi,
        unregisterLsi: this._unregisterLsi
      }));
    }
  }]);

  return LsiHookAdapter;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);



/***/ }),
/* 94 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SwipeMixin", function() { return SwipeMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */



var SwipeMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.SwipeMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      defaults: {
        maxLengthOnShortSwipe: 70,
        minLengthOnSwipe: 10,
        maxSpeedOnSlowSwipe: 0.3,
        maxAngleDivergence: 10
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  // React lifecycle
  propTypes: {
    swiped: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOf(["up", "right", "down", "left", "upRight", "downRight", "upLeft", "downLeft"]),
    // null is not false - null is not swiped
    swipedLong: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    swipedFast: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      swiped: null,
      // up|right|down|left|upRight|downRight|upLeft|downLeft
      swipedLong: null,
      // true|false
      swipedFast: null // true|false

    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.SwipeMixin");
    this.lastSwipe = {
      x: 0,
      y: 0,
      dx: 0,
      dy: 0,
      ex: 0,
      ey: 0,
      left: false,
      right: false,
      up: false,
      down: false,
      long: this.props.swipedLong,
      fast: this.props.swipedFast,
      length: 0,
      speed: 0,
      startTime: null,
      endTime: null,
      angle: 0
    }; // state

    return null;
  },
  UNSAFE_componentWillMount: function UNSAFE_componentWillMount() {
    this.props.swiped && (this.lastSwipe = this._getUpdatedSwipe(this.props));
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    nextProps.swiped && (this.lastSwipe = this._getUpdatedSwipe(nextProps));
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonSwipeMixin: function hasUU5CommonSwipeMixin() {
    return this.hasMixin("UU5.Common.SwipeMixin");
  },
  getUU5CommonSwipeMixinProps: function getUU5CommonSwipeMixinProps() {
    return {
      swiped: this.props.swiped,
      swipedLong: this.props.swipedLong,
      swipedFast: this.props.swipedFast
    };
  },
  getUU5CommonSwipeMixinPropsToPass: function getUU5CommonSwipeMixinPropsToPass() {
    return this.getUU5CommonSwipeMixinProps();
  },
  getSwipeLength: function getSwipeLength() {
    var dx = this.lastSwipe.dx;
    var dy = this.lastSwipe.dy;
    return Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));
  },
  getAngle: function getAngle() {
    return this.lastSwipe.angle;
  },
  isSwipedHorizontal: function isSwipedHorizontal() {
    return Math.abs(this.getAngle()) <= this.getDefault("maxAngleDivergence", "UU5.Common.SwipeMixin") || Math.abs(this.getAngle()) >= 180 - this.getDefault("maxLengthOnShortSwipe", "UU5.Common.SwipeMixin");
  },
  isSwipedVertical: function isSwipedVertical() {
    return Math.abs(this.getAngle()) <= 90 + this.getDefault("maxLengthOnShortSwipe", "UU5.Common.SwipeMixin") && Math.abs(this.getAngle()) >= 90 - this.getDefault("maxLengthOnShortSwipe", "UU5.Common.SwipeMixin");
  },
  isSwiped: function isSwiped() {
    return this.isSwipedUp() || this.isSwipedRight() || this.isSwipedDown() || this.isSwipedLeft();
  },
  isSwipedShort: function isSwipedShort() {
    return this.lastSwipe.long !== null && !this.lastSwipe.long;
  },
  isSwipedLong: function isSwipedLong() {
    return this.lastSwipe.long !== null && this.lastSwipe.long;
  },
  isSwipedSlow: function isSwipedSlow() {
    return this.lastSwipe.fast !== null && !this.lastSwipe.fast;
  },
  isSwipedFast: function isSwipedFast() {
    return this.lastSwipe.fast !== null && this.lastSwipe.fast;
  },
  isSwipedUp: function isSwipedUp() {
    return this.lastSwipe.up && this.isSwipedVertical();
  },
  isSwipedRight: function isSwipedRight() {
    return this.lastSwipe.right && this.isSwipedHorizontal();
  },
  isSwipedDown: function isSwipedDown() {
    return this.lastSwipe.down && this.isSwipedVertical();
  },
  isSwipedLeft: function isSwipedLeft() {
    return this.lastSwipe.left && this.isSwipedHorizontal();
  },
  // Two directions
  isSwipedUpRight: function isSwipedUpRight() {
    return this.lastSwipe.up && this.lastSwipe.right;
  },
  isSwipedDownRight: function isSwipedDownRight() {
    return this.lastSwipe.down && this.lastSwipe.right;
  },
  isSwipedUpLeft: function isSwipedUpLeft() {
    return this.lastSwipe.up && this.lastSwipe.left;
  },
  isSwipedDownLeft: function isSwipedDownLeft() {
    return this.lastSwipe.down && this.lastSwipe.left;
  },
  // Short
  isSwipedUpShort: function isSwipedUpShort() {
    return this.isSwipedUp() && this.isSwipedShort();
  },
  isSwipedRightShort: function isSwipedRightShort() {
    return this.isSwipedRight() && this.isSwipedShort();
  },
  isSwipedDownShort: function isSwipedDownShort() {
    return this.isSwipedDown() && this.isSwipedShort();
  },
  isSwipedLeftShort: function isSwipedLeftShort() {
    return this.isSwipedLeft() && this.isSwipedShort();
  },
  isSwipedUpRightShort: function isSwipedUpRightShort() {
    return this.isSwipedUpRight() && this.isSwipedShort();
  },
  isSwipedDownRightShort: function isSwipedDownRightShort() {
    return this.isSwipedDownRight() && this.isSwipedShort();
  },
  isSwipedUpLeftShort: function isSwipedUpLeftShort() {
    return this.isSwipedUpLeft() && this.isSwipedShort();
  },
  isSwipedDownLeftShort: function isSwipedDownLeftShort() {
    return this.isSwipedDownLeft() && this.isSwipedShort();
  },
  // Long
  isSwipedUpLong: function isSwipedUpLong() {
    return this.isSwipedUp() && this.isSwipedLong();
  },
  isSwipedRightLong: function isSwipedRightLong() {
    return this.isSwipedRight() && this.isSwipedLong();
  },
  isSwipedDownLong: function isSwipedDownLong() {
    return this.isSwipedDown() && this.isSwipedLong();
  },
  isSwipedLeftLong: function isSwipedLeftLong() {
    return this.isSwipedLeft() && this.isSwipedLong();
  },
  isSwipedUpRightLong: function isSwipedUpRightLong() {
    return this.isSwipedUpRight() && this.isSwipedLong();
  },
  isSwipedDownRightLong: function isSwipedDownRightLong() {
    return this.isSwipedDownRight() && this.isSwipedLong();
  },
  isSwipedUpLeftLong: function isSwipedUpLeftLong() {
    return this.isSwipedUpLeft() && this.isSwipedLong();
  },
  isSwipedDownLeftLong: function isSwipedDownLeftLong() {
    return this.isSwipedDownLeft() && this.isSwipedLong();
  },
  swipeOnTouchStart: function swipeOnTouchStart(handler, e) {
    if (_typeof(handler) === "object") {
      e = handler;
      handler = null;
    }

    e = e || handler;
    this.lastSwipe = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].merge({}, this.lastSwipe, {
      x: e.touches[0].clientX,
      y: e.touches[0].clientY,
      dx: 0,
      dy: 0,
      length: 0,
      speed: null,
      startTime: new Date().getTime()
    });
    typeof handler === "function" && handler(arguments);
    return this;
  },
  swipeOnTouchMove: function swipeOnTouchMove(handler, e) {
    if (_typeof(handler) === "object") {
      e = handler;
      handler = null;
    }

    e = e || handler; // e.preventDefault();

    this.lastSwipe = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].merge({}, this.lastSwipe, {
      dx: e.touches[0].clientX - this.lastSwipe.x,
      dy: e.touches[0].clientY - this.lastSwipe.y,
      ex: e.touches[0].clientX,
      ey: e.touches[0].clientY,
      endTime: new Date().getTime()
    });
    (this.isSwipedLeft() || this.isSwipedRight()) && e.preventDefault();
    typeof handler === "function" && handler(e);
    return this;
  },
  swipeOnTouchEnd: function swipeOnTouchEnd(handler, e) {
    if (_typeof(handler) === "object") {
      e = handler;
      handler = null;
    }

    e = e || handler;
    var length = this.getSwipeLength();

    if (length > this.getDefault("maxLengthOnShortSwipe", "UU5.Common.SwipeMixin")) {
      var duration = this.lastSwipe.endTime - this.lastSwipe.startTime;
      var speed = length / duration;
      this.lastSwipe = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].merge({}, this.lastSwipe, {
        left: this.lastSwipe.dx < -this.getDefault("minLengthOnSwipe", "UU5.Common.SwipeMixin"),
        right: this.lastSwipe.dx > this.getDefault("minLengthOnSwipe", "UU5.Common.SwipeMixin"),
        down: this.lastSwipe.dy > -this.getDefault("minLengthOnSwipe", "UU5.Common.SwipeMixin") && this.lastSwipe.dy > 0,
        up: this.lastSwipe.dy < this.getDefault("minLengthOnSwipe", "UU5.Common.SwipeMixin") && this.lastSwipe.dy < 0,
        long: length > this.getDefault("maxLengthOnShortSwipe", "UU5.Common.SwipeMixin"),
        fast: speed > this.getDefault("maxLengthOnShortSwipe", "UU5.Common.SwipeMixin"),
        length: length,
        speed: length / duration,
        angle: this.angle(this.lastSwipe.x, this.lastSwipe.y, this.lastSwipe.ex, this.lastSwipe.ey)
      });
      typeof handler === "function" && handler(arguments);
    }

    return this;
  },
  angle: function angle(x, y, ex, ey) {
    var dy = y - ey;
    var dx = ex - x;
    var theta = Math.atan2(dy, dx);
    theta *= 180 / Math.PI; //if (theta < 0) theta = 360 + theta;

    return theta;
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _getUpdatedSwipe: function _getUpdatedSwipe(props) {
    return {
      up: props.swiped === "up" || props.swiped === "upRight" || props.swiped === "upLeft",
      right: props.swiped === "right" || props.swiped === "upRight" || props.swiped === "downRight",
      down: props.swiped === "down" || props.swiped === "downRight" || props.swiped === "downLeft",
      left: props.swiped === "left" || props.swiped === "upLeft" || props.swiped === "downLeft",
      long: props.swipedLong,
      fast: props.swipedFast
    };
  } //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (SwipeMixin);

/***/ }),
/* 95 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VucMixin", function() { return VucMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(75);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(16);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(11);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */





var VucMixin = {
  //@@viewOn:mixins
  mixins: [],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    "UU5.Common.VucMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      calls: {
        authorizeVuc: "authorizeVuc"
      },
      errors: {
        sysAuthorizeVuc: "Error of VUC %s during connection to server.",
        notErrorRoute: "Error route was not set either in props or in Environment.",
        notCall: "Call %s was not found either in props or in Environment."
      },
      lsi: function lsi() {
        return _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].Lsi.Common.vucMixin;
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    authorized: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    calls: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object,
    errorRoute: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, // path
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].element, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      tag: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func]),
      props: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object
    })]),
    params: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      authorized: true,
      calls: null,
      errorRoute: null,
      params: null
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.VucMixin");
    this.constructor.vucTitle && this.setTitle();
    return {
      authorizedFeedback: this.props.authorized ? "loading" : "ready",
      profiles: null
    };
  },
  componentDidMount: function componentDidMount() {
    var _this = this;

    this.constructor.vucTitle && window.UU5.Environment.EventListener.registerLsi(this.getId(), function () {
      return _this.setTitle();
    });
    this.props.authorized && this._checkAuthorizing();
  },
  componentWillUnmount: function componentWillUnmount() {
    this._unmounted = true;
    this.constructor.vucTitle && window.UU5.Environment.EventListener.unregisterLsi(this.getId());
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonVucMixin: function hasUU5CommonVucMixin() {
    return this.hasMixin("UU5.Common.VucMixin");
  },
  getUU5CommonVucMixinProps: function getUU5CommonVucMixinProps() {
    return {// profiles: this.props.profiles
    };
  },
  getUU5CommonVucMixinPropsToPass: function getUU5CommonVucMixinPropsToPass() {
    return this.getUU5CommonVucMixinProps();
  },
  getProfiles: function getProfiles() {
    return this.state.profiles;
  },
  isReady: function isReady() {
    return this.state.authorizedFeedback == "ready";
  },
  isLoading: function isLoading() {
    return this.state.authorizedFeedback == "loading";
  },
  isError: function isError() {
    return this.state.authorizedFeedback == "error";
  },
  getVucChildren: function getVucChildren(getChildren) {
    var result;

    switch (this.state.authorizedFeedback) {
      case "loading":
        result = _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].findComponent("UU5.Bricks.Loading");
        break;

      case "ready":
        result = getChildren(this.state.profiles);
        break;

      case "error":
        result = UU5.Common.Element.create(_error_js__WEBPACK_IMPORTED_MODULE_2__["default"], null, _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].findComponent("UU5.Bricks.Lsi", {
          lsi: this.state.message
        }));
        break;
    }

    return result;
  },
  checkAuthorizing: function checkAuthorizing() {
    this._checkAuthorizing();

    return this;
  },
  setTitle: function setTitle(title) {
    title = title || this.constructor.vucTitle;

    if (title) {
      if (_typeof(title) === "object") {
        title = _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLsiItemByLanguage(title);
      }

      document.title = title;
    }

    return this;
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _getAuthorizeVucCall: function _getAuthorizeVucCall() {
    var call;

    if (this.props.calls) {
      call = this.props.calls[this.getCallName().authorizeVuc];
    } else if (_environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].App && _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].App.callConfig && _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].App.callConfig.authorizeVuc) {
      call = _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].App.callConfig.authorizeVuc;
    }

    return call;
  },
  _checkAuthorizing: function _checkAuthorizing() {
    var _this2 = this;

    var call = this._getAuthorizeVucCall();

    if (call) {
      // data = {}
      var data = {
        name: this.constructor.vucName
      };
      call({
        data: data,
        // dtoOut = {profiles: ['..', '..', ...], status: 'ok | error'}
        done: function done(dtoOut) {
          if (!_this2._unmounted) {
            if (dtoOut.data.status === "error") {
              var errorRoute = _this2.props.errorRoute;

              if (!errorRoute) {
                if (_environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].App && _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].App.vucConfig && _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].App.vucConfig.errorRoute) {
                  errorRoute = _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].App.vucConfig.errorRoute;
                } else {
                  _this2.showError("notErrorRoute", null, {
                    mixinName: "UU5.Common.VucMixin",
                    context: {
                      environment: _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"]
                    }
                  });
                }
              }

              if (errorRoute) {
                _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].setRoute(errorRoute);
              } else {
                _this2.setState({
                  authorizedFeedback: "error",
                  message: _this2.getLsi("notAuthorized", "UU5.Common.VucMixin")
                });
              }
            } else {
              _this2.setState({
                authorizedFeedback: "ready",
                profiles: dtoOut.data.profiles || null
              });
            }
          }
        },
        fail: function fail(dtoOut) {
          if (!_this2._unmounted) {
            _this2.showError("sysAuthorizeVuc", _this2.constructor.vucName || window.location.pathname, {
              mixinName: "UU5.Common.VucMixin",
              context: {
                dtoOut: dtoOut
              }
            });

            _this2.setState({
              authorizedFeedback: "error",
              profiles: dtoOut.data && dtoOut.data.profiles || null,
              message: _this2.getLsi("serverConnection", "UU5.Common.VucMixin")
            });
          }
        }
      });
    } else {
      this.showError("notCall", this.getCall().authorizeVuc, {
        mixinName: "UU5.Common.VucMixin",
        context: {
          environment: _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"]
        }
      });
    }
  } //@@viewOff:private
  //@@viewOn:render
  //@@viewOff:render

};
/* harmony default export */ __webpack_exports__["default"] = (VucMixin);

/***/ }),
/* 96 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResizeMixin", function() { return ResizeMixin; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */



var ResizeMixin = {
  //@@viewOn:statics
  statics: {
    "UU5.Common.ResizeMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      defaults: {
        minResizeInterval: 100
      }
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    resizeInterval: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      resizeInterval: undefined
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.ResizeMixin"); // state

    return {};
  },
  componentDidMount: function componentDidMount() {
    this._startResize();
  },
  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {
    if (this.props.resizeInterval !== prevProps.resizeInterval) {
      this._resizeMixinInterval && _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].TimeManager.clearInterval(this._resizeMixinInterval);

      this._startResize();
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    this._resizeMixinInterval && _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].TimeManager.clearInterval(this._resizeMixinInterval);
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonResizeMixin: function hasUU5CommonResizeMixin() {
    return this.hasMixin("UU5.Common.ResizeMixin");
  },
  getUU5CommonResizeMixinProps: function getUU5CommonResizeMixinProps() {
    return {
      resizeInterval: this.props.resizeInterval
    };
  },
  getUU5CommonResizeMixinPropsToPass: function getUU5CommonResizeMixinPropsToPass() {
    return {};
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _startResize: function _startResize() {
    var _this = this;

    this._resizeWidth = 0;
    this._resizeHeight = 0;
    this._resizeMixinInterval = _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].TimeManager.setInterval(function () {
      var domNode = _this.findDOMNode();

      if (!domNode) return;
      var newWidth = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].getWidth(domNode);
      var oldWidth = _this._resizeWidth;
      var newHeight = _tools_js__WEBPACK_IMPORTED_MODULE_2__["default"].getHeight(domNode);
      var oldHeight = _this._resizeHeight;

      if (oldWidth === newWidth && oldHeight === newHeight) {
        if (_this._resizeStart) {
          _this._resizeStart = false;

          if (typeof _this.onResizeEnd_ === "function") {
            _this.onResizeEnd_(oldWidth, newHeight);
          }
        }
      } else {
        _this._resizeWidth = newWidth;
        _this._resizeHeight = newHeight;

        if (!_this._resizeStart) {
          _this._resizeStart = true;

          if (typeof _this.onResizeStart_ === "function") {
            _this.onResizeStart_(newWidth, newHeight);

            return;
          }
        } // call too if onResizeStart_ is not set


        if (typeof _this.onResize_ === "function") {
          _this.onResize_(oldWidth, newWidth, oldHeight, newHeight);
        }
      }
    }, this._getResizeInterval());
  },
  _getResizeInterval: function _getResizeInterval() {
    var interval = _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].resizeInterval;

    if (this.props.resizeInterval) {
      interval = this.props.resizeInterval;
    } else if (this.getOpt() && this.getOpt("resizeInterval")) {
      interval = this.getOpt("resizeInterval");
    }

    return Math.max(interval, this.getDefault("minResizeInterval", "UU5.Common.ResizeMixin"));
  } //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (ResizeMixin);

/***/ }),
/* 97 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RouteMixin", function() { return RouteMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */


var RouteMixin = {
  //@@viewOn:mixins
  mixins: [],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    "UU5.Common.RouteMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"]
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    params: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      params: null
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    // initialize
    this.registerMixin("UU5.Common.RouteMixin");
    return {};
  },
  componentDidMount: function componentDidMount() {
    if (typeof this.onRouteChanged_ === "function") {
      this.onRouteChanged_();
    }
  },
  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {
    if (typeof this.onRouteChanged_ === "function") {
      this.onRouteChanged_(prevProps, prevState);
    }
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonRouteMixin: function hasUU5CommonRouteMixin() {
    return this.hasMixin("UU5.Common.RouteMixin");
  },
  getUU5CommonRouteMixinProps: function getUU5CommonRouteMixinProps() {
    return {};
  },
  getUU5CommonRouteMixinPropsToPass: function getUU5CommonRouteMixinPropsToPass() {
    return this.getUU5CommonRouteMixinProps();
  } //@@viewOff:interface

};
/* harmony default export */ __webpack_exports__["default"] = (RouteMixin);

/***/ }),
/* 98 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Router", function() { return Router; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common_ns_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(16);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(11);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(55);
/* harmony import */ var _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(60);
/* harmony import */ var _ccr_writer_mixin_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(87);
/* harmony import */ var _url_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(23);
/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(75);
/* harmony import */ var _visual_component_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(65);
/* harmony import */ var _element_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(19);
/* harmony import */ var _router_less__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(99);
/* harmony import */ var _router_less__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_router_less__WEBPACK_IMPORTED_MODULE_12__);
var _excluded = ["onClose"];

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports












 //@@viewOff:imports

var REACT_LAZY_TYPEOF = react__WEBPACK_IMPORTED_MODULE_0___default.a.lazy && react__WEBPACK_IMPORTED_MODULE_0___default.a.lazy(function () {
  return {
    default: function _default(props) {
      return "";
    }
  };
}).$$typeof;

function getParamsFromQuery(query) {
  var result = {};
  query.split(/&/).forEach(function (it) {
    var eqlIdx = it.indexOf("=");
    var key = decodeURIComponent((eqlIdx == -1 ? it.substr(0) : it.substr(0, eqlIdx)).replace(/\+/g, " "));

    if (key) {
      var value = decodeURIComponent((eqlIdx == -1 ? "" : it.substr(eqlIdx + 1)).replace(/\+/g, " "));
      result[key] = value;
    }
  });
  return Object.keys(result).length > 0 ? result : undefined;
}

var Router = _visual_component_js__WEBPACK_IMPORTED_MODULE_10__["default"].create({
  displayName: "Router",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_5__["default"], _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_6__["default"], _ccr_writer_mixin_js__WEBPACK_IMPORTED_MODULE_7__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].name("Router"),
    opt: {
      ccrKey: _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].CCRKEY_ROUTER
    },
    classNames: {
      leaveConfirmationModal: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].css("router-leave-confirmation-modal"),
      leaveConfirmationBody: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].css("router-leave-confirmation-body"),
      leaveConfirmationFooter: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].css("router-leave-confirmation-footer"),
      leaveConfirmationButtonConfirm: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].css("router-leave-confirmation-button-confirm"),
      leaveConfirmationButtonDeny: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].css("router-leave-confirmation-button-deny")
    },
    lsi: function lsi() {
      return _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].Lsi.Common.router;
    },
    getDerivedStateFromError: function getDerivedStateFromError(error) {
      return {
        routeError: error
      };
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    basePath: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string,
    route: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, // path
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].element, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      tag: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func]),
      props: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object,
      source: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string
    })]),
    notFoundRoute: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, // path
    uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].element, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].shape({
      tag: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func]),
      props: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object
    })]),
    showNotFoundRouteInUrl: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    routes: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object,
    urlBuilder: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    strictRoutes: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    loading: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].node,
    onRouteChanged: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      basePath: null,
      notFoundRoute: null,
      routes: null,
      urlBuilder: null,
      showNotFoundRouteInUrl: false,
      strictRoutes: false,
      loading: "",
      onRouteChanged: null
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].router = this;
    this._history = [];
    this._routeIndex = null;
    this._preventLeave = {};
    this._preventLeaveUnkeyed = 0;
    return {
      route: null,
      routeError: null,
      requestedRoute: null // info about requested route for cases when it's invalid (wrong component tag / ...)

    };
  },
  UNSAFE_componentWillMount: function UNSAFE_componentWillMount() {
    if (window.location.pathname && this.props.routes && (typeof this.props.route === "string" || this.props.route === undefined)) {
      var path = window.location.pathname;

      var basePath = this._getBasePath(path, this.props);

      basePath && (path = path.replace(basePath, ""));
      var params = null;

      if (window.location.search) {
        params = _url_js__WEBPACK_IMPORTED_MODULE_8__["default"].decodeQuery(window.location.search);
      }

      var fragment = null;

      if (window.location.hash.length > 1) {
        fragment = window.location.hash.substr(1);
      }

      this._setRoute(path, params, this.props, fragment);
    } else if (!this._shouldImport(this.props.route)) {
      this._setRoute(this.props.route, null, this.props);
    }
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    if (nextProps.controlled) {
      this._setRoute(nextProps.route, null, nextProps);
    }
  },
  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {
    return nextProps.controlled || nextState !== this.state;
  },
  componentDidMount: function componentDidMount() {
    if (this._shouldImport(this.props.route)) {
      this._importRoute(this.props.route);
    }

    window.onpopstate = this._onWindowPopState;
    window.addEventListener("scroll", this._onWindowScroll);
    this.scrollToFragment();
  },
  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {
    var _this = this;

    this.scrollToFragment(); // flag below solves this scenario:
    // 1. user is scrolled down
    // 2. user changes route to a new one which contains fragment; new route is using LoadMixin / doing some async stuff before rendering
    // 3. browser triggers scroll event towards top (new route doesn't yet have content and we were scrolled down)
    // 4. we don't want the scroll event to be considered as a user action, i.e. after new route loads, we still want to scroll to new fragment
    // => remember this situation with a timed flag and use it in _onWindowScroll for skipping fragment removal

    this._isScrollDueToRender = true;
    setTimeout(function () {
      return _this._isScrollDueToRender = false;
    }, 50);

    if (typeof this.props.onRouteChanged === "function" && prevState.route !== this.state.route) {
      var _this$state = this.state,
          useCase = _this$state.useCase,
          params = _this$state.params,
          config = _this$state.config;
      var route = config || {
        component: this.state.route
      };
      this.props.onRouteChanged({
        route: route,
        useCase: useCase,
        parameters: params
      });
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    window.removeEventListener("scroll", this._onWindowScroll);
    _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].EventListener.unregisterBeforeUnload();
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  // newRoute =
  //   {component, noHistory, url, notFoundRoute: {} || < />, tag, props, source} ||
  //   "route name" ||
  //   {useCase, params, config} ||     (used only from goTo methods)
  //   @deprecated   <Node ... />
  // params =
  //   a) {url, noHistory, title}  if newRoute is <Node ... />
  //   b) {...}   if newRoute is "route name" (will be used as prop "params" for the component)
  setRoute: function setRoute(newRoute) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    var setStateCallback = typeof args[args.length - 1] === "function" ? args.pop() : undefined; // always last

    var params = args.shift();
    var fragment = args.shift();
    var replace = args.shift();

    if (newRoute && _typeof(newRoute) === "object") {
      if (newRoute.url && newRoute.url.fragment) {
        // fix API of using this object in the rest of the compnent - copy url.fragment into deprecated url.hash
        newRoute = _objectSpread(_objectSpread({}, newRoute), {}, {
          url: _objectSpread(_objectSpread({}, newRoute.url), {}, {
            hash: newRoute.url.fragment
          })
        });
      }

      if ("replace" in newRoute) {
        replace = newRoute.replace;
        newRoute = _objectSpread({}, newRoute);
        delete newRoute.replace;
      }
    }

    if (this._shouldImport(newRoute)) {
      this._importRoute(newRoute, params, setStateCallback);
    } else {
      this._setRoute(newRoute, params, null, fragment, setStateCallback, replace);
    }

    return this;
  },
  allowPageLeave: function allowPageLeave() {
    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

    this._allowPageLeave(false, key);
  },
  preventPageLeave: function preventPageLeave() {
    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
    var getPageLeaveModalPropsFn = arguments.length > 1 ? arguments[1] : undefined;

    if (typeof key === "function") {
      getPageLeaveModalPropsFn = key;
      key = null;
    }

    if (!key) key = "default_" + this._preventLeaveUnkeyed++;
    key = "_" + key;
    delete this._preventLeave[key]; // to update insertion-order

    this._preventLeave[key] = getPageLeaveModalPropsFn;
    if (Object.keys(this._preventLeave).length === 1) _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].EventListener.registerBeforeUnload();
  },
  scrollToFragment: function scrollToFragment()
  /* smoothScroll, offset */
  {
    if (this._pendingFragmentToScrollTo) {
      var id = this._pendingFragmentToScrollTo;
      var fragEl = document.getElementById(id);

      if (!fragEl) {
        id = id.replace("-inner", ""); // inner na konci

        fragEl = document.getElementById(id);
      }

      if (fragEl) {
        var args = [id].concat(Array.prototype.slice.call(arguments, 1));

        if (args.length < 5) {
          while (args.length < 4) {
            args.push(undefined);
          }

          args.push(true);
        }

        _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].scrollToTarget.apply(_tools_js__WEBPACK_IMPORTED_MODULE_3__["default"], args); // NOTE Deleting fragment only if the element exists (i.e. we already scrolled there). If it doesn't exist,
        // we preserve it which then gives opportunity to call scrollToFragment() from other components, e.g. if
        // they're using LoadMixin and need to scroll to the target element themselves after data is loaded.

        delete this._pendingFragmentToScrollTo;
      }
    }
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _allowPageLeave: function _allowPageLeave(allowAll, key) {
    if (allowAll) {
      this._preventLeave = {};
      this._preventLeaveUnkeyed = 0;
    } else {
      if (!key) key = "default_" + --this._preventLeaveUnkeyed;
      key = "_" + key; // to ensure insertion-ordering (numeric keys would be inserted before non-numeric otherwise)

      delete this._preventLeave[key];

      if (typeof key === "string" && key.startsWith("_default_")) {
        var curMaxValue = Object.keys(this._preventLeave).reverse().find(function (it) {
          return it.startsWith("_default_");
        });
        this._preventLeaveUnkeyed = curMaxValue ? Number(curMaxValue.replace("_default_", "")) + 1 : 0;
      }
    }

    if (!Object.keys(this._preventLeave).length) _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].EventListener.unregisterBeforeUnload();
  },
  _getBasePath: function _getBasePath(path, props) {
    var result;

    if (props.basePath === null) {
      result = _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].getAppBasePath();

      if (result === null) {
        path = path || window.location.pathname;
        result = path ? path.replace(/(\/.*?\/.*?)\/.*/, "$1") : "";
      }
    } else {
      result = props.basePath;
    }

    if (result && result[result.length - 1] === "/") result = result.substr(0, result.length - 1);
    if (result && result[0] !== "/") result = "/" + result;
    return result;
  },
  _shouldImport: function _shouldImport(route) {
    return route && _typeof(route) === "object" && route.tag && !_tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].findComponent(route.tag, true);
  },
  _importRoute: function _importRoute(route, params, setStateCallback) {
    var _this2 = this;

    if (window.SystemJS && window.SystemJS.import) {
      if (route.source) {
        SystemJS.import(route.source).then(function (exports) {
          var tagArray = route.tag.split(".");
          var calculatedTag = window;

          while (calculatedTag && tagArray.length > 1) {
            var moduleName = tagArray.shift();
            calculatedTag[moduleName] = calculatedTag[moduleName] || {};
            calculatedTag = calculatedTag[moduleName];
          }

          var tagName = tagArray.shift();
          var tagExport = exports[tagName];
          tagExport = tagExport || exports.default;
          calculatedTag[tagName] = tagExport;

          _this2._setRoute(route, params, null, null, setStateCallback);
        }, function (error) {
          _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].error('Loading package "' + route.source + '" failed with error:', {
            error: error,
            tagName: _this2.constructor.tagName
          });
        });
      } else {
        _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].error("Route was not found and has not set any source to import.", {
          route: route,
          tagName: this.constructor.tagName
        });

        this._setRoute(route.notFoundRoute, {
          requestedRoute: route
        });
      }
    } else {
      _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].error("SystemJS is not defined in window! Cannot import source:", {
        source: route.source,
        tagName: this.constructor.tagName
      });
    }

    return this;
  },
  _setRoute: function _setRoute(newRoute, params, props, frag, setStateCallback) {
    var _this3 = this;

    var replace = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;
    props = props || this.props;

    var _this$_buildRoute = this._buildRoute(newRoute, params, replace, props, frag, null, null, setStateCallback),
        route = _this$_buildRoute.route,
        fragment = _this$_buildRoute.fragment,
        applyRouteFn = _this$_buildRoute.applyRouteFn;

    this._pendingFragmentToScrollTo = fragment;

    this._showPageLeaveConfirmation(function () {
      var applyToState = typeof applyRouteFn !== "function" ? {
        config: undefined,
        useCase: undefined,
        params: undefined
      } : applyRouteFn();
      applyToState && _this3.setState(_objectSpread(_objectSpread({}, applyToState), {}, {
        route: route,
        requestedRoute: newRoute,
        routeError: null
      }), setStateCallback);
    });

    return this;
  },
  _showPageLeaveConfirmation: function _showPageLeaveConfirmation(continueWithPageLeaveCallback) {
    var _this4 = this;

    if (Object.keys(this._preventLeave).length) {
      var processed = false;
      var modalOpen = false;
      var preventKey = Object.keys(this._preventLeave).reverse()[0];

      var processResultFn = function processResultFn(confirmed) {
        if (!processed) {
          // process only first call of this method
          processed = true;

          if (confirmed) {
            _this4._allowPageLeave(true);

            continueWithPageLeaveCallback();
          }

          if (_this4._pageLeaveModal && modalOpen) _this4._pageLeaveModal.close();
        }
      };

      if (this._pageLeaveModal) {
        var customModalProps;
        var fn = this._preventLeave[preventKey];

        if (typeof fn === "function") {
          customModalProps = fn(processResultFn);
        }

        if (customModalProps !== false) {
          var modalProps = this._getPageLeaveModalProps(processResultFn, customModalProps);

          modalOpen = true;

          this._pageLeaveModal.open(modalProps);
        }
      } else {
        var wantToLeave = confirm(this.getLsiValue("pageLeaveConfirmationBody"));
        processResultFn(wantToLeave);
      }
    } else {
      continueWithPageLeaveCallback();
    }
  },
  _getPageLeaveModalProps: function _getPageLeaveModalProps(callback, customProps) {
    var _ref = customProps || {},
        _onClose = _ref.onClose,
        usedCustomProps = _objectWithoutProperties(_ref, _excluded);

    var UU5 = window.UU5; // assume that other bricks are available too (we already rendered UU5.Bricks.Modal)

    return _objectSpread({
      header: this.getLsiComponent("pageLeaveConfirmationHeader"),
      className: this.getClassName("leaveConfirmationModal"),
      onClose: function onClose() {
        var _args$0$component;

        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          args[_key2] = arguments[_key2];
        }

        (_args$0$component = args[0].component).onCloseDefault.apply(_args$0$component, args);

        if (typeof _onClose === "function") _onClose.apply(void 0, args);else callback(false);
      },
      content: [UU5.Common.Element.create(UU5.Bricks.Div, {
        className: this.getClassName("leaveConfirmationBody"),
        key: "body",
        content: this.getLsiComponent("pageLeaveConfirmationBody")
      }), UU5.Common.Element.create(UU5.Bricks.Div, {
        className: this.getClassName("leaveConfirmationFooter"),
        key: "footer"
      }, UU5.Common.Element.create(UU5.Bricks.Button, {
        className: this.getClassName("leaveConfirmationButtonConfirm"),
        onClick: function onClick() {
          return callback(true);
        },
        content: this.getLsiComponent("pageLeaveConfirm")
      }), UU5.Common.Element.create(UU5.Bricks.Button, {
        className: this.getClassName("leaveConfirmationButtonDeny"),
        onClick: function onClick() {
          return callback(false);
        },
        content: this.getLsiComponent("pageLeaveDeny")
      }))]
    }, usedCustomProps);
  },
  _getRouteByPath: function _getRouteByPath(searchedPath, props) {
    var route = props.routes[searchedPath];

    if (route === undefined) {
      if (!props.strictRoutes) route = props.routes[searchedPath.replace(/\/?$/, function (m) {
        return m ? "" : "/";
      })];

      if (route === undefined) {
        // prepend with "/" for backward compatibility
        route = props.routes["/" + searchedPath];

        if (route === undefined) {
          if (!props.strictRoutes) route = props.routes[searchedPath.replace(/\/?$/, function (m) {
            return m ? "" : "/";
          })];
        }
      }
    }

    if (route === undefined) route = null;
    return route;
  },
  _getRouteAfterRewritesAndRedirects: function _getRouteAfterRewritesAndRedirects(routePath, props) {
    var useCase;
    var nextPath = routePath;
    var config;
    var followedPaths = new Set();

    do {
      if (followedPaths.has(nextPath)) {
        throw new Error("Cyclic route detected: " + [].concat(_toConsumableArray(followedPaths), [nextPath]).join(" -> "));
      }

      followedPaths.add(nextPath);

      var route = this._getRouteByPath(nextPath, props);

      if (typeof route === "string") {
        // rewrite
        if (useCase == null) useCase = nextPath;
        nextPath = route;
      } else if (route && route.url && route.url.useCase != null) {
        // redirect
        config = Object.assign({}, route, config);
        nextPath = route.url.useCase;
      } else if (route) {
        // normal config
        config = Object.assign({}, route, config);

        if (useCase == null) {
          useCase = nextPath;
          config.url = route.url; // URL is taken from the final path (after all redirects)
        } else {
          // there was a rewrite => clear explicit url
          delete config.url;
        }

        nextPath = null;
      } else {
        // missing route
        if (useCase == null) useCase = nextPath;
        nextPath = null;
      }
    } while (nextPath !== null);

    return {
      useCase: useCase,
      config: config
    };
  },
  _onWindowPopState: function _onWindowPopState(event) {
    var _this5 = this;

    if (!this._skipPopState) {
      if (event.state) {
        var routeIndex;

        if (event.state.index < this._routeIndex) {
          // go back
          routeIndex = event.state.index; // console.log('goBack', this._history[this._routeIndex], event.state, this._routeIndex, this._history);
        } else {
          // go forward
          routeIndex = event.state.index; // console.log('goForward', this._history[this._routeIndex], event.state, this._routeIndex, this._history);
        }

        var newRoute = this._history[routeIndex];

        if (newRoute === undefined) {
          // we might be in a situation where we used Back in the browser (we were on different domain),
          // we got back without having anything in this._history (this would be in _buildRoute) and then
          // we hit Back again so we're popping history state without having this._history[] populated
          // => try to re-create history entry from current URL only
          var pathname = location.pathname;
          var basePathPrefix = (this._getBasePath(null, this.props) || "") + "/";
          var useCase = pathname.startsWith(basePathPrefix) ? pathname.substr(basePathPrefix.length) : undefined;

          if (useCase != null && this.props.routes) {
            var params = getParamsFromQuery(location.search.substr(1));
            var fragment = location.hash.substr(1);

            var routeInfo = this._getRouteAfterRewritesAndRedirects(useCase, this.props);

            var config;

            if (routeInfo) {
              useCase = routeInfo.useCase;
              config = routeInfo.config;
            }

            while (routeIndex >= this._history.length) {
              this._history.push(undefined);
            }

            newRoute = this._history[routeIndex] = {
              useCase: useCase,
              params: params,
              fragment: fragment,
              config: config
            };
            this._routeIndex = routeIndex;
          }
        }

        if (newRoute) {
          // we're going to display confirmation whether to really navigate back / forward,
          // but the browser already updated current URL in address bar => go to the previous
          // history entry (before popstate) so that URL gets fixed without altering history queue,
          // wait until user confirms navigation and if (s)he does then go to the chosen
          // history entry again so that URL gets fixed again;
          // we'll skip the URL fixing if the navigation confirmation is done synchronously
          // or there's no confirmation at all
          var isWaitingForConfirmation = true;
          var isSynchronousPageLeave = true;

          this._showPageLeaveConfirmation(function () {
            if (!isSynchronousPageLeave && _this5._routeIndex !== routeIndex) {
              _this5._skipPopState = true;
              history.go(routeIndex - _this5._routeIndex);
            }

            isWaitingForConfirmation = false;
            var route, fragment, applyRouteFn;
            var that = _this5;
            _this5._routeIndex = routeIndex;
            if ("component" in newRoute) route = _this5._buildComponent(newRoute.component);else {
              var _that$_buildRoute = that._buildRoute(newRoute, null, true, null, null, false, true);

              route = _that$_buildRoute.route;
              fragment = _that$_buildRoute.fragment;
              applyRouteFn = _that$_buildRoute.applyRouteFn;
            } // TODO "that" - required due to some babel issue (it doesn't use proper "this")

            _this5._pendingFragmentToScrollTo = fragment;
            var applyToState = typeof applyRouteFn !== "function" ? {
              config: undefined,
              useCase: undefined,
              params: undefined
            } : applyRouteFn();
            applyToState && _this5.setState(_objectSpread(_objectSpread({}, applyToState), {}, {
              route: route,
              requestedRoute: newRoute,
              routeError: null
            }));
          });

          isSynchronousPageLeave = false;

          if (isWaitingForConfirmation && this._routeIndex !== routeIndex) {
            this._skipPopState = true;
            _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].EventListener.unregisterBeforeUnload();
            window.addEventListener("popstate", function onceListener() {
              window.removeEventListener("popstate", onceListener);
              _environment_environment_js__WEBPACK_IMPORTED_MODULE_4__["default"].EventListener.registerBeforeUnload();
            });
            history.go(this._routeIndex - routeIndex);
          }
        }
      } // else {
      //   console.log('goInvalid', window.location.pathname, event.state);
      // }

    } else {
      delete this._skipPopState;
    }

    return this;
  },
  _getUrl: function _getUrl(route, params, props, fragment) {
    props = props || this.props;
    var url = document.location.origin + (this._getBasePath(null, props) || "") + "/" + route;
    params && (url += _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].encodeQuery(params));
    fragment && (url += "#" + fragment);
    return url;
  },
  _buildComponent: function _buildComponent(newRoute, params) {
    var newRouteChild;

    if (newRoute && _typeof(newRoute) === "object") {
      var newProps = {
        parent: this.getParent()
      };
      params && (newProps.params = params);

      if (newRoute.tag) {
        var tag = _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].checkTag(newRoute.tag, true);
        var props = _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].merge({}, newRoute.props, newProps);
        newRouteChild = tag ? _element_js__WEBPACK_IMPORTED_MODULE_11__["default"].create(tag, props) : _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].findComponent(newRoute.tag, props);
      } else {
        newRouteChild = _element_js__WEBPACK_IMPORTED_MODULE_11__["default"].clone(newRoute, newProps);
      }
    }

    return newRouteChild;
  },
  _buildRoute: function _buildRoute(route, params, replace, props, fragment, ignoreGoTo, isFromHistory, setStateCallback) {
    var _this6 = this;

    var usedFragment = fragment;
    var newRouteChild = null;
    var applyRouteFn;
    props = props || this.props;

    if (route != null) {
      // :-/ 2nd part of the config.goTo issue - see below
      if (typeof isFromHistory !== "boolean" && typeof this._isFromHistory === "boolean") {
        isFromHistory = this._isFromHistory;
        delete this._isFromHistory;
      }

      var useCase, config, noHistory;

      if (route && _typeof(route) === "object" && "config" in route) {
        params = route.params;
        usedFragment = route.fragment;
        useCase = route.useCase;
        config = route.config;

        if ("isFromHistory" in route) {
          isFromHistory = route.isFromHistory;
          delete route.isFromHistory;
        }

        route = "component" in route ? route.component : route.useCase;
        if (ignoreGoTo == null) ignoreGoTo = true;
      } else if (_typeof(route) === "object" && "url" in route && !("component" in route)) {
        var url = route.url;

        if (typeof route.url === "string") {
          url = _url_js__WEBPACK_IMPORTED_MODULE_8__["default"].parse(_url_js__WEBPACK_IMPORTED_MODULE_8__["default"].getAbsoluteUri(route.url));
        }

        if (_typeof(url) === "object" && typeof url.useCase === "string" && this.props.routes) {
          params = url.parameters;
          usedFragment = url.hash;
          noHistory = route.noHistory;
          route = url.useCase;
        }
      }

      var newRoute = route;

      if (typeof route === "string" && this.props.routes) {
        if (useCase === undefined) {
          if (route[0] === "/") route = route.substr(1);

          var routeInfo = this._getRouteAfterRewritesAndRedirects(route, props);

          if (routeInfo) {
            var _routeInfo = routeInfo;
            useCase = _routeInfo.useCase;
            config = _routeInfo.config;
          }

          if (noHistory !== undefined) config.noHistory = noHistory;

          if ((!config || !config.component) && props.showNotFoundRouteInUrl && typeof props.notFoundRoute === "string") {
            routeInfo = this._getRouteAfterRewritesAndRedirects(props.notFoundRoute, props);

            if (routeInfo) {
              var _routeInfo2 = routeInfo;
              useCase = _routeInfo2.useCase;
              config = _routeInfo2.config;
              params = {
                requestedRoute: newRoute
              };
            }
          }
        }

        if (useCase !== undefined) {
          // we won't apply the route immediately, because it can be stopped by page-leave confirmation yet
          applyRouteFn = function applyRouteFn() {
            var result = {
              useCase: useCase,
              params: params,
              config: config
            }; // if a route descriptor in "routes" props contains goTo method, pass resolved route there
            // and don't do anything with router state (the goTo method is supposed to call
            // router.setRoute(newRoute) by itself)

            if (config && typeof config.goTo === "function" && !ignoreGoTo) {
              result = null;
              var oldHistoryEntry = _this6._history[_this6._routeIndex || 0];
              var oldRoute = oldHistoryEntry && Object.assign({}, oldHistoryEntry, {
                config: _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].mergeDeep({}, oldHistoryEntry.config)
              }); // prevent modification of config

              var _newRoute = {
                useCase: useCase,
                params: params,
                config: _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].mergeDeep({}, config),
                fragment: usedFragment,
                isFromHistory: isFromHistory,
                replace: replace
              }; // 1st part of config.goTo issue - some apps don't simply call router.setRoute(newRoute) so we don't get
              // info whether the new route comes from popping history or not - when that happens, it effectively removes
              // forward history because without that info we simply perform history.pushState()
              // => we'll remember it in instance field because most apps call router.setRoute(newRoute) synchronously during config.goTo

              _this6._isFromHistory = !!isFromHistory;

              try {
                config.goTo(oldRoute, _newRoute, setStateCallback);
              } finally {
                delete _this6._isFromHistory;
              }
            } else if (!isFromHistory) {
              var method = "replaceState";

              if (_this6._routeIndex === null) {
                if (history.state && history.state.index) {
                  // we might be in a situation where we used Back in the browser (we were on different domain)
                  // and now we got back without having anything in this._history
                  // => use at least the proper index and prepare this._history to be using sufficient length
                  _this6._routeIndex = history.state.index;

                  while (_this6._routeIndex >= _this6._history.length) {
                    _this6._history.push(undefined);
                  }

                  _this6._history[_this6._routeIndex] = {
                    useCase: useCase,
                    params: params,
                    config: config,
                    fragment: usedFragment
                  };
                } else {
                  _this6._routeIndex = 0;

                  _this6._history.push({
                    useCase: useCase,
                    params: params,
                    config: config,
                    fragment: usedFragment
                  });
                }
              } else {
                if (!replace) {
                  var leavingRoute = _this6._history[_this6._routeIndex];
                  var leavingFromNoHistory = leavingRoute && leavingRoute.config && leavingRoute.config.noHistory;

                  if (!leavingFromNoHistory) {
                    _this6._routeIndex++;
                    method = "pushState";
                  }
                }

                _this6._history.splice(_this6._routeIndex, _this6._history.length - _this6._routeIndex);

                _this6._history.push({
                  useCase: useCase,
                  params: params,
                  config: config,
                  fragment: usedFragment
                });
              } // console.log(method, route, this._routeIndex, this._history);


              try {
                history[method]({
                  path: route,
                  index: _this6._routeIndex
                }, document.title, _this6._getUrl(useCase, params, props, usedFragment));
              } catch (e) {
                if (!(window.frameElement && e instanceof DOMException)) throw e; // cannot do replace/pushState when in <iframe srcdoc="&lt;html..." (ends with DOMException so ignore it), e.g. in BookKit examples
              }
            }

            return result;
          };

          newRoute = config && config.component;
        }
      } else {
        var foundRoute = route;

        if (foundRoute && _typeof(foundRoute) === "object" && "component" in foundRoute) {
          var _foundRoute = foundRoute;
          foundRoute = _foundRoute.component;
          params = _objectWithoutProperties(_foundRoute, ["component"]);
          _foundRoute;
        } else {
          params = params || {};
        }

        var path;
        var method = "replaceState";

        if (params.url && _typeof(params.url) === "object") {
          var urlBuilder = this.props.urlBuilder;

          if (urlBuilder) {
            path = urlBuilder.parse(window.location.href.replace(/#.*/, "")).set(params.url).toString();
          } else {
            var basePath = this._getBasePath(null, props);

            if (typeof basePath === "string") {
              // to reset actual parameters
              var urlParts = {
                parameters: null
              };
              params.url.useCase && (urlParts.pathName = basePath + "/" + params.url.useCase);
              path = _url_js__WEBPACK_IMPORTED_MODULE_8__["default"].parse(window.location.href.replace(/#.*/, "")).set(_tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].merge(urlParts, params.url)).toString();
            }
          }
        }

        path = path || params.url || window.location.href.replace(/#.*/, "");

        if (!usedFragment) {
          var fragInPathIndex = path.indexOf("#");

          if (fragInPathIndex !== -1) {
            usedFragment = path.substr(fragInPathIndex + 1);
            path = path.substr(0, fragInPathIndex);
            if (!path) path = location.href.replace(/#.*/, "");
          }
        }

        if (foundRoute) {
          // we won't apply the route immediately, because it can be stopped by page-leave confirmation yet
          applyRouteFn = function applyRouteFn() {
            if (!isFromHistory) {
              // NOTE _history entries with components have for some reasons different data than the ones
              // handled via routes map. We need config object with noHistory there so let's add it.
              var _config = {
                noHistory: params.noHistory
              };

              if (_this6._routeIndex === null) {
                if (history.state && history.state.index) {
                  // we might be in a situation where we used Back in the browser (we were on different domain)
                  // and now we got back without having anything in this._history
                  // => use at least the proper index and prepare this._history to be using sufficient length
                  _this6._routeIndex = history.state.index;

                  while (_this6._routeIndex >= _this6._history.length) {
                    _this6._history.push(undefined);
                  }

                  _this6._history[_this6._routeIndex] = {
                    path: path,
                    component: foundRoute,
                    fragment: usedFragment,
                    config: _config
                  };
                } else {
                  _this6._routeIndex = 0;

                  _this6._history.push({
                    path: path,
                    component: foundRoute,
                    fragment: usedFragment,
                    config: _config
                  });
                }
              } else {
                if (!replace) {
                  var leavingRoute = _this6._history[_this6._routeIndex];
                  var leavingFromNoHistory = leavingRoute && leavingRoute.config && leavingRoute.config.noHistory;

                  if (!leavingFromNoHistory) {
                    _this6._routeIndex++;
                    method = "pushState";
                  }
                }

                _this6._history.splice(_this6._routeIndex, _this6._history.length - _this6._routeIndex);

                _this6._history.push({
                  path: path,
                  component: foundRoute,
                  fragment: usedFragment,
                  config: _config
                });
              }

              try {
                history[method]({
                  path: path,
                  index: _this6._routeIndex
                }, params.title || document.title, path + (usedFragment ? "#" + usedFragment : ""));
              } catch (e) {
                if (!(window.frameElement && e instanceof DOMException)) throw e; // cannot do replace/pushState when in <iframe srcdoc="&lt;html..." (ends with DOMException so ignore it), e.g. in BookKit examples
              }
            }

            return {
              config: _objectSpread(_objectSpread({}, params), {}, {
                component: foundRoute
              }),
              useCase: undefined,
              params: undefined
            };
          };

          newRoute = foundRoute;
        }
      }

      newRouteChild = this._buildComponent(newRoute, params);
    }

    return {
      route: newRouteChild,
      fragment: usedFragment,
      applyRouteFn: applyRouteFn
    };
  },
  _buildChild: function _buildChild() {
    var _this7 = this;

    var routeError = this.state.routeError;
    var children = [];

    if (routeError) {
      children.push(UU5.Common.Element.create(_error_js__WEBPACK_IMPORTED_MODULE_9__["default"], {
        error: routeError,
        content: this.getLsiComponent("routeError"),
        moreInfo: true
      }));
    } else if (this.state.route) {
      children.push(this.state.route);
    } else if (this.props.notFoundRoute) {
      children.push(this._buildRoute(this.props.notFoundRoute, {
        requestedRoute: this.state.requestedRoute
      }).route);
    } else {
      children.push(UU5.Common.Element.create("div", null));
      _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].error(this.constructor.tagName, "Router has no content.");
    }

    if (REACT_LAZY_TYPEOF && children[0] && children[0].type && children[0].type.$$typeof === REACT_LAZY_TYPEOF && this.props.loading !== null) {
      children[0] = UU5.Common.Element.create(react__WEBPACK_IMPORTED_MODULE_0___default.a.Suspense, {
        fallback: this.props.loading
      }, children[0]);
    }

    var Modal = _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].checkTag("UU5.Bricks.Modal", true);

    if (Modal) {
      children.push(UU5.Common.Element.create(Modal, {
        ref_: function ref_(modal) {
          return _this7._pageLeaveModal = modal;
        },
        controlled: false,
        location: "portal"
      }));
    }

    return uu5g05__WEBPACK_IMPORTED_MODULE_1__["Fragment"] ? UU5.Common.Element.create(uu5g05__WEBPACK_IMPORTED_MODULE_1__["Fragment"], null, uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].Content.toArray(children)) : uu5g05__WEBPACK_IMPORTED_MODULE_1__["Utils"].Content.toArray(children);
  },
  _onWindowScroll: function _onWindowScroll(e) {
    // if user scrolls at any time then just remove info about fragment to scroll to
    // (we don't want to re-scroll elsewhere if user scrolled somewhere)
    if (!this._isScrollDueToRender) delete this._pendingFragmentToScrollTo;
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    return this._buildChild();
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (Router);

/***/ }),
/* 99 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(100);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(35)();
};

var update = __webpack_require__(36)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 100 */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(34);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".uu5-common-router-leave-confirmation-modal .uu5-common-router-leave-confirmation-footer {\n  padding: 8px 20px 8px 20px;\n  text-align: right;\n}\n.uu5-common-router-leave-confirmation-modal .uu5-common-router-leave-confirmation-footer .uu5-common-router-leave-confirmation-button-confirm {\n  margin-right: 8px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 101 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TagPlaceholder", function() { return TagPlaceholder; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_ns_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(55);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(16);
/* harmony import */ var _not_found_tag_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(79);
/* harmony import */ var _visual_component_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(65);
/* harmony import */ var _uu5g05_integration_use_dynamic_library_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26);
var _excluded = ["_tagName", "_props", "_content", "_error", "_fromFindComponent", "_onLoad"];

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports






 //@@viewOff:imports

var TagPlaceholder = _visual_component_js__WEBPACK_IMPORTED_MODULE_5__["default"].create({
  displayName: "TagPlaceholder",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_2__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].name("TagPlaceholder"),
    classNames: {
      main: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("tag-placeholder")
    },
    errors: {
      serverError: "Unexpected error: %s."
    },
    defaults: {
      regexpVersion: /\/\d*\.\d*\.\d*(?:-[a-z]+\d+(?:\.\d){0,2})?\//g,
      regexpSlash: /\//g,
      regexpDigit: /^\d/g
    },
    opt: {
      hoc: true
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    tagName: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    // deprecated
    props: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    // deprecated
    content: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node), uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]),
    // deprecated
    error: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element]),
    // deprecated
    _tagName: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    _props: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    _content: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].arrayOf(uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node), uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]),
    _error: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string, uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].element]),
    _fromFindComponent: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    _onLoad: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      tagName: null,
      props: null,
      content: null,
      error: null,
      _tagName: null,
      _props: null,
      _content: null,
      _error: null,
      _fromFindComponent: false,
      _onLoad: null
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  componentDidMount: function componentDidMount() {
    if (!this.props._fromFindComponent) {
      _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].warning('Component "TagPlaceholder" is deprecated! Use "UU5.Common.Tools.findComponent()" method instead.');
    }

    this._runEffects();
  },
  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {
    this._runEffects(prevProps, prevState);
  },
  _runEffects: function _runEffects(prevProps, prevState) {
    var _this = this;

    var _ref = this._prevCurrent || [],
        _ref2 = _slicedToArray(_ref, 3),
        prevComponentName = _ref2[0],
        prevComponent = _ref2[1],
        prevError = _ref2[2];

    var _this$_current = _slicedToArray(this._current, 3),
        componentName = _this$_current[0],
        Component = _this$_current[1],
        error = _this$_current[2];

    if (Component !== prevComponent || componentName !== prevComponentName || error !== prevError) {
      if (Component == null && error == null) {
        Object(_uu5g05_integration_use_dynamic_library_component__WEBPACK_IMPORTED_MODULE_6__["loadComponentByName"])(componentName, function () {
          if (!_this.isRendered()) return;

          if (_this.props._fromFindComponent && typeof _this.props._onLoad === "function") {
            var _getComponentByName = Object(_uu5g05_integration_use_dynamic_library_component__WEBPACK_IMPORTED_MODULE_6__["getComponentByName"])(componentName),
                _Component = _getComponentByName.Component,
                _error2 = _getComponentByName.error;

            _this.props._onLoad(_error2 != null ? null : _Component, _error2 != null ? _this.props.error || new Error("Component ".concat(componentName, " has not been found.")) : null);
          }

          _this.forceUpdate();
        });
      }
    }
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _get: function _get(key) {
    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;
    return props._fromFindComponent ? props["_" + key] : props[key];
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var _this2 = this;

    var _this$props = this.props,
        _tagName = _this$props._tagName,
        _props = _this$props._props,
        _content = _this$props._content,
        _error = _this$props._error,
        _fromFindComponent = _this$props._fromFindComponent,
        _onLoad = _this$props._onLoad,
        restProps = _objectWithoutProperties(_this$props, _excluded);

    var mergedProps = _objectSpread(_objectSpread({}, restProps), this._get("props"));

    var componentName = this._get("tagName"); // NOTE This is equivalent of:
    //   let { Component, /* errorData,*/ state } = useDynamicLibraryComponent(componentName);
    // We cannot use the hook directly as this is mixin component.


    var _ref3 = function () {
      var _getComponentByName2 = Object(_uu5g05_integration_use_dynamic_library_component__WEBPACK_IMPORTED_MODULE_6__["getComponentByName"])(componentName),
          Component = _getComponentByName2.Component,
          error = _getComponentByName2.error;

      _this2._prevCurrent = _this2._current;
      _this2._current = [componentName, Component, error];
      return {
        Component: Component !== null && Component !== void 0 ? Component : null,
        errorData: error ? {
          error: error
        } : null,
        state: error != null ? "error" : Component != null ? "ready" : "pending"
      };
    }(),
        Component = _ref3.Component,
        state = _ref3.state;

    return state === "error" ? UU5.Common.Element.create(_not_found_tag_js__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({}, mergedProps, {
      tagName: componentName,
      error: this._get("error")
    })) : Component ? UU5.Common.Element.create(Component, mergedProps, _fromFindComponent ? _content : this.props.content) : null;
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (TagPlaceholder);

/***/ }),
/* 102 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Outline", function() { return Outline; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common_ns_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55);
/* harmony import */ var _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(60);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(16);
/* harmony import */ var _pure_render_mixin__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(64);
/* harmony import */ var _visual_component_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(65);
/* harmony import */ var _outline_less__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(103);
/* harmony import */ var _outline_less__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_outline_less__WEBPACK_IMPORTED_MODULE_8__);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports








 //@@viewOff:imports

var Outline = _visual_component_js__WEBPACK_IMPORTED_MODULE_7__["default"].create({
  displayName: "Outline",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"], _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_4__["default"], _pure_render_mixin__WEBPACK_IMPORTED_MODULE_6__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].name("Outline"),
    classNames: {
      main: _common_ns_js__WEBPACK_IMPORTED_MODULE_1__["default"].css("outline")
    },
    defaults: {
      propsIcon: "mdi-information-outline"
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    element: uu5g05__WEBPACK_IMPORTED_MODULE_2__["PropTypes"].object
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      element: null
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  isOutline: function isOutline() {
    return true;
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _openModal: function _openModal(tag, props) {
    var propsString = JSON.stringify(props, null, 2);
    this.modal.open({
      header: tag,
      content: UU5.Common.Element.create("pre", null, propsString)
    });
    return this;
  },
  _buildOutlineItem: function _buildOutlineItem(tag, props, isContent) {
    var newProps = {};
    var items = null;

    if (props) {
      for (var prop in props) {
        var value = props[prop];

        if (prop === "parent" && value) {
          value = value.getTagName();
        } else if (typeof value === "function") {
          value = "function()";
        }

        newProps[prop] = value;
      }

      if (isContent && typeof props.children !== "string") {
        items = this._buildOutlineItems(props.children);
        delete newProps.children;
      }
    }

    var link = null;

    if (Object.keys(newProps).length) {
      link = _tools_js__WEBPACK_IMPORTED_MODULE_5__["default"].findComponent("UU5.Bricks.Link", {
        onClick: this._openModal.bind(this, tag, newProps),
        content: _tools_js__WEBPACK_IMPORTED_MODULE_5__["default"].findComponent("UU5.Bricks.Icon", {
          icon: this.getDefault().propsIcon
        })
      });
    }

    var newItemProps = {
      label: _tools_js__WEBPACK_IMPORTED_MODULE_5__["default"].findComponent("UU5.Bricks.Span", {
        parent: this,
        content: [tag, link]
      })
    };
    items && (newItemProps.items = items);
    return newItemProps;
  },
  _buildOutlineItems: function _buildOutlineItems(children) {
    var content = this;
    var items = null;

    if (children) {
      !Array.isArray(children) && (children = [children]);
      children.forEach(function (child) {
        items = items || [];
        items.push(content._buildOutlineItem(UU5.Common.Tools.getChildTagName(child), child.props, !!child.type["UU5.Common.ContentMixin"]));
      });
    }

    return items;
  },
  _refModal: function _refModal(modal) {
    this.modal = modal;
    return this;
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var children = this.props.element.getStandardChildren();

    var item = this._buildOutlineItem(this.props.element.getTagName(), UU5.Common.Tools.merge({}, this.props.element.props, {
      children: children
    }), true);

    return UU5.Common.Element.create("div", this.getMainAttrs(), _tools_js__WEBPACK_IMPORTED_MODULE_5__["default"].findComponent("UU5.Bricks.Tree", {
      items: [item]
    }), _tools_js__WEBPACK_IMPORTED_MODULE_5__["default"].findComponent("UU5.Bricks.Modal", {
      ref_: this._refModal,
      parent: this
    }), this.getDisabledCover());
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (Outline);

/***/ }),
/* 103 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(104);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(35)();
};

var update = __webpack_require__(36)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 104 */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(34);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 105 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Help", function() { return Help; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common_ns_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55);
/* harmony import */ var _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(60);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(16);
/* harmony import */ var _pure_render_mixin__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(64);
/* harmony import */ var _content_mixin_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(61);
/* harmony import */ var _visual_component_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(65);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(11);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(106);
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports










 //@@viewOff:imports

var COMPONENT_GET_ENDPOINT = "component/get";
var cache = {};
var Help = _visual_component_js__WEBPACK_IMPORTED_MODULE_8__["default"].create({
  displayName: "Help",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"], _elementary_mixin_js__WEBPACK_IMPORTED_MODULE_4__["default"], _pure_render_mixin__WEBPACK_IMPORTED_MODULE_6__["default"], _content_mixin_js__WEBPACK_IMPORTED_MODULE_7__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].name("Help"),
    classNames: {
      main: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].css("help")
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    tagName: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string,
    target: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOf(["_blank", "_parent", "_top", "_self"])
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      tagName: "UU5.Common.Help",
      target: "_blank"
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    return {
      errorDetails: false,
      responseLink: null
    };
  },
  componentDidMount: function componentDidMount() {
    this._loadLibrary();
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    if (nextProps.tagName !== this.props.tagName) {
      this._loadLibrary(nextProps);
    }
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _loadLibrary: function _loadLibrary() {
    var _arguments = arguments,
        _this = this;

    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
      var _cached$response, _cached$response$data;

      var props, libraryRegistryBaseUri, componentGetUri, url, cached;
      return regeneratorRuntime.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              props = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : _this.props;
              libraryRegistryBaseUri = _environment_environment_js__WEBPACK_IMPORTED_MODULE_9__["default"].COMPONENT_REGISTRY_URL.split(/\//, 5).join("/");
              componentGetUri = libraryRegistryBaseUri + "/" + COMPONENT_GET_ENDPOINT;
              url = componentGetUri + "?code=" + encodeURIComponent(props.tagName);
              cached = cache[url];

              if (!cached) {
                cached = cache[url] = {
                  promise: _request_js__WEBPACK_IMPORTED_MODULE_10__["Request"].call("get", url).catch(function (e) {
                    delete cache[url]; // errored => delete from cache so that we try another call if we get re-mounted
                  })
                };
              }

              if ("response" in cached) {
                _context.next = 10;
                break;
              }

              _context.next = 9;
              return cached.promise;

            case 9:
              cached.response = _context.sent;

            case 10:
              _this.setAsyncState({
                responseLink: (_cached$response = cached.response) === null || _cached$response === void 0 ? void 0 : (_cached$response$data = _cached$response.data) === null || _cached$response$data === void 0 ? void 0 : _cached$response$data.docUri
              });

            case 11:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }))();
  },
  _getLink: function _getLink() {
    if (this.state.responseLink) {
      return _tools_js__WEBPACK_IMPORTED_MODULE_5__["default"].findComponent("UU5.Bricks.Link", _tools_js__WEBPACK_IMPORTED_MODULE_5__["default"].merge(this.getMainPropsToPass(), {
        href: this.state.responseLink,
        content: this.props.content || this.props.children || this.props.tagName,
        target: this.props.target
      }));
    } else {
      return this.props.tagName;
    }
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    return this._getLink();
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (Help);

/***/ }),
/* 106 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Request", function() { return UU5Request; });
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
var ERRORS = {
  "uu5/e001": "No internet connection",
  "uu5/e002": "Unknown Error",
  "uu5/e004": "Client Error",
  "uu5/e005": "Server Error"
};

var UU5Request = /*#__PURE__*/function () {
  function UU5Request() {
    _classCallCheck(this, UU5Request);
  }

  _createClass(UU5Request, null, [{
    key: "call",
    value: function call(method, url, data) {
      var opt = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};

      var headers = _objectSpread({}, opt.headers);

      headers["Content-Type"] = headers["Content-Type"] || "application/json";

      var params = _objectSpread(_objectSpread({}, opt), {}, {
        headers: headers,
        method: method,
        // TODO binary, ...
        body: JSON.stringify(data)
      });

      if (method === "GET") {
        data && (url += UU5Request._encodeQuery(data));
        delete params.body;
      }

      return new Promise(function (resolve, reject) {
        var request = new Request(url, params);
        fetch(request).then(function (response) {
          var contentType = response.headers.get("content-type");
          var dataPromise;

          if (!contentType || contentType.includes("text/plain")) {
            dataPromise = response.text();
          } else if (contentType.includes("application/json")) {
            dataPromise = response.json(); // TODO: another blob content types
          } else if (["image", "audio", "video", "octet-stream", "zip"].find(function (v) {
            return contentType.includes(v);
          })) {
            dataPromise = response.blob();
          } else {
            dataPromise = contentType.startsWith("text/") ? response.text() : response.blob();
          }

          return {
            response: response,
            dataPromise: dataPromise
          };
        }).then(function (_ref) {
          var response = _ref.response,
              dataPromise = _ref.dataPromise;

          if (response.status === 200) {
            // TODO: do resolve, reject just one param
            dataPromise.then(function (data) {
              return resolve(UU5Request._getDtoOut(url, data, response), response);
            });
          } else {
            // TODO: error handling with uu dtoOut structure
            var code = "uu5/e002";

            if (response.status >= 500) {
              code = "uu5/e005";
            } else if (response.status >= 400) {
              code = "uu5/e004";
            }

            if (dataPromise) {
              dataPromise.then(function (data) {
                return reject(UU5Request._getDtoOut(url, data, response, code), response);
              });
            } else {
              reject(UU5Request._getDtoOut(url, data, response, code), response);
            }
          }
        }).catch(function (response) {
          if (window.navigator.onLine) {
            reject(UU5Request._getDtoOut(url, data, response, "uu5/e002"), response);
          } else {
            reject(UU5Request._getDtoOut(url, data, response, "uu5/e001"), response);
          }
        });
      });
    }
  }, {
    key: "get",
    value: function get(url, data, opt) {
      return this.call("GET", url, data, opt);
    }
  }, {
    key: "post",
    value: function post(url, data, opt) {
      return this.call("POST", url, data, opt);
    }
  }, {
    key: "_getDtoOut",
    value: function _getDtoOut(url, data, response, code) {
      var dtoOut = {
        url: url,
        status: response.status,
        data: data
      };

      if (code) {
        dtoOut.code = code;
        dtoOut.error = ERRORS[code] + (response.message ? ": " + response.message : ".");
      }

      return dtoOut;
    }
  }]);

  return UU5Request;
}();

_defineProperty(UU5Request, "_encodeValue", function (value) {
  var result = value + "";

  if (value && (Array.isArray(value) || _typeof(value) === "object")) {
    result = JSON.stringify(value);
  }

  return encodeURIComponent(result);
});

_defineProperty(UU5Request, "_encodeQuery", function (params) {
  var query = "?";

  for (var name in params) {
    query += name + "=" + UU5Request._encodeValue(params[name]) + "&";
  }

  return query.substr(0, query.length - 1);
});


/* harmony default export */ __webpack_exports__["default"] = (UU5Request);

/***/ }),
/* 107 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditableMixin", function() { return EditableMixin; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _uu5string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(62);
/* harmony import */ var _common_ns_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(59);
/* harmony import */ var _element_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(19);
/* harmony import */ var _editable_mixin_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(108);
/* harmony import */ var _editable_mixin_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_editable_mixin_less__WEBPACK_IMPORTED_MODULE_5__);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */






var EDITABLE_MIXIN_NAME = "UU5.Common.EditableMixin";

var requestFrame = function () {
  var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function (fn) {
    return window.setTimeout(fn, 20);
  };

  return function (fn) {
    return raf(fn);
  };
}();

var cancelFrame = function () {
  var cancel = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.clearTimeout;
  return function (id) {
    return cancel(id);
  };
}();

var EditableMixin = {
  //@@viewOn:mixins
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    "UU5.Common.EditableMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"],
      lsi: {
        header: {
          cs: "Editace komponenty %s",
          en: "%s editation"
        }
      },
      classNames: {
        docLink: _common_ns_js__WEBPACK_IMPORTED_MODULE_3__["default"].css("editable-doc-link")
      }
    },
    //editMode used by Section,Row,Column, etc.
    editMode_: {
      // lazy: true/false,
      customEdit: true // editovatelná komponenta musí mít true, jinak se zobrazí editace jako uu5string
      // displayType: inline/block
      // startMode: "content"

    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    getEditablePropValue: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      getEditablePropValue: undefined
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    this.registerMixin(EDITABLE_MIXIN_NAME);
    this._resizeCallbacks = {};
    return {
      editation: false,
      editableComponentLazyLoaded: false
    };
  },
  componentDidMount: function componentDidMount() {
    var _this$props$editMode;

    // init dom node
    this._domNode = this.findDOMNode();
    if ((_this$props$editMode = this.props.editMode) !== null && _this$props$editMode !== void 0 && _this$props$editMode.edit) this.startEditation(this._eccEditEnd, this._eccUpdateProps);
  },
  componentWillUnmount: function componentWillUnmount() {
    this._endResizeCheck();
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    if (nextProps.editMode && nextProps.editMode.edit !== this.state.editation) {
      nextProps.editMode.edit ? this.startEditation(this._eccEditEnd, this._eccUpdateProps) : this.forceEndEditation();
    }
  },
  componentDidUpdate: function componentDidUpdate() {
    // find possible new dom node
    this._domNode = this.findDOMNode();
  },
  _eccEditEnd: function _eccEditEnd(component, newProps) {
    // await this.props.editMode.onChange({ props: newProps })
    this.props.editMode.onEditEnd({
      props: newProps
    });
  },
  _eccUpdateProps: function _eccUpdateProps(component, newProps) {
    // await this.props.editMode.onChange({ props: newProps })
    this.props.editMode.onChange({
      props: newProps
    });
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonEditableMixin: function hasUU5CommonEditableMixin() {
    return this.hasMixin(EDITABLE_MIXIN_NAME);
  },
  startWatchingResize: function startWatchingResize(key, resizeCallback) {
    if (typeof resizeCallback !== "function") return;

    if (Object.keys(this._resizeCallbacks).length === 0) {
      // make initial size check
      this._componentWidth = this._domNode ? this._domNode.clientWidth : 0;
      this._componentHeight = this._domNode ? this._domNode.clientHeight : 0; // start checking size

      this._startResizeCheck();
    }

    this._resizeCallbacks[key] = resizeCallback;
  },
  stopWatchingResize: function stopWatchingResize(key) {
    delete this._resizeCallbacks[key];

    if (Object.keys(this._resizeCallbacks).length === 0) {
      this._endResizeCheck();
    }
  },

  /*
    Returns map of set props and theirs values. Prop editable is set to true as a default value.
     @param {array of string} propsArray - array with names of props
    @returns {json} map of props and theirs values
   */
  getEditablePropsValues: function getEditablePropsValues(propsArray) {
    if (typeof this.getEditablePropsValues_ === "function") {
      return this.getEditablePropsValues_(propsArray);
    }

    return this.getEditablePropsValuesDefault(propsArray);
  },
  getEditablePropsValuesDefault: function getEditablePropsValuesDefault(propsArray) {
    var _this = this;

    var result = {};
    propsArray.forEach(function (propName) {
      var propValue; // = this.props.dccEditor.getComponentPropByName(this.getId(), propName);
      // read prop value from data model - on component props should have modified values (dcc itself adds some props like id)

      if (typeof _this.props.getEditablePropValue === "function") {
        propValue = _this.props.getEditablePropValue(_this, propName);
      } // read prop value directly from component if is not set


      if (propValue === undefined || propValue === null) {
        var value = _this.props[propName]; // preserve returning react components - like default content, etc.

        if (_element_js__WEBPACK_IMPORTED_MODULE_4__["default"].isValid(value)) {
          value = undefined;
        }

        propValue = value;
      }

      result[propName] = propValue;
    });
    return result;
  },

  /*
  Starts component editation. Function should be overriden by startDccEditation_ function on component. If overriden function returns JSON object with attribute content, editation will be handled by dcc editor. Otherwise sets dccEditation state to true.
   @param {func} callback
   */
  startEditation: function startEditation(endEditationCallback, saveEditationCallback, endChildrenEditationFn) {
    this._inEditMode = true;
    this._endEditationCallback = endEditationCallback;
    this._saveEditationCallback = saveEditationCallback;
    this._endChildrenEditationFn = endChildrenEditationFn;
    var result = null;

    if (this.constructor.editableComponent) {
      var tagNameArr = this.getTagName().split(".");
      var docLink;
      var docBase = window[tagNameArr[0]].bookKitUrl || window[tagNameArr[0]][tagNameArr[1]].bookKitUrl;

      if (docBase) {
        var compName = tagNameArr[0].toLowerCase() + tagNameArr[1] + tagNameArr[2];
        docLink = docBase + "?code=" + compName;
      }

      result = {
        content: this._createContentFromUU5StringTemplate("<uu5string /><".concat(this.constructor.editableComponent, " id=\"").concat(this.getId(), "_editable-brick\" component=\"${this}\" />"), {
          this: this
        }),
        header: UU5.Common.Element.create(UU5.Bricks.Div, null, this.getLsiComponent("header", "UU5.Common.EditableMixin", this.getTagName()), docLink ? UU5.Common.Element.create(UU5.Bricks.Link, {
          href: docLink,
          target: "_blank",
          className: this.getClassName("docLink", "UU5.Common.EditableMixin"),
          key: "docLink"
        }, UU5.Common.Element.create(UU5.Bricks.Icon, {
          icon: "mdi-help-circle-outline"
        })) : null)
      };
    } // start inline editation


    if (this.constructor.eccReady && result) {
      this.setState({
        editation: true,
        editationComponent: UU5.Common.Element.create(UU5.Bricks.Modal, _extends({}, result, {
          shown: true
        }))
      });
      return;
    }

    if (!result) {
      // start inline editation
      this.setState({
        editation: true
      });
    }

    return result;
  },
  isInlineEdited: function isInlineEdited() {
    return !!this.state.editation;
  },
  saveEditation: function saveEditation(newProps) {
    if (typeof this._saveEditationCallback === "function") {
      this._saveEditationCallback(this, newProps);
    }
  },

  /*
  Secures the data on the edited component's children.
  This method is needed when component in it's edit mode uses the data from own content/children. As long as content and children can be edited by DCC and by component's edit mode - it can cause data loss.
   */
  endChildrenEditation: function endChildrenEditation() {
    if (typeof this._endChildrenEditationFn === "function") {
      this._endChildrenEditationFn();
    }
  },

  /*
  Ends component editation. Function should be overridden by endDccEditation_ function. If newProps, newContent neither newContraints is not set it only ends editation of component without saving any data.
   @param {object} newProps - new Props to save
  @param {func} callback
   */
  endEditation: function endEditation(newProps) {
    this._inEditMode = false;
    var endEditationCallback = this._endEditationCallback;
    delete this._endEditationCallback;
    delete this._saveEditationCallback;
    delete this._endChildrenEditationFn; // change state only if state was change in startDccEditation method - so only if component does not have this.startDccEditation_ method

    if (this.state.editation) this.setState({
      editation: false,
      editationComponent: null
    });

    if (typeof endEditationCallback === "function") {
      endEditationCallback(this, newProps);
    }
  },

  /*
  Force end of editation of the component. This function takes data to save from forceEndDccEditationHandler function. Returned props, content, constraints and callback function are used to call endDccEditation function.
   @param {func} callback
   */
  forceEndEditation: function forceEndEditation() {
    if (!this._inEditMode) return;
    var props = null;

    if (typeof this.onBeforeForceEndEditation_ === "function") {
      props = this.onBeforeForceEndEditation_();
    }

    this.endEditation(props);
  },
  isNotInlineEdited: function isNotInlineEdited() {
    return !this.state.editation || !this.constructor.editableComponentLazyLoaded;
  },
  getEditingLoading: function getEditingLoading() {
    return UU5.Common.Element.create("span", {
      ref: this._registerLazyLoading
    });
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _registerLazyLoading: function _registerLazyLoading(inst) {
    var _this2 = this;

    // unmount of component means that suspense is loaded and component should be rendered
    if (!inst) {
      this.setState(function (state) {
        if (state.editableComponentLazyLoaded) return; // Edit component is loaded - need to set to static variable because other Edit component does not render fallback component
        // editationLazyLoaded is stored in both state and static variable for cases such as when more edit modes are loaded at the same time

        _this2.constructor.editableComponentLazyLoaded = true;
        return {
          editableComponentLazyLoaded: true
        };
      });
    }
  },

  /*
    Returns react components from uu5string template and data.
     @param {uu5string} uu5string
    @parem {json} data for uu5string template
    @return {react classes}
   */
  _createContentFromUU5StringTemplate: function _createContentFromUU5StringTemplate(uu5string, data) {
    var content = new _uu5string_js__WEBPACK_IMPORTED_MODULE_2__["default"](uu5string).toChildren(data);
    return content;
  },
  _updateComponentSize: function _updateComponentSize() {
    var width = this._domNode ? this._domNode.clientWidth : 0;
    var height = this._domNode ? this._domNode.clientHeight : 0;
    var sizeChanged = this._componentWidth !== undefined && this._componentWidth !== width || this._componentHeight !== undefined && this._componentHeight !== height;
    this._componentWidth = width;
    this._componentHeight = height;

    if (sizeChanged) {
      this._fireResizeEvent(width, height);
    }
  },
  _fireResizeEvent: function _fireResizeEvent(width, height) {
    for (var key in this._resizeCallbacks) {
      var callback = this._resizeCallbacks[key];
      callback({
        id: this.getId(),
        width: width,
        height: height
      });
    } // this.props.dccEditor.fireDccEvent(EVENTS.EVENT_COMPONENT_RESIZE, {componentId: this.getId()});

  },
  _startResizeCheck: function _startResizeCheck() {
    var _this3 = this;

    this._resizeListener = requestFrame(function () {
      _this3._updateComponentSize();

      _this3._startResizeCheck();
    });
  },
  _endResizeCheck: function _endResizeCheck() {
    cancelFrame(this._resizeListener);
  } //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (EditableMixin);

/***/ }),
/* 108 */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(109);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":false}

options.transform = transform
options.insertInto = function anonymous(
) {
return __webpack_require__(35)();
};

var update = __webpack_require__(36)(content, options);

if(content.locals) module.exports = content.locals;



/***/ }),
/* 109 */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(34);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".uu5-common-editable-doc-link.uu5-bricks-link {\n  margin-left: 8px;\n}\n.uu5-common-editable-doc-link.uu5-bricks-link:hover {\n  text-decoration: none;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 110 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextCorrector", function() { return TextCorrector; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(55);
/* harmony import */ var _content_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(61);
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _visual_component_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(65);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports





 //@@viewOff:imports

var TextCorrector = Object(_context_js__WEBPACK_IMPORTED_MODULE_4__["withTextCorrectorContext"])(_visual_component_js__WEBPACK_IMPORTED_MODULE_5__["default"].create({
  displayName: "TextCorrector",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_2__["default"], _content_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: "UU5.Common.TextCorrector"
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    checkGrammar: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    checkHighlight: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    checkSpaces: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    textCorrector: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    language: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      checkGrammar: undefined,
      checkHighlight: undefined,
      checkSpaces: undefined,
      textCorrector: undefined,
      language: null
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    return UU5.Common.Element.create(_context_js__WEBPACK_IMPORTED_MODULE_4__["TextCorrectorContext"].Provider, {
      value: {
        checkGrammar: this.props.checkGrammar !== undefined ? this.props.checkGrammar : this.props.textCorrector,
        checkHighlight: this.props.checkHighlight !== undefined ? this.props.checkHighlight : this.props.textCorrector,
        checkSpaces: this.props.checkSpaces !== undefined ? this.props.checkSpaces : this.props.textCorrector,
        language: this.props.language
      }
    }, this.getChildren());
  } //@@viewOff:render

}));
TextCorrector.withContext = _context_js__WEBPACK_IMPORTED_MODULE_4__["withTextCorrectorContext"];
/* harmony default export */ __webpack_exports__["default"] = (TextCorrector);

/***/ }),
/* 111 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FragmentMixin", function() { return FragmentMixin; });
/* harmony import */ var _editable_mixin_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(107);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var FRAGMENT_MIXIN_NAME = "UU5.Common.FragmentMixin";
var FragmentMixin = {
  //@@viewOn:mixins
  mixins: [_editable_mixin_js__WEBPACK_IMPORTED_MODULE_0__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    "UU5.Common.FragmentMixin": {
      requiredMixins: ["UU5.Common.BaseMixin"]
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    this.registerMixin(FRAGMENT_MIXIN_NAME);
    return null;
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  hasUU5CommonFragmentMixin: function hasUU5CommonFragmentMixin() {
    return this.hasMixin(FRAGMENT_MIXIN_NAME);
  },
  initComponentFragmentation: function initComponentFragmentation(initFn, nextProps) {
    if (typeof this.initComponentFragmentation_ === "function") {
      return this.initComponentFragmentation_(initFn, nextProps);
    } else {
      throw "UU5.Common.FragmentMixin: Component must implement method 'initComponentFragmentation_'";
    }
  },
  setFragment: function setFragment(fragment) {
    if (typeof this.setFragment_ === "function") {
      return this.setFragment_(fragment);
    } else {
      throw "UU5.Common.FragmentMixin: Component must implement method 'setFragment_'";
    }
  } //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  //@@viewOff:private

};
/* harmony default export */ __webpack_exports__["default"] = (FragmentMixin);

/***/ }),
/* 112 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListDataManager", function() { return ListDataManager; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(18);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55);
/* harmony import */ var _component_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(66);
var _excluded = ["children"];

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports




 //@@viewOff:imports

var ListDataManager = _component_js__WEBPACK_IMPORTED_MODULE_4__["default"].create({
  displayName: "ListDataManager",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: "UU5.Common.ListDataManager",
    errors: {
      serverLoad: "Error during %s items from server.",
      serverUpdate: "Error during %s item on server."
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    data: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].array, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object]),
    onLoad: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    onReload: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    onCreate: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    onUpdate: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object]),
    onDelete: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    onBulkCreate: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    onBulkUpdate: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object]),
    onBulkDelete: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    // reloadInterval: PropTypes.number,
    pessimistic: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:defaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      data: undefined,
      onLoad: undefined,
      onReload: undefined,
      onCreate: undefined,
      onUpdate: undefined,
      onDelete: undefined,
      onBulkCreate: undefined,
      onBulkUpdate: undefined,
      onBulkDelete: undefined,
      // reloadInterval: undefined,
      pessimistic: false
    };
  },
  //@@viewOff:defaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    var state = {
      data: null,
      pageInfo: null,
      viewState: "load",
      errorState: null,
      errorData: null
    };

    if (typeof this.props.onLoad !== "function") {
      state.data = this.props.data;
      state.viewState = "ready";
    }

    return state;
  },
  componentDidMount: function componentDidMount() {
    this._load(this.props.onLoad, this.props.data) // promise must have catch, in other way there is written error to console
    .catch(function () {}); // this._startReload();

  },
  // componentWillUnmount() {
  //   this._stopReload();
  // },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  load: function load() {
    var _this = this;

    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.data;
    var pessimistic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.pessimistic;
    return new Promise(function (resolve, reject) {
      // this._stopReload();
      if (pessimistic) {
        _this.setState({
          viewState: "load",
          errorState: null,
          errorData: null
        }, function () {
          _this._load(_this.props.onLoad, data).then(function (promise) {
            return _this._getPromiseCallback(resolve, promise)();
          }).catch(function (promise) {
            _this.showError("serverLoad", "loading", {
              context: {
                promise: promise
              }
            });

            _this._getPromiseCallback(reject, promise)();
          });
        });
      } else {
        _this._load(_this.props.onLoad, data).then(function (promise) {
          return _this._getPromiseCallback(resolve, promise)();
        }).catch(function (promise) {
          _this.showError("serverLoad", "loading", {
            context: {
              promise: promise
            }
          });

          _this._getPromiseCallback(reject, promise)();
        });
      }
    });
  },
  reload: function reload() {
    var _this2 = this;

    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.data;
    var pessimistic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.pessimistic;
    return new Promise(function (resolve, reject) {
      // this._stopReload();
      if (pessimistic) {
        _this2.setState({
          viewState: "reload",
          errorState: null,
          errorData: null
        }, function () {
          _this2._load(_this2.props.onReload || _this2.props.onLoad, data, "reload").then(function (dtoOut) {
            return _this2._getPromiseCallback(resolve, dtoOut)();
          }).catch(function (dtoOut) {
            _this2.showError("serverLoad", "reloading", {
              context: {
                dtoOut: dtoOut
              }
            });

            _this2._getPromiseCallback(reject, dtoOut)();
          });
        });
      } else {
        _this2._load(_this2.props.onReload || _this2.props.onLoad, data, "reload").then(function (dtoOut) {
          return _this2._getPromiseCallback(resolve, dtoOut)();
        }).catch(function (dtoOut) {
          _this2.showError("serverLoad", "reloading", {
            context: {
              dtoOut: dtoOut
            }
          });

          _this2._getPromiseCallback(reject, dtoOut)();
        });
      }
    });
  },
  create: function create(item) {
    var _this3 = this;

    var pessimistic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.pessimistic;
    var serverParams = arguments.length > 2 ? arguments[2] : undefined;
    return new Promise(function (resolve, reject) {
      // this._stopReload();
      var newState = _this3._getCreatedViewData(item, pessimistic);

      _this3.setState(newState, function () {
        return _this3._createServer(item, pessimistic, serverParams, resolve, reject);
      });
    });
  },
  bulkCreate: function bulkCreate(items) {
    var _this4 = this;

    var pessimistic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.pessimistic;
    var serverParams = arguments.length > 2 ? arguments[2] : undefined;
    return new Promise(function (resolve, reject) {
      // this._stopReload();
      var newState = _this4._getCreatedViewData(items, pessimistic, true);

      _this4.setState(newState, function () {
        return _this4._createServer(items, pessimistic, serverParams, resolve, reject, true);
      });
    });
  },
  update: function update(id, item) {
    var _this5 = this;

    var pessimistic = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.pessimistic;
    var serverParams = arguments.length > 3 ? arguments[3] : undefined;
    var key = arguments.length > 4 ? arguments[4] : undefined;
    return new Promise(function (resolve, reject) {
      // this._stopReload();
      var _this5$_getUpdatedVie = _this5._getUpdatedViewData(id, item, pessimistic),
          _this5$_getUpdatedVie2 = _slicedToArray(_this5$_getUpdatedVie, 2),
          newState = _this5$_getUpdatedVie2[0],
          oldItem = _this5$_getUpdatedVie2[1];

      _this5.setState(newState, function () {
        return _this5._updateServer(key, id, item, pessimistic, oldItem, serverParams, resolve, reject);
      });
    });
  },
  bulkUpdate: function bulkUpdate(ids, items) {
    var _this6 = this;

    var pessimistic = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.pessimistic;
    var serverParams = arguments.length > 3 ? arguments[3] : undefined;
    var key = arguments.length > 4 ? arguments[4] : undefined;
    return new Promise(function (resolve, reject) {
      // this._stopReload();
      var _this6$_getUpdatedVie = _this6._getUpdatedViewData(ids, items, pessimistic, true),
          _this6$_getUpdatedVie2 = _slicedToArray(_this6$_getUpdatedVie, 2),
          newState = _this6$_getUpdatedVie2[0],
          oldItems = _this6$_getUpdatedVie2[1];

      _this6.setState(newState, function () {
        return _this6._updateServer(key, ids, items, pessimistic, oldItems, serverParams, resolve, reject, true);
      });
    });
  },
  delete: function _delete(id) {
    var _this7 = this;

    var pessimistic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.pessimistic;
    var serverParams = arguments.length > 2 ? arguments[2] : undefined;
    return new Promise(function (resolve, reject) {
      // this._stopReload();
      var _this7$_getDeletedVie = _this7._getDeletedViewData(id, pessimistic),
          _this7$_getDeletedVie2 = _slicedToArray(_this7$_getDeletedVie, 3),
          newState = _this7$_getDeletedVie2[0],
          oldItem = _this7$_getDeletedVie2[1],
          index = _this7$_getDeletedVie2[2];

      _this7.setState(newState, function () {
        return _this7._deleteServer(id, pessimistic, oldItem, index, serverParams, resolve, reject);
      });
    });
  },
  bulkDelete: function bulkDelete(ids) {
    var _this8 = this;

    var pessimistic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.pessimistic;
    var serverParams = arguments.length > 2 ? arguments[2] : undefined;
    return new Promise(function (resolve, reject) {
      // this._stopReload();
      var _this8$_getDeletedVie = _this8._getDeletedViewData(ids, pessimistic, true),
          _this8$_getDeletedVie2 = _slicedToArray(_this8$_getDeletedVie, 3),
          newState = _this8$_getDeletedVie2[0],
          oldItem = _this8$_getDeletedVie2[1],
          index = _this8$_getDeletedVie2[2];

      _this8.setState(newState, function () {
        return _this8._deleteServer(ids, pessimistic, oldItem, index, serverParams, resolve, reject, true);
      });
    });
  },
  //@@viewOff:interface
  //@@viewOn:private
  _load: function _load() {
    var _this9 = this;

    var call = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.onLoad;
    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.data || null;
    var errorState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "load";
    return new Promise(function (resolve, reject) {
      if (typeof call === "function") {
        call(data).then(function (response) {
          var pageInfo = null;
          var data = response;

          if (_typeof(response) === "object" && response !== null && !Array.isArray(response)) {
            pageInfo = response.pageInfo;
            data = Array.isArray(response.itemList) ? response.itemList : response;
          }

          _this9.isRendered() && _this9.setState({
            viewState: "ready",
            errorState: null,
            errorData: null,
            data: data,
            pageInfo: pageInfo,
            response: response
          }, typeof resolve === "function" ? function () {
            return resolve(data);
          } : undefined);
        }).catch(function (response) {
          _this9.isRendered() && _this9.setState({
            errorData: response,
            viewState: "error",
            errorState: errorState,
            response: response
          }, typeof reject === "function" ? function () {
            return reject(response);
          } : undefined);
        });
      }
    });
  },
  // _startReload() {
  //   if (this.props.reloadInterval && !this._interval) {
  //     this._interval = setInterval(
  //       () => this._load(this.props.onReload || this.props.onLoad, undefined, "reload"),
  //       this.props.reloadInterval
  //     );
  //   }
  // },
  // _stopReload() {
  //   this._interval && clearInterval(this._interval);
  //   this._interval = undefined;
  // },
  _getPromiseCallback: function _getPromiseCallback(callback, data) {
    return function () {
      // this._startReload();
      typeof callback === "function" && callback(data);
    };
  },
  _getCreatedViewData: function _getCreatedViewData(item, pessimistic) {
    var bulk = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
    var items = bulk ? item : [item];
    var state;

    if (pessimistic) {
      state = {
        viewState: bulk ? "bulkCreate" : "create",
        errorState: null,
        errorData: null
      };
    } else {
      state = function state(_state) {
        var pageInfo = _state.pageInfo ? _objectSpread({}, _state.pageInfo) : null;

        if (pageInfo && typeof pageInfo.total === "number") {
          pageInfo.total += items.length;
        }

        return {
          data: [].concat(_toConsumableArray(_state.data), _toConsumableArray(items)),
          pageInfo: pageInfo,
          errorState: null,
          errorData: null
        };
      };
    }

    return state;
  },
  _getUpdatedViewData: function _getUpdatedViewData(identifier, item, pessimistic) {
    var _this10 = this;

    var bulk = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
    var identifiers = bulk ? identifier : [identifier];
    var items = bulk ? item : [item];
    var oldItems = identifiers.map(function (identifier) {
      return _this10.state.data.find(typeof identifier === "function" ? identifier : function (item) {
        return item.id === identifier;
      });
    });
    var state;

    if (pessimistic) {
      state = {
        viewState: bulk ? "bulkUpdate" : "update",
        errorState: null,
        errorData: null
      };
    } else {
      state = function state(_state2) {
        var data = _toConsumableArray(_state2.data);

        var oldItems = identifiers.map(function (identifier) {
          return _state2.data.find(typeof identifier === "function" ? identifier : function (item) {
            return item.id === identifier;
          });
        });
        var changed = false;
        oldItems.forEach(function (oldItem, i) {
          var index = data.indexOf(oldItem);

          if (index > -1) {
            data.splice(index, 1, _objectSpread(_objectSpread({}, oldItem), items[i]));
            changed = true;
          }
        });
        var newState = changed ? {
          data: data,
          errorState: null,
          errorData: null
        } : undefined;
        return newState;
      };
    }

    return [state, bulk ? oldItems : oldItems[0]];
  },
  _getDeletedViewData: function _getDeletedViewData(identifier, pessimistic) {
    var _this11 = this;

    var bulk = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
    var identifiers = bulk ? identifier : [identifier];
    var oldItems = identifiers.map(function (identifier) {
      return _this11.state.data.find(typeof identifier === "function" ? identifier : function (item) {
        return item.id === identifier;
      });
    });
    var indices = oldItems.map(function (oldItem) {
      return _this11.state.data.indexOf(oldItem);
    });
    var state;

    if (pessimistic) {
      state = {
        viewState: bulk ? "bulkDelete" : "delete",
        errorState: null,
        errorData: null
      };
    } else {
      state = function state(_state3) {
        var data = _toConsumableArray(_state3.data);

        var deleteCount = 0;
        identifiers.forEach(function (identifier) {
          var index = data.findIndex(typeof identifier === "function" ? identifier : function (item) {
            return item.id === identifier;
          });

          if (index > -1) {
            data.splice(index, 1);
            deleteCount++;
          }
        });
        var newState;

        if (deleteCount > 0) {
          var pageInfo = _state3.pageInfo ? _objectSpread({}, _state3.pageInfo) : null;

          if (pageInfo && typeof pageInfo.total === "number") {
            pageInfo.total -= deleteCount;
          }

          newState = {
            data: data,
            pageInfo: pageInfo,
            errorState: null,
            errorData: null
          };
        }

        return newState;
      };
    }

    return [state, bulk ? oldItems : oldItems[0], bulk ? indices : indices[0]];
  },
  _createServer: function _createServer(item, pessimistic, serverParams, resolve, reject) {
    var _this12 = this;

    var bulk = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;
    var promise = this.props[bulk ? "onBulkCreate" : "onCreate"](item, serverParams);
    var items = bulk ? item : [item];
    promise.then(function (response) {
      // array or object for backward compatibility
      var dtoOut = Array.isArray(response) ? response : response && _typeof(response) === "object" && response.data || response;

      if (_this12.isRendered()) {
        _this12.setState( // NOTE We're updating data even when optimistic because server can send us updated
        // information and especially server-generated "id" for the created item.
        function (state) {
          var pageInfo = state.pageInfo;
          var dtoOutItems = bulk ? dtoOut : [dtoOut];

          if (pessimistic) {
            pageInfo = state.pageInfo ? _objectSpread({}, state.pageInfo) : null;

            if (pageInfo && typeof pageInfo.total === "number") {
              pageInfo.total += items.length;
            }
          }

          var data = _toConsumableArray(state.data);

          dtoOutItems.forEach(function (dtoOutItem, i) {
            var origItem = items[i];
            var index = data.indexOf(origItem);

            var newItem = _objectSpread(_objectSpread({}, origItem), dtoOutItem); // optimistic?


            index > -1 ? data[index] = newItem : data.push(newItem);
          });
          return {
            viewState: "ready",
            errorState: null,
            errorData: null,
            data: data,
            pageInfo: pageInfo,
            response: response
          };
        }, _this12._getPromiseCallback(resolve, response));
      } else {
        resolve(response);
      }
    }, function (response) {
      _this12.showError("serverUpdate", "creating", {
        context: {
          response: response
        }
      });

      if (_this12.isRendered()) {
        _this12.setState(function (state) {
          var newState = {
            viewState: "error",
            errorState: "create",
            errorData: response,
            response: response
          };

          if (!pessimistic) {
            // rollback optimistic changes
            var data = _toConsumableArray(state.data);

            items.forEach(function (item) {
              var index = data.indexOf(item);
              data.splice(index, 1);
            });
            var pageInfo = state.pageInfo ? _objectSpread({}, state.pageInfo) : null;

            if (pageInfo && typeof pageInfo.total === "number") {
              pageInfo.total -= items.length;
            }

            newState.data = data;
            newState.pageInfo = pageInfo;
          }

          return newState;
        }, _this12._getPromiseCallback(reject, response));
      } else {
        reject(response);
      }
    });
  },
  _getUpdateCall: function _getUpdateCall(key) {
    var bulk = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    var call = bulk ? this.props.onBulkUpdate : this.props.onUpdate;
    if (call && call[key]) call = call[key];
    return call;
  },
  _updateServer: function _updateServer(key, identifier, item, pessimistic, oldItem, serverParams, resolve, reject) {
    var _this13 = this;

    var bulk = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : false;

    var call = this._getUpdateCall(key, bulk);

    var promise = call(identifier, item, serverParams);
    var identifiers = bulk ? identifier : [identifier];
    var oldItems = bulk ? oldItem : [oldItem];
    promise.then(function (response) {
      // array for backward compatibility
      var dtoOut = Array.isArray(response) ? response : response && _typeof(response) === "object" && response.data || response; // NOTE We're updating data even when optimistic because server can send us updated
      // information.

      if (_this13.isRendered()) {
        _this13.setState(function (state) {
          var data = _toConsumableArray(state.data);

          var oldModItems = identifiers.map(function (identifier) {
            return state.data.find(typeof identifier === "function" ? identifier : function (item) {
              return item.id === identifier;
            });
          });
          var dtoOutItems = bulk ? dtoOut : [dtoOut];
          oldModItems.forEach(function (oldModItem, i) {
            var index = data.indexOf(oldModItem);
            if (index > -1) data[index] = _objectSpread(_objectSpread({}, oldItems[i]), dtoOutItems[i] || data[index]);
          });
          return {
            viewState: "ready",
            errorState: null,
            errorData: null,
            data: data,
            response: response
          };
        }, _this13._getPromiseCallback(resolve, dtoOut));
      } else {
        resolve(dtoOut);
      }
    }, function (response) {
      _this13.showError("serverUpdate", "updating", {
        context: {
          response: response
        }
      });

      if (_this13.isRendered()) {
        _this13.setState(function (state) {
          var newState = {
            viewState: "error",
            errorState: "update",
            errorData: response,
            response: response
          };

          if (!pessimistic) {
            // rollback optimistic changes
            var data = _toConsumableArray(state.data);

            var oldModItems = identifiers.map(function (identifier) {
              return state.data.find(typeof identifier === "function" ? identifier : function (item) {
                return item.id === identifier;
              });
            });
            oldModItems.forEach(function (oldModItem, i) {
              var index = data.indexOf(oldModItem);
              if (index > -1) data.splice(index, 1, oldItems[i]);
            });
            newState.data = data;
          }

          return newState;
        }, _this13._getPromiseCallback(reject, response));
      } else {
        reject(response);
      }
    });
  },
  _deleteServer: function _deleteServer(identifier, pessimistic, oldItem, index, serverParams, resolve, reject) {
    var _this14 = this;

    var bulk = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : false;
    var promise = this.props[bulk ? "onBulkDelete" : "onDelete"](identifier, serverParams);
    var identifiers = bulk ? identifier : [identifier];
    var oldItems = bulk ? oldItem : [oldItem];
    var indices = bulk ? index : [index];

    if (pessimistic) {
      promise.then(function (response) {
        var dtoOut = response && _typeof(response) === "object" ? response.data : undefined;
        _this14.isRendered() && _this14.setState(function (state) {
          var data = _toConsumableArray(state.data);

          var deleteCount = 0;
          var dtoOutItems = bulk ? dtoOut || [] : [dtoOut];
          identifiers.forEach(function (identifier, i) {
            var index = data.findIndex(typeof identifier === "function" ? identifier : function (item) {
              return item.id === identifier;
            });

            if (index > -1) {
              if (dtoOutItems[i] == null) {
                data.splice(index, 1);
                deleteCount++;
              } else {
                data.splice(index, 1, _objectSpread(_objectSpread({}, data[index]), dtoOutItems[i]));
              }
            }
          });
          var pageInfo = state.pageInfo ? _objectSpread({}, state.pageInfo) : null;

          if (pageInfo && typeof pageInfo.total === "number") {
            pageInfo.total -= deleteCount;
          }

          return {
            viewState: "ready",
            errorState: null,
            errorData: null,
            data: data,
            pageInfo: pageInfo,
            response: response
          };
        }, _this14._getPromiseCallback(resolve, response));
      }).catch(function (response) {
        _this14.showError("serverUpdate", "deleting", {
          context: {
            response: response
          }
        });

        var newState = {
          viewState: "error",
          errorState: "delete",
          errorData: response,
          response: response
        };
        _this14.isRendered() && _this14.setState(newState, _this14._getPromiseCallback(reject, response));
      });
    } else {
      promise.then(function (response) {
        var dtoOut = response && _typeof(response) === "object" ? response.data : undefined;
        var dtoOutItems = bulk ? dtoOut || [] : [dtoOut];
        _this14.isRendered() && _this14.setState(function (state) {
          var data = _toConsumableArray(state.data);

          var restoredCount = 0;
          var mergedOldSorted = oldItems.map(function (oldItem, i) {
            return {
              oldItem: oldItem,
              i: i,
              index: indices[i]
            };
          });
          mergedOldSorted.sort(function (a, b) {
            return a.index - b.index;
          });
          mergedOldSorted.forEach(function (_ref) {
            var oldItem = _ref.oldItem,
                index = _ref.index,
                i = _ref.i;

            // backward compatibility if dtoOut is undefined
            if (index > -1 && dtoOutItems[i] != null) {
              data.splice(index, 0, _objectSpread(_objectSpread({}, oldItem), dtoOutItems[i]));
              restoredCount++;
            }
          });
          var pageInfo = state.pageInfo ? _objectSpread({}, state.pageInfo) : null;

          if (pageInfo && typeof pageInfo.total === "number") {
            pageInfo.total += restoredCount;
          }

          return {
            data: data,
            pageInfo: pageInfo,
            response: response
          };
        }, _this14._getPromiseCallback(resolve, response));
      }).catch(function (response) {
        _this14.showError("serverUpdate", "deleting", {
          context: {
            response: response
          }
        });

        var newState = {
          viewState: "error",
          errorState: "update",
          errorData: response,
          response: response
        };
        _this14.isRendered() && _this14.setState(function (state) {
          var data = _toConsumableArray(state.data);

          var restoredCount = 0;
          var mergedOldSorted = oldItems.map(function (oldItem, i) {
            return {
              oldItem: oldItem,
              index: indices[i]
            };
          });
          mergedOldSorted.sort(function (a, b) {
            return a.index - b.index;
          });
          mergedOldSorted.forEach(function (_ref2) {
            var oldItem = _ref2.oldItem,
                index = _ref2.index;

            if (index > -1) {
              data.splice(index, 0, oldItem);
              restoredCount++;
            }
          });
          var pageInfo = state.pageInfo ? _objectSpread({}, state.pageInfo) : null;

          if (pageInfo && typeof pageInfo.total === "number") {
            pageInfo.total += restoredCount;
          }

          return _objectSpread(_objectSpread({}, newState), {}, {
            data: data,
            pageInfo: pageInfo
          });
        }, _this14._getPromiseCallback(reject, response));
      });
    }
  },
  _getValues: function _getValues() {
    return _objectSpread(_objectSpread({}, this.state), {}, {
      // clone
      data: this.state.data ? _toConsumableArray(this.state.data) : null,
      pageInfo: this.state.pageInfo,
      handleLoad: this.load,
      handleReload: this.reload,
      handleCreate: this.create,
      handleUpdate: this.update,
      handleDelete: this.delete,
      handleBulkCreate: this.bulkCreate,
      handleBulkUpdate: this.bulkUpdate,
      handleBulkDelete: this.bulkDelete
    });
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    return this.props.children(this._getValues());
  } //@@viewOff:render

});

ListDataManager.createContext = function () {
  var ListDataManagerContext = _context_js__WEBPACK_IMPORTED_MODULE_2__["default"].create();

  var Provider = function Provider(_ref3) {
    var children = _ref3.children,
        props = _objectWithoutProperties(_ref3, _excluded);

    return UU5.Common.Element.create(ListDataManager, props, function (values) {
      return UU5.Common.Element.create(ListDataManagerContext.Provider, {
        value: values
      }, children);
    });
  };

  return {
    Provider: Provider,
    Consumer: ListDataManagerContext.Consumer,
    Context: ListDataManagerContext
  };
};

/* harmony default export */ __webpack_exports__["default"] = (ListDataManager);

/***/ }),
/* 113 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataManager", function() { return DataManager; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(18);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55);
/* harmony import */ var _component_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(66);
var _excluded = ["children"];

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports




 //@@viewOff:imports

var DataManager = _component_js__WEBPACK_IMPORTED_MODULE_4__["default"].create({
  displayName: "DataManager",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: "UU5.Common.DataManager",
    errors: {
      serverLoad: "Error during %s data from server.",
      serverUpdate: "Error during %s data on server."
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    data: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].array, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object]),
    onLoad: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    onReload: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func,
    onUpdate: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].func, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].object]),
    // reloadInterval: PropTypes.number,
    pessimistic: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:defaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      data: undefined,
      onLoad: undefined,
      onReload: undefined,
      onUpdate: undefined,
      // reloadInterval: undefined,
      pessimistic: false
    };
  },
  //@@viewOff:defaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    var state = {
      data: null,
      viewState: "load",
      errorState: null,
      errorData: null
    };

    if (typeof this.props.onLoad !== "function") {
      state.data = this.props.data;
      state.viewState = "ready";
    }

    return state;
  },
  componentDidMount: function componentDidMount() {
    this.load(this.props.data, false) // promise must have catch, in other way there is written error to console
    .catch(function () {}); // this._startReload();
  },
  // componentWillUnmount() {
  //   this._stopReload();
  // },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  load: function load() {
    var _this = this;

    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.data;
    var pessimistic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.pessimistic;
    return new Promise(function (resolve, reject) {
      // this._stopReload();
      if (pessimistic) {
        _this.setState({
          viewState: "load",
          errorState: null,
          errorData: null
        }, function () {
          _this._load(_this.props.onLoad, data).then(function (dtoOut) {
            return _this._getPromiseCallback(resolve, dtoOut)();
          }).catch(function (dtoOut) {
            _this.showError("serverLoad", "loading", {
              context: {
                dtoOut: dtoOut
              }
            });

            _this._getPromiseCallback(reject, dtoOut)();
          });
        });
      } else {
        _this._load(_this.props.onLoad, data).then(function (dtoOut) {
          return _this._getPromiseCallback(resolve, dtoOut)();
        }).catch(function (dtoOut) {
          _this.showError("serverLoad", "loading", {
            context: {
              dtoOut: dtoOut
            }
          });

          typeof reject === "function" && reject(dtoOut); // this._getPromiseCallback(reject, dtoOut)()
        });
      }
    });
  },
  reload: function reload() {
    var _this2 = this;

    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.data;
    var pessimistic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.pessimistic;
    return new Promise(function (resolve, reject) {
      if (pessimistic) {
        _this2.setState({
          viewState: "reload",
          errorState: null,
          errorData: null
        }, function () {
          _this2._load(_this2._getReloadCall(), data, "reload").then(function (dtoOut) {
            return _this2._getPromiseCallback(resolve, dtoOut)();
          }).catch(function (dtoOut) {
            _this2.showError("serverLoad", "reloading", {
              context: {
                dtoOut: dtoOut
              }
            });

            _this2._getPromiseCallback(reject, dtoOut)();
          });
        });
      } else {
        _this2._load(_this2._getReloadCall(), data, "reload").then(function (dtoOut) {
          return _this2._getPromiseCallback(resolve, dtoOut)();
        }).catch(function (dtoOut) {
          _this2.showError("serverLoad", "reloading", {
            context: {
              dtoOut: dtoOut
            }
          });

          _this2._getPromiseCallback(reject, dtoOut)();
        });
      }
    });
  },
  update: function update(newData) {
    var _this3 = this;

    var pessimistic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.pessimistic;
    var serverParams = arguments.length > 2 ? arguments[2] : undefined;
    var key = arguments.length > 3 ? arguments[3] : undefined;

    // backward compatibility
    if (typeof serverParams === "string") {
      key = serverParams;
      serverParams = undefined;
    }

    return new Promise(function (resolve, reject) {
      // this._stopReload();
      var _this3$_getUpdatedVie = _this3._getUpdatedViewData(newData, pessimistic),
          _this3$_getUpdatedVie2 = _slicedToArray(_this3$_getUpdatedVie, 2),
          newState = _this3$_getUpdatedVie2[0],
          oldData = _this3$_getUpdatedVie2[1];

      _this3.setState(newState, function () {
        return _this3._updateServer(key, newData, pessimistic, oldData, serverParams, resolve, reject);
      });
    });
  },
  updateData: function updateData(newData) {
    var _this4 = this;

    return new Promise(function (resolve) {
      _this4.setState(function (_ref) {
        var data = _ref.data;
        return {
          data: _objectSpread(_objectSpread({}, data), newData)
        };
      }, resolve);
    });
  },
  getData: function getData() {
    return Array.isArray(this.state.data) ? _toConsumableArray(this.state.data) : this.state.data ? _objectSpread({}, this.state.data) : null;
  },
  //@@viewOff:interface
  //@@viewOn:private
  _load: function _load() {
    var _this5 = this;

    var call = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.onLoad;
    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.data;
    var errorState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : "load";
    return new Promise(function (resolve, reject) {
      if (typeof call === "function") {
        call(data || null).then(function (data) {
          _this5.isRendered() && _this5.setState({
            viewState: "ready",
            errorState: null,
            errorData: null,
            data: data
          }, typeof resolve === "function" ? function () {
            return resolve(data);
          } : undefined);
        }).catch(function (errorData) {
          _this5.isRendered() && _this5.setState({
            errorData: errorData,
            viewState: "error",
            errorState: errorState
          }, typeof reject === "function" ? function () {
            return reject(errorData);
          } : undefined);
        });
      }
    });
  },
  _getUpdatedViewData: function _getUpdatedViewData(data, pessimistic) {
    var state,
        oldData = this.state.data;

    if (pessimistic) {
      state = {
        viewState: "update",
        errorState: null,
        errorData: null
      };
    } else {
      state = {
        data: data,
        errorState: null,
        errorData: null
      };
    }

    return [state, oldData];
  },
  _updateServer: function _updateServer(key, newData, pessimistic, oldData, serverParams, resolve, reject) {
    var _this6 = this;

    var call = this._getUpdateCall(key);

    var promise = call(newData, serverParams);

    if (pessimistic) {
      promise.then(function (dtoOut) {
        // update just client data - data returns from server was not displayed
        _this6.isRendered() && _this6.setState({
          viewState: "ready",
          errorState: null,
          errorData: null,
          data: dtoOut
        }, _this6._getPromiseCallback(resolve, dtoOut));
      }).catch(function (errorData) {
        _this6.showError("serverLoad", "updating", {
          context: {
            dtoOut: errorData
          }
        });

        var newState = {
          viewState: "error",
          errorState: "update",
          errorData: errorData
        };
        _this6.isRendered() && _this6.setState(newState, _this6._getPromiseCallback(reject, errorData));
      });
    } else {
      promise.then(function (dtoOut) {
        return _this6._getPromiseCallback(resolve, dtoOut)();
      }).catch(function (errorData) {
        _this6.showError("serverLoad", "updating", {
          context: {
            dtoOut: errorData
          }
        });

        var newState = {
          viewState: "error",
          errorState: "update",
          errorData: errorData
        };
        _this6.isRendered() && _this6.setState(_objectSpread(_objectSpread({}, newState), {}, {
          errorData: errorData,
          data: oldData
        }), _this6._getPromiseCallback(reject, errorData));
      });
    }
  },
  _getUpdateCall: function _getUpdateCall(key) {
    var call = this.props.onUpdate;
    if (call && call[key]) call = call[key];
    return call;
  },
  _getReloadCall: function _getReloadCall() {
    return this.props.onReload || this.props.onLoad;
  },
  _getPromiseCallback: function _getPromiseCallback(callback, data) {
    return function () {
      // this._startReload();
      typeof callback === "function" && callback(data);
    };
  },
  // _startReload() {
  //   if (this.props.reloadInterval) {
  //     this._interval = setInterval(
  //       () => this._load(this._getReloadCall(), undefined, "reload"),
  //       this.props.reloadInterval
  //     );
  //   }
  // },
  // _stopReload() {
  //   this._interval && clearInterval(this._interval);
  //   this._interval = undefined;
  // },
  _getValues: function _getValues() {
    return _objectSpread(_objectSpread({}, this.state), {}, {
      // clone
      data: this.getData(),
      handleLoad: this.load,
      handleReload: this.reload,
      handleUpdate: this.update
    });
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    return this.props.children(this._getValues());
  } //@@viewOff:render

});

DataManager.createContext = function () {
  var DataManagerContext = _context_js__WEBPACK_IMPORTED_MODULE_2__["default"].create();

  var createProvider = function createProvider(_ref2, ref) {
    var children = _ref2.children,
        props = _objectWithoutProperties(_ref2, _excluded);

    return UU5.Common.Element.create(DataManager, _extends({}, props, {
      ref_: ref
    }), function (values) {
      return UU5.Common.Element.create(DataManagerContext.Provider, {
        value: values
      }, children);
    });
  };

  var Provider = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(createProvider);
  return {
    Provider: Provider,
    Consumer: DataManagerContext.Consumer,
    Context: DataManagerContext
  };
};

/* harmony default export */ __webpack_exports__["default"] = (DataManager);

/***/ }),
/* 114 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Loader", function() { return Loader; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(55);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(16);
/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(75);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(106);
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(18);
/* harmony import */ var _component_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(66);
/* harmony import */ var _element_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(19);
var _excluded = ["children"];

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports








 //@@viewOff:imports

var Loader = _component_js__WEBPACK_IMPORTED_MODULE_7__["default"].create({
  displayName: "Loader",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_2__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: "UU5.Common.Loader",
    defaults: {
      reloadInterval: 10 * 1000 // 10s

    },
    errors: {
      loaderError: "Loader error:",
      onLoadNoPromise: "No promise returns from onLoad."
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    uri: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].string,
    method: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOf(["get", "post"]),
    data: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    headers: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    authenticate: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
    onLoad: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
    loading: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node,
    error: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func, uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].node]),
    reloadInterval: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].number
  },
  //@@viewOn:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      uri: undefined,
      method: "get",
      data: undefined,
      headers: undefined,
      authenticate: false,
      onLoad: undefined,
      loading: undefined,
      error: function error(dtoOut) {
        return UU5.Common.Element.create(_error_js__WEBPACK_IMPORTED_MODULE_4__["default"], {
          errorData: dtoOut,
          moreInfo: true,
          content: dtoOut.data && dtoOut.data.error ? dtoOut.data.error : dtoOut.error
        });
      },
      reloadInterval: undefined
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    return this._shouldLoad() ? {
      loaderState: "loading"
    } : {
      loaderState: "ready",
      data: this.props.data
    };
  },
  componentDidMount: function componentDidMount() {
    if (this._shouldLoad()) this._initLoading();
  },
  UNSAFE_componentWillReceiveProps: function UNSAFE_componentWillReceiveProps(nextProps) {
    if (this._shouldLoad(nextProps) && (this.props.onLoad !== nextProps.onLoad || this.props.uri !== nextProps.uri || this.props.data !== nextProps.data)) {
      this.setState({
        loaderState: "loading"
      });

      this._initLoading(nextProps);
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    if (this._interval) {
      clearInterval(this._interval);
    }
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _shouldLoad: function _shouldLoad() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;
    return !(!props.onLoad && !props.uri && props.data);
  },
  _done: function _done(data) {
    this.isRendered() && this.setState({
      loaderState: "ready",
      data: data
    });
  },
  _fail: function _fail(data) {
    this.showError("loaderError", null, {
      context: {
        dtoOut: data
      }
    });
    this.isRendered() && this.setState({
      loaderState: "error",
      data: data
    });
  },
  _load: function _load() {
    var _this = this;

    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;

    if (typeof props.onLoad === "function") {
      var processed = false;

      var done = function done(data) {
        if (!processed) {
          processed = true;

          _this._done(data);
        }
      };

      var fail = function fail(e) {
        if (!processed) {
          processed = true;

          _this._fail(e);
        }
      };

      var promise = props.onLoad({
        data: props.data,
        // TODO: backward compatibility (remove in the next major version)
        done: done,
        fail: fail
      }); // TODO if is for backward compatibility (uncomment to the next major version)

      if (promise && typeof promise.then === "function") {
        promise.then(done, fail);
      } // TODO: backward compatibility (uncomment to the next major version)
      // else {
      //   this.showError("onLoadNoPromise");
      // }

    } else if (props.uri) {
      this._doLoad(props).then(this._done, this._fail);
    }
  },
  _doLoad: function _doLoad(props) {
    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
      var headers, session;
      return regeneratorRuntime.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              headers = props.headers;
              session = _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].getSession();

              if (!(props.authenticate && session && session.isAuthenticated() && _environment_environment_js__WEBPACK_IMPORTED_MODULE_1__["default"].isTrustedDomain(props.uri))) {
                _context.next = 9;
                break;
              }

              _context.t0 = _objectSpread;
              _context.t1 = _objectSpread({}, headers);
              _context.next = 7;
              return _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].getAuthenticatedHeaders(props.uri, session);

            case 7:
              _context.t2 = _context.sent;
              headers = (0, _context.t0)(_context.t1, _context.t2);

            case 9:
              return _context.abrupt("return", _request_js__WEBPACK_IMPORTED_MODULE_5__["default"].call(props.method.toUpperCase(), props.uri, props.data, {
                headers: headers
              }));

            case 10:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }))();
  },
  _initLoading: function _initLoading() {
    var _this2 = this;

    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;

    this._load(props);

    if (this._interval) {
      clearInterval(this._interval);
    }

    if (props.reloadInterval) {
      this._interval = setInterval(function () {
        return _this2._load(props);
      }, Math.max(props.reloadInterval, this.getDefault("reloadInterval")));
    }
  },
  _getChildren: function _getChildren(children) {
    var _this3 = this;

    var result;

    if (typeof children === "function") {
      result = children({
        data: this.state.data
      });
    } else {
      result = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Content.map(children, function (child) {
        if (_element_js__WEBPACK_IMPORTED_MODULE_8__["default"].isValid(child)) {
          return _element_js__WEBPACK_IMPORTED_MODULE_8__["default"].clone(child, {
            data: _this3.state.data
          });
        } else {
          return child;
        }
      }) || null;
    }

    return result;
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var result;
    var isLoading = this.state.loaderState === "loading";
    var isError = this.state.loaderState === "error";

    if (typeof this.props.children === "function") {
      result = this.props.children({
        isLoading: isLoading,
        isError: isError,
        data: this.state.data
      });
    } else {
      if (isLoading) {
        result = this.props.loading !== undefined ? this.props.loading : _tools_js__WEBPACK_IMPORTED_MODULE_3__["default"].findComponent("UU5.Bricks.Loading");
      } else if (isError) {
        result = this._getChildren(this.props.error);
      } else {
        result = this._getChildren(this.props.children);
      }
    }

    return result;
  } //@@viewOff:render

});

Loader.createContext = function () {
  var LoaderContext = _context_js__WEBPACK_IMPORTED_MODULE_6__["default"].create();

  var createProvider = function createProvider(_ref, ref) {
    var children = _ref.children,
        props = _objectWithoutProperties(_ref, _excluded);

    return UU5.Common.Element.create(Loader, _extends({}, props, {
      ref_: ref
    }), function (values) {
      return UU5.Common.Element.create(LoaderContext.Provider, {
        value: values
      }, children);
    });
  };

  var Provider = uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Component.forwardRef(createProvider);
  return {
    Provider: Provider,
    Consumer: LoaderContext.Consumer,
    Context: LoaderContext
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Loader);

/***/ }),
/* 115 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PropMapper", function() { return PropMapper; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(55);
/* harmony import */ var _common_ns_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59);
/* harmony import */ var _component_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(66);
/* harmony import */ var _element_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(19);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports




 //@@viewOff:imports

var PropMapper = _component_js__WEBPACK_IMPORTED_MODULE_3__["default"].create({
  displayName: "PropMapper",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_1__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].name("PropMapper"),
    classNames: {
      main: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].css("prop-mapper")
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    data: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
    mapping: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object
  },
  //@@viewOn:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      data: undefined,
      mapping: undefined
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _getProps: function _getProps() {
    var _this = this;

    var props = {};

    if (this.props.data && this.props.mapping) {
      var _loop = function _loop(key) {
        var calculated = _this.props.data;
        var sArray = key.split(".");

        while (calculated && sArray.length > 0) {
          calculated = calculated[sArray.shift()];
        }

        if (calculated !== undefined) {
          var propKey = _this.props.mapping[key];

          if (Array.isArray(propKey)) {
            propKey.forEach(function (propName) {
              props[propName] = calculated;
            });
          } else {
            props[_this.props.mapping[key]] = calculated;
          }
        }
      };

      for (var key in this.props.mapping) {
        _loop(key);
      }
    } else {
      props = this.props.data;
    }

    return props;
  },
  _renderChildren: function _renderChildren() {
    var _this2 = this;

    return uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Content.map(this.props.children, function (child) {
      if (_element_js__WEBPACK_IMPORTED_MODULE_4__["default"].isValid(child)) {
        return _element_js__WEBPACK_IMPORTED_MODULE_4__["default"].clone(child, _this2._getProps());
      } else {
        return child;
      }
    });
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    return this._renderChildren();
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (PropMapper);

/***/ }),
/* 116 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Session", function() { return Session; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _uu5g05_integration_use_session_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(117);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SessionContext", function() { return _uu5g05_integration_use_session_js__WEBPACK_IMPORTED_MODULE_1__["SessionContext"]; });

/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(55);
/* harmony import */ var _identity_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(82);
/* harmony import */ var _component_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(66);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports




 //@@viewOff:imports
// TODO 2.0.0 Don't export.


var Session = _component_js__WEBPACK_IMPORTED_MODULE_4__["default"].create({
  displayName: "Session",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_2__["default"], _identity_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"]],
  // for backward compatibility only
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: "UU5.Common.Session"
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var children = this.props.children;
    return UU5.Common.Element.create(_uu5g05_integration_use_session_js__WEBPACK_IMPORTED_MODULE_1__["SessionProvider"], {
      session: this.getSession()
    }, children);
  } //@@viewOff:render

});
Session.Context = _uu5g05_integration_use_session_js__WEBPACK_IMPORTED_MODULE_1__["SessionContext"];
Session._Provider = _uu5g05_integration_use_session_js__WEBPACK_IMPORTED_MODULE_1__["SessionProvider"]; // for uu5g04-hooks only

/* harmony default export */ __webpack_exports__["default"] = (Session);

/***/ }),
/* 117 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SessionContext", function() { return SessionContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SessionProvider", function() { return SessionProvider; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useSession", function() { return uu5g05__WEBPACK_IMPORTED_MODULE_0__["useSession"]; });

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var SessionContext = uu5g05__WEBPACK_IMPORTED_MODULE_0__["useSession"]._context;
var sessionHolder = uu5g05__WEBPACK_IMPORTED_MODULE_0__["useSession"]._sessionHolder;

var registerSession = function registerSession(session, setIdentity, setExpiring) {
  var rollback;
  var isSession = !!Object.keys(session).length;

  var changeIdentity = function changeIdentity() {
    if (typeof session.getIdentity === "function") {
      var newIdentity = session.isAuthenticated() ? session.getIdentity() : null;
      setIdentity(function (curIdentity) {
        return newIdentity !== curIdentity && (!newIdentity || !curIdentity || JSON.stringify(newIdentity) !== JSON.stringify(curIdentity)) ? newIdentity : curIdentity;
      });
    }
  };

  var expireSession = function expireSession() {
    return setExpiring(true);
  };

  var extendSession = function extendSession() {
    return setExpiring(false);
  };

  if (isSession) {
    if (session.initComplete) {
      session.addListener("identityChange", changeIdentity);
      session.addListener("sessionExpiring", expireSession);
      session.addListener("sessionExtended", extendSession);
    } else {
      session.initPromise.then(function () {
        if (rollback) return;
        changeIdentity();
        setExpiring(session.isExpiring());
        session.addListener("identityChange", changeIdentity);
        session.addListener("sessionExpiring", expireSession);
        session.addListener("sessionExtended", extendSession);
      });
    }
  }

  return function () {
    rollback = true;

    if (isSession) {
      session.removeListener("identityChange", changeIdentity);
      session.removeListener("sessionExpiring", expireSession);
      session.removeListener("sessionExtended", extendSession);
    }
  };
};

var SessionProvider = Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["createComponent"])({
  uu5Tag: "UU5.Hooks.SessionProvider",
  propTypes: {
    session: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].shape({
      initComplete: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].bool,
      initPromise: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].object,
      addListener: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      removeListener: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      getIdentity: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      isAuthenticated: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func,
      isExpiring: uu5g05__WEBPACK_IMPORTED_MODULE_0__["PropTypes"].func // TODO login, logout

    }).isRequired
  },
  defaultProps: {
    session: undefined
  },
  render: function render(_ref) {
    var session = _ref.session,
        children = _ref.children;

    var _useState = Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useState"])(function () {
      return session && !session.initComplete ? undefined : !session || !session.isAuthenticated() ? null : session.getIdentity();
    }),
        _useState2 = _slicedToArray(_useState, 2),
        identity = _useState2[0],
        setIdentity = _useState2[1];

    var _useState3 = Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useState"])(function () {
      return session && session.initComplete ? session.isExpiring() : false;
    }),
        _useState4 = _slicedToArray(_useState3, 2),
        isExpiring = _useState4[0],
        setExpiring = _useState4[1];

    var prevSession = Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["usePreviousValue"])(session, session);

    if (session !== prevSession) {
      setIdentity(session && !session.initComplete ? undefined : !session || !session.isAuthenticated() ? null : session.getIdentity());
      setExpiring(session && session.initComplete ? session.isExpiring() : false);
    }

    Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useLayoutEffect"])(function () {
      var unregister = registerSession(session, setIdentity, setExpiring);
      return function () {
        return unregister();
      };
    }, [session]);
    var value = Object(uu5g05__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
      var sessionState = "pending";

      if (identity) {
        sessionState = "authenticated";
      } else if (identity === null) {
        sessionState = "notAuthenticated";
      } // NOTE Keep value in sync with uu5g05.


      return {
        state: sessionState,
        identity: identity,
        isExpiring: isExpiring,
        session: session,
        login: function login() {
          return typeof session.login === "function" && session.login.apply(session, arguments) || Promise.resolve();
        },
        logout: function logout() {
          return typeof session.logout === "function" && session.logout.apply(session, arguments).catch(function (e) {
            // TODO error
            console.error("User ".concat(identity.uuIdentity, " is not logged out."), e);
          }) || Promise.resolve();
        }
      };
    }, [identity, isExpiring, session]); // remember session as "global"
    // NOTE This assumes that there's always rendered at most 1 SessionProvider.
    // NOTE This must be set sooner than in useEffect because it must be available within
    // 1st render (when uu5string parsing might be happenning).

    if (sessionHolder) sessionHolder.session = value;
    return UU5.Common.Element.create(SessionContext.Provider, {
      value: value
    }, children);
  }
});


/***/ }),
/* 118 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Identity", function() { return Identity; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _session_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(116);
/* harmony import */ var _identity_item_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(119);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55);
/* harmony import */ var _content_mixin_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(61);
/* harmony import */ var _visual_component_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(65);
/* harmony import */ var _element_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(19);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports






 //@@viewOff:imports

var Identity = _visual_component_js__WEBPACK_IMPORTED_MODULE_5__["default"].create({
  displayName: "Identity",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"], _content_mixin_js__WEBPACK_IMPORTED_MODULE_4__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: "UU5.Common.Identity"
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _getChildren: function _getChildren(opt) {
    var children, childItem;
    var authProp = opt.identity === undefined ? "pending" : opt.identity === null ? "notAuthenticated" : "authenticated";

    if (typeof this.props.children === "function") {
      // fce
      children = this.props.children(opt);
    } else {
      var allChildren = this.getChildren();

      if (allChildren) {
        if (!Array.isArray(allChildren)) allChildren = [allChildren];
        children = allChildren.map(function (child) {
          var newChild = child;

          if (_element_js__WEBPACK_IMPORTED_MODULE_6__["default"].isValid(child)) {
            if (child.type.tagName === _identity_item_js__WEBPACK_IMPORTED_MODULE_2__["default"].tagName) {
              if (child.props[authProp]) {
                // Identity.Item
                childItem = _element_js__WEBPACK_IMPORTED_MODULE_6__["default"].clone(child, opt);
              } else {
                newChild = null;
              }
            } else {
              // ...opt as props
              newChild = _element_js__WEBPACK_IMPORTED_MODULE_6__["default"].clone(child, opt);
            }
          }

          return newChild;
        });
      }
    }

    return childItem || children || null;
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    return UU5.Common.Element.create(_session_js__WEBPACK_IMPORTED_MODULE_1__["Session"].Context.Consumer, null, this._getChildren);
  } //@@viewOff:render

});
Identity.Item = _identity_item_js__WEBPACK_IMPORTED_MODULE_2__["default"];
/* harmony default export */ __webpack_exports__["default"] = (Identity);

/***/ }),
/* 119 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(55);
/* harmony import */ var _content_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(61);
/* harmony import */ var _visual_component_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(65);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports




 //@@viewOff:imports

var IdentityItem = _visual_component_js__WEBPACK_IMPORTED_MODULE_4__["default"].create({
  displayName: "IdentityItem",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_2__["default"], _content_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: "UU5.Common.Identity.Item"
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    pending: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    authenticated: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool,
    notAuthenticated: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].bool
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      pending: false,
      authenticated: false,
      notAuthenticated: false
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    return this.getChildren();
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (IdentityItem);

/***/ }),
/* 120 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Redirect", function() { return Redirect; });
/* harmony import */ var _common_ns_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(59);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(55);
/* harmony import */ var _visual_component_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65);
/* harmony import */ var _url_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(23);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(16);
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports





 //@@viewOff:imports

var Redirect = _visual_component_js__WEBPACK_IMPORTED_MODULE_3__["default"].create({
  displayName: "Redirect",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_2__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    tagName: _common_ns_js__WEBPACK_IMPORTED_MODULE_0__["default"].name("Redirect"),
    classNames: {
      main: _common_ns_js__WEBPACK_IMPORTED_MODULE_0__["default"].css("redirect")
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  propTypes: {
    uri: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string,
    target: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOf(["_blank", "_parent", "_top", "_self"])
  },
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  getDefaultProps: function getDefaultProps() {
    return {
      uri: undefined,
      target: "_self"
    };
  },
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  componentDidMount: function componentDidMount() {
    if (this.props.uri) {
      _tools_js__WEBPACK_IMPORTED_MODULE_5__["default"].openWindow(_url_js__WEBPACK_IMPORTED_MODULE_4__["default"].getAbsoluteUri(this.props.uri), this.props.target || "_self");
    }
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    return null;
  } //@@viewOff:render

});
/* harmony default export */ __webpack_exports__["default"] = (Redirect);

/***/ }),
/* 121 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimeZoneContext", function() { return TimeZoneContext; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useTimeZone", function() { return uu5g05__WEBPACK_IMPORTED_MODULE_0__["useTimeZone"]; });

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var TimeZoneContext = uu5g05__WEBPACK_IMPORTED_MODULE_0__["useTimeZone"]._context;


/***/ }),
/* 122 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserPreferencesContext", function() { return UserPreferencesContext; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserPreferencesProvider", function() { return uu5g05__WEBPACK_IMPORTED_MODULE_0__["UserPreferencesProvider"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useUserPreferences", function() { return uu5g05__WEBPACK_IMPORTED_MODULE_0__["useUserPreferences"]; });

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var UserPreferencesContext = uu5g05__WEBPACK_IMPORTED_MODULE_0__["useUserPreferences"]._context;


/***/ }),
/* 123 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DnD", function() { return DnD; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16);
/* harmony import */ var _context_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(18);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55);
/* harmony import */ var _component_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(66);
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
//@@viewOn:imports




 //@@viewOff:imports

var DnDContext = _context_js__WEBPACK_IMPORTED_MODULE_2__["default"].create({});
var PassThrough = _component_js__WEBPACK_IMPORTED_MODULE_4__["default"].create({
  displayName: "PassThrough",
  // for backward compatibility (test snapshots)
  render: function render() {
    return this.props.children || null;
  }
});
/** Initializes react-dnd's DragDropContext and provides it to drag&drop context. */

var Provider = _component_js__WEBPACK_IMPORTED_MODULE_4__["default"].create({
  displayName: "Provider",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  //@@viewOff:mixins
  //@@viewOn:statics
  statics: {
    _initedDnD: {},
    _getDragDropContextFromReactDnD: function _getDragDropContextFromReactDnD() {
      var partialDragDropContext;

      if (typeof SystemJS !== "undefined") {
        var reactDnd = SystemJS.get(SystemJS.normalizeSync("react-dnd"));

        if (reactDnd && reactDnd.DragDropContext) {
          var backend = SystemJS.get(SystemJS.normalizeSync(UU5.Common.Tools.isMobileOrTablet ? "react-dnd-touch-backend" : "react-dnd-html5-backend"));

          if (backend) {
            if (backend.default) backend = backend.default; // re-use partialDragDropContext as much as possible to prevent React's error "Cannot have 2 backends at the same time."

            if (this._initedDnD.DragDropContext === reactDnd.DragDropContext && this._initedDnD.backend === backend) {
              partialDragDropContext = this._initedDnD.partialDragDropContext;
            } else {
              partialDragDropContext = reactDnd.DragDropContext(backend);
              this._initedDnD = {
                DragDropContext: reactDnd.DragDropContext,
                backend: backend,
                partialDragDropContext: partialDragDropContext
              };
            }
          }
        }
      }

      return partialDragDropContext;
    }
  },
  //@@viewOff:statics
  //@@viewOn:propTypes
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  getInitialState: function getInitialState() {
    var partialDragDropContext = this.constructor._getDragDropContextFromReactDnD();

    return {
      value: {
        componentWithContext: null,
        checkDnDAvailability: this.checkDnDAvailability
      },
      partialDragDropContext: partialDragDropContext,
      componentClass: partialDragDropContext ? partialDragDropContext(PassThrough) : null,
      needsExtraCheck: !partialDragDropContext
    };
  },
  componentDidMount: function componentDidMount() {
    var _this = this;

    // NOTE Detection in SystemJS whether "react-dnd" is loaded sometimes needs to wait for promise processing phase
    // (if using SystemJS.import("xyz").then(callback), then the detection will work in "callback" fn - i.e. it'll work
    // in uu5-app pages, but it won't work in uu5-lib demo pages because they're internally transpiled and run immediately)
    // => wait for promise processing phase if necessary
    if (this.state.needsExtraCheck) {
      Promise.resolve().then(function () {
        if (!_this._unmounted) {
          var partialDragDropContext = _this.constructor._getDragDropContextFromReactDnD();

          if (!partialDragDropContext) {
            _tools_js__WEBPACK_IMPORTED_MODULE_1__["default"].error("Unable to initialize drag&drop because react-dnd is not loaded in the page. Make sure that the application imports react-dnd, react-dnd-html5-backend and react-dnd-touch-backend.");
          }

          _this.setState({
            partialDragDropContext: partialDragDropContext,
            componentClass: partialDragDropContext ? partialDragDropContext(PassThrough) : null,
            needsExtraCheck: false
          });
        }
      });
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    this._unmounted = true;
  },
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  checkDnDAvailability: function checkDnDAvailability() {
    var partialDragDropContext = this.state.partialDragDropContext;

    if (!partialDragDropContext) {
      partialDragDropContext = this.constructor._getDragDropContextFromReactDnD();

      if (partialDragDropContext) {
        this.setState({
          partialDragDropContext: partialDragDropContext,
          componentClass: partialDragDropContext ? partialDragDropContext(PassThrough) : null
        });
      }
    }

    return !!partialDragDropContext;
  },
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _setComponentWithContextRef: function _setComponentWithContextRef(componentWithContext) {
    this.setState(function (state) {
      var result;

      if (state.partialDragDropContext && state.value.componentWithContext !== componentWithContext) {
        result = {
          value: _objectSpread(_objectSpread({}, state.value), {}, {
            componentWithContext: componentWithContext
          }),
          needsExtraCheck: !state.partialDragDropContext
        };
      }

      return result;
    });
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    var _this$state = this.state,
        needsExtraCheck = _this$state.needsExtraCheck,
        value = _this$state.value;
    var ComponentWithContext = this.state.componentClass || PassThrough;
    return UU5.Common.Element.create(DnDContext.Provider, {
      value: value
    }, UU5.Common.Element.create(ComponentWithContext, {
      key: "dnd-wrap",
      ref: this._setComponentWithContextRef
    }, needsExtraCheck ? null : this.props.children));
  } //@@viewOff:render

});
/**
 * Receives initialized DragDropContext and passes dragDropManager prop to the Component in prop "component".
 * If there's no DnDProvider in hierarchy above, it'll initialize one.
 */

var DnDConsumerWrapper = _component_js__WEBPACK_IMPORTED_MODULE_4__["default"].create({
  displayName: "DnDConsumerWrapper",
  // for backward compatibility (test snapshots)
  //@@viewOn:mixins
  mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"]],
  //@@viewOff:mixins
  //@@viewOn:statics
  //@@viewOff:statics
  //@@viewOn:propTypes
  //@@viewOff:propTypes
  //@@viewOn:getDefaultProps
  //@@viewOff:getDefaultProps
  //@@viewOn:reactLifeCycle
  //@@viewOff:reactLifeCycle
  //@@viewOn:interface
  //@@viewOff:interface
  //@@viewOn:overriding
  //@@viewOff:overriding
  //@@viewOn:private
  _setCheckerRef: function _setCheckerRef(ref) {
    if (ref) {
      var result = this._checkDnDAvailability();

      if (!result) this.forceUpdate(); // DnD not available, i.e. Context value didn't change during _checkDnDAvailability => forceUpdate to re-render ourselves (and render our children)
      // else no-op - DnD is available, i.e. Context value will change (because Provider updated value due to _checkDnDAvailability) => don't do anything as we'll re-render automatically
    }
  },
  _renderConsumerInnerChild: function _renderConsumerInnerChild(_ref) {
    var componentWithContext = _ref.componentWithContext,
        checkDnDAvailability = _ref.checkDnDAvailability;
    var result;

    if (!componentWithContext && typeof checkDnDAvailability === "function" && this._checkDnDAvailability !== checkDnDAvailability) {
      this._checkDnDAvailability = checkDnDAvailability;
      result = UU5.Common.Element.create(PassThrough, {
        ref: this._setCheckerRef
      });
    } else {
      var _Component = this.props.component;
      var _this$props = this.props,
          componentProps = _this$props.componentProps,
          componentRef = _this$props.componentRef;
      result = UU5.Common.Element.create(_Component, _extends({
        dragDropManager: componentWithContext ? componentWithContext.getManager() : null,
        parent: this
      }, componentProps, {
        ref: componentRef
      }));
    }

    return result;
  },
  _renderConsumerOuterChild: function _renderConsumerOuterChild(_ref2) {
    var componentWithContext = _ref2.componentWithContext,
        checkDnDAvailability = _ref2.checkDnDAvailability;
    var result;

    if (typeof checkDnDAvailability !== "function") {
      if (this.props.componentProps.omitDragDropContext) {
        // we don't have DragDropContextProvider above us but we have omitDragDropContext
        // => handle as if Page initialized react-dnd's DragDropContext on its own without using our DnDProvider
        // (i.e. without <Page useDnD={true} .../>) and don't initialize our own
        result = this._renderConsumerInnerChild({});
      } else {
        // we don't have DragDropContextProvider above us => create one
        result = UU5.Common.Element.create(Provider, null, UU5.Common.Element.create(DnDContext.Consumer, null, this._renderConsumerInnerChild));
      }
    } else {
      this._hasOuterDnDProvider = true;
      result = this._renderConsumerInnerChild({
        componentWithContext: componentWithContext,
        checkDnDAvailability: checkDnDAvailability
      });
    }

    return result;
  },
  //@@viewOff:private
  //@@viewOn:render
  render: function render() {
    return UU5.Common.Element.create(DnDContext.Consumer, null, this._renderConsumerOuterChild);
  } //@@viewOff:render

});

var withContext = function withContext(Component) {
  var result = react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef(function (props, ref) {
    return UU5.Common.Element.create(DnDConsumerWrapper, {
      component: Component,
      componentProps: props,
      componentRef: ref
    });
  });
  var compName = Component.tagName || Component.displayName || Component.name || "Component";
  result.isUu5PureComponent = !!Component.tagName;
  result.hocFor = Component;
  result.displayName = "withDnDContext(".concat(compName, ")");
  return result;
};

var DnD = {
  Provider: Provider,
  withContext: withContext
};

/***/ }),
/* 124 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Portal", function() { return Portal; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var Portal = function Portal() {
  _classCallCheck(this, Portal);
};

_defineProperty(Portal, "create", (uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Dom || uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].DOM).createPortal);

/* harmony default export */ __webpack_exports__["default"] = (Portal);

/***/ }),
/* 125 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Reference", function() { return Reference; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */

var Reference = function Reference() {
  _classCallCheck(this, Reference);
};

_defineProperty(Reference, "create", uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Component.createRef);

_defineProperty(Reference, "forward", uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Component.forwardRef);

/* harmony default export */ __webpack_exports__["default"] = (Reference);

/***/ }),
/* 126 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalBusContext", function() { return ModalBusContext; });
/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18);

var ModalBusContext = _context__WEBPACK_IMPORTED_MODULE_0__["default"].create();
/* harmony default export */ __webpack_exports__["default"] = (ModalBusContext);

/***/ }),
/* 127 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withVisibilityCheck", function() { return withVisibilityCheck; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _common_ns_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59);
/* harmony import */ var _base_mixin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55);
/* harmony import */ var _css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(43);
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(66);
var _templateObject;

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

//@@viewOn:imports





 //@@viewOff:imports

var VISIBILITY_CHECK_ALLOWED = !navigator.webdriver; // don't check visibility if running in headless browser (e.g. when generating PDFs on server)

var withVisibilityCheck = function withVisibilityCheck(Component) {
  var reserve = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;
  if (typeof IntersectionObserver === "undefined" || !VISIBILITY_CHECK_ALLOWED) return Component;
  var VisibilityCheck = _component__WEBPACK_IMPORTED_MODULE_5__["default"].create({
    //@@viewOn:mixins
    mixins: [_base_mixin_js__WEBPACK_IMPORTED_MODULE_3__["default"]],
    //@@viewOff:mixins
    //@@viewOn:statics
    statics: {
      tagName: _common_ns_js__WEBPACK_IMPORTED_MODULE_2__["default"].name("withVisibilityCheck"),
      classNames: {
        placeholder: function placeholder() {
          return _css__WEBPACK_IMPORTED_MODULE_4__["default"].css(_templateObject || (_templateObject = _taggedTemplateLiteral(["\n          display: inline-block;\n          height: 1px;\n          width: 1px;\n        "])));
        }
      },
      opt: {
        hoc: true
      }
    },
    //@@viewOff:statics
    //@@viewOn:propTypes
    propTypes: {
      width: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].number, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string]),
      height: uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].oneOfType([uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].number, uu5g05__WEBPACK_IMPORTED_MODULE_1__["PropTypes"].string])
    },
    //@@viewOff:propTypes
    //@@viewOn:getDefaultProps
    getDefaultProps: function getDefaultProps() {
      return {
        width: undefined,
        height: undefined
      };
    },
    //@@viewOff:getDefaultProps
    //@@viewOn:reactLifeCycle
    getInitialState: function getInitialState() {
      return {
        visible: false
      };
    },
    componentDidMount: function componentDidMount() {
      var domNodeRect = this._domNode.getBoundingClientRect();

      var isVisible = domNodeRect.top <= window.innerHeight + reserve && domNodeRect.bottom >= -reserve;

      if (isVisible) {
        this.setState({
          visible: true
        });
      } else {
        this._observer = new IntersectionObserver(this._onIntersected, {
          rootMargin: reserve + "px"
        });

        this._observer.observe(this._domNode);
      }
    },
    componentWillUnmount: function componentWillUnmount() {
      if (this._observer) this._observer.disconnect();
    },
    //@@viewOff:reactLifeCycle
    //@@viewOn:private
    _onIntersected: function _onIntersected(entries, observer) {
      var entry = entries[entries.length - 1];

      if (entry && entry.isIntersecting) {
        observer.disconnect();
        this.setState({
          visible: true
        });
      }
    },
    _setRef: function _setRef(comp) {
      this._domNode = comp;
    },
    //@@viewOff:private
    //@@viewOn:render
    render: function render() {
      var visible = this.state.visible;
      var style = this.getMainAttrs().style || {};

      if (this.props.width) {
        style.width = this.props.width;
      }

      if (this.props.height) {
        style.height = this.props.height;
      }

      return visible ? UU5.Common.Element.create(Component, this.props) : UU5.Common.Element.create("span", {
        ref: this._setRef,
        className: this.getClassName("placeholder"),
        style: style
      });
    } //@@viewOff:render

  });
  return VisibilityCheck;
};
/* harmony default export */ __webpack_exports__["default"] = (withVisibilityCheck);

/***/ }),
/* 128 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "alertCircle", function() { return alertCircle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "arrowDown", function() { return arrowDown; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "arrowLeft", function() { return arrowLeft; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "arrowRight", function() { return arrowRight; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "arrowUp", function() { return arrowUp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calendar", function() { return calendar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clock", function() { return clock; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cross", function() { return cross; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "errorCircle", function() { return errorCircle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "finder", function() { return finder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "flagUpload", function() { return flagUpload; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "menu", function() { return menu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "minus", function() { return minus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ok", function() { return ok; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "okCircle", function() { return okCircle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "person", function() { return person; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "picture", function() { return picture; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "plus", function() { return plus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "point", function() { return point; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "thumb", function() { return thumb; });
/**
 * Copyright (C) 2021 Unicorn a.s.
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License at
 * <https://gnu.org/licenses/> for more details.
 *
 * You may obtain additional information at <https://unicorn.com> or contact Unicorn a.s. at address: V Kapslovne 2767/2,
 * Praha 3, Czech Republic or at the email: info@unicorn.com.
 */
var prefix = "uu5-";
var alertCircle = "".concat(prefix, "alert-circle");
var arrowDown = "".concat(prefix, "arrow-down");
var arrowLeft = "".concat(prefix, "arrow-left");
var arrowRight = "".concat(prefix, "arrow-right");
var arrowUp = "".concat(prefix, "arrow-up");
var calendar = "".concat(prefix, "calendar");
var clock = "".concat(prefix, "clock");
var cross = "".concat(prefix, "cross");
var errorCircle = "".concat(prefix, "error-circle");
var finder = "".concat(prefix, "finder");
var flagUpload = "".concat(prefix, "flag-upload");
var menu = "".concat(prefix, "menu");
var minus = "".concat(prefix, "minus");
var ok = "".concat(prefix, "ok");
var okCircle = "".concat(prefix, "ok-circle");
var person = "".concat(prefix, "person");
var picture = "".concat(prefix, "picture");
var plus = "".concat(prefix, "plus");
var point = "".concat(prefix, "point");
var thumb = "".concat(prefix, "thumb");

/***/ }),
/* 129 */
/***/ (function(module, exports, __webpack_require__) {

var Uu5g05 = __webpack_require__(10);

var exportsInitedOnFirstAccess = {
  Clipboard: function Clipboard() {
    return Uu5g05.Utils;
  },
  EventManager: function EventManager() {
    return Uu5g05.Utils;
  },
  Uu5Loader: function Uu5Loader() {
    return Uu5g05.Utils;
  },
  ColorSchema: function ColorSchema() {
    return __webpack_require__(130);
  },
  Content: function Content() {
    return __webpack_require__(131);
  },
  LoggerFactory: function LoggerFactory() {
    return __webpack_require__(24);
  },
  Lsi: function Lsi() {
    return __webpack_require__(21);
  },
  NestingLevel: function NestingLevel() {
    return __webpack_require__(132);
  },
  ScreenSize: function ScreenSize() {
    return __webpack_require__(20);
  },
  Session: function Session() {
    return __webpack_require__(133);
  }
};
module.exports = {};
var propDescriptors = {};

var _loop = function _loop(k) {
  var ex = void 0;
  propDescriptors[k] = {
    get: function get() {
      var _exportsInitedOnFirst;

      if (ex === undefined) ex = (_exportsInitedOnFirst = exportsInitedOnFirstAccess[k]()) === null || _exportsInitedOnFirst === void 0 ? void 0 : _exportsInitedOnFirst[k];
      return ex;
    },
    enumerable: true
  };
};

for (var k in exportsInitedOnFirstAccess) {
  _loop(k);
}

Object.defineProperties(module.exports, propDescriptors);

/***/ }),
/* 130 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorSchema", function() { return ColorSchema; });
/* harmony import */ var _environment_environment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(11);

var ColorSchema = {
  getClassName: function getClassName(colorSchema) {
    var result = colorSchema ? "color-schema-" + colorSchema : "";

    if (result) {
      var usedColorSchema = _environment_environment__WEBPACK_IMPORTED_MODULE_0__["default"].getColorSchema(colorSchema);
      if (usedColorSchema && usedColorSchema !== colorSchema) result = "color-schema-" + usedColorSchema + " " + result;
    }

    return result;
  }
};
/* harmony default export */ __webpack_exports__["default"] = (ColorSchema);

/***/ }),
/* 131 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Content", function() { return Content; });
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);
/* harmony import */ var uu5g05__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uu5g05__WEBPACK_IMPORTED_MODULE_0__);

var Content = {
  getChildren: uu5g05__WEBPACK_IMPORTED_MODULE_0__["Utils"].Content.build
};
/* harmony default export */ __webpack_exports__["default"] = (Content);

/***/ }),
/* 132 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _uu5g05_integration_nesting_level__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(47);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NestingLevel", function() { return _uu5g05_integration_nesting_level__WEBPACK_IMPORTED_MODULE_0__["default"]; });



/* harmony default export */ __webpack_exports__["default"] = (_uu5g05_integration_nesting_level__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),
/* 133 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Session", function() { return Session; });
var Session = {
  register: function register(session, setIdentity, setExpiring) {
    var rollback;
    var isSession = !!Object.keys(session).length;

    var changeIdentity = function changeIdentity() {
      var _session$isAuthentica;

      return typeof session.getIdentity === "function" && setIdentity(((_session$isAuthentica = session.isAuthenticated) === null || _session$isAuthentica === void 0 ? void 0 : _session$isAuthentica.call(session)) !== false ? session.getIdentity() : null);
    };

    var expireSession = function expireSession() {
      return setExpiring(true);
    };

    var extendSession = function extendSession() {
      return setExpiring(false);
    };

    if (isSession) {
      if (session.initComplete) {
        session.addListener("identityChange", changeIdentity);
        session.addListener("sessionExpiring", expireSession);
        session.addListener("sessionExtended", extendSession);
      } else {
        session.initPromise.then(function () {
          if (rollback) return;
          changeIdentity();
          setExpiring(session.isExpiring());
          session.addListener("identityChange", changeIdentity);
          session.addListener("sessionExpiring", expireSession);
          session.addListener("sessionExtended", extendSession);
        });
      }
    }

    return function () {
      rollback = true;

      if (isSession) {
        session.removeListener("identityChange", changeIdentity);
        session.removeListener("sessionExpiring", expireSession);
        session.removeListener("sessionExtended", extendSession);
      }
    };
  }
};

/* harmony default export */ __webpack_exports__["default"] = (Session);

/***/ })
/******/ ]);
});
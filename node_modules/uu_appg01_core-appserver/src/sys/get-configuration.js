"use strict";

const { Config } = require("uu_appg01_core-utils");
const Sys = require("./sys.js");

/**
 * Allows reading server configuration.
 */
class GetConfiguration {

  static call(ucEnv) {
    Sys.authorize(ucEnv);
    let response = Object.assign({}, Sys.getAppInfo());
    response.runtimeProfileList = Config.activeProfiles;
    response.configuration = Config.toJSON(false);
    response.uuAppErrorMap = {};
    return response;
  }

}

module.exports = GetConfiguration;

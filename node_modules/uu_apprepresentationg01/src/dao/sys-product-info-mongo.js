"use strict";

const { UuObjectDao } = require("uu_appg01_objectstore");

class SysProductInfoMongo extends UuObjectDao {
  async createSchema() {
    await super.createIndex(
      {
        awid: 1,
      },
      { unique: true }
    );
  }

  create(uuObject) {
    return super.insertOne(uuObject);
  }

  getByAwid(awid) {
    return super.findOne({ awid });
  }

  updateByAwid(uuObject) {
    return super.findOneAndUpdate(
      {
        awid: uuObject.awid,
      },
      uuObject,
      "NONE"
    );
  }
}

module.exports = SysProductInfoMongo;
